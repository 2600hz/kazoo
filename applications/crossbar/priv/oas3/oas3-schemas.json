system_config.acdc:
  description: Schema for acdc system_config
  properties:
    agent_info_fields:
      default:
        - first_name
        - last_name
        - username
        - email
      description: acdc agent info fields
      items:
        type: string
      type: array
    archive_period_ms:
      default: 60000
      description: acdc archive period in milliseconds
      type: integer
    archive_window_s:
      default: 3600
      description: acdc archive window in seconds
      type: integer
    cleanup_period_ms:
      default: 360000
      description: acdc cleanup period in milliseconds
      type: integer
    cleanup_window_s:
      default: 86400
      description: acdc cleanup window in seconds
      type: integer
    default_agent_pause_timeout:
      default: 600
      description: acdc default agent pause timeout
      type: integer
    max_connect_failures:
      default: 3
      description: acdc maximum connect failures
      type: integer
    max_result_set:
      default: 25
      description: acdc maximum result set
      type: integer
    queue_collect_resp_timeout:
      default: 2000
      description: acdc queue collect resp timeout
      type: integer
    queue_worker_count:
      default: 5
      description: acdc queue worker count
      type: integer
    stats_query_limits_enabled:
      default: true
      description: >-
        When enabled, prevent stats queries with limits greater than
        max_result_set
      type: boolean
  type: object
system_config.braintree:
  description: Schema for braintree system_config
  properties:
    client_token_version:
      default: 2
      description: braintree client token version
      type: string
    debug:
      default: false
      description: braintree debug
      type: boolean
    default_environment:
      default: ''
      description: braintree default environment
      type: string
    default_merchant_id:
      default: ''
      description: braintree default merchant id
      type: string
    default_private_key:
      default: ''
      description: braintree default private key
      type: string
    default_public_key:
      default: ''
      description: braintree default public key
      type: string
    max_amount:
      default: 200
      description: braintree maximum amount
      type: number
    min_amount:
      default: 5
      description: braintree minimum amount
      type: number
    should_prorate:
      default: true
      description: braintree should prorate
      type: boolean
  type: object
system_config.auth:
  description: Schema for auth system_config
  properties:
    default_multi_factor_provider:
      default: duo
      description: Default multi factor authentication provider name
      type: string
    secret_for_user_signature:
      description: auth secret for user signature
      type: string
    system_key:
      description: auth system key
      type: string
  type: object
callflows.tts:
  description: Validator for the TTS (Text-to-speech) callflow action
  properties:
    endless_playback:
      description: Loop the media until canceled
      type: boolean
    engine:
      description: What TTS engine to use
      enum:
        - flite
        - google
        - ispeech
        - voicefabric
      type: string
    language:
      description: The language of the speaker
      type: string
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate playback of the audio
      items:
        type: string
      type: array
    text:
      description: The text to speak
      maxLength: 1000
      minLength: 1
      type: string
    voice:
      default: female
      description: What voice to use when speaking the text
      type: string
  required:
    - text
  type: object
system_config.ips:
  description: Schema for ips system_config
  properties:
    zone_name_map:
      default: {}
      description: ips zone_name_map
      type: object
  type: object
users:
  description: Schema for a user
  properties:
    first_name:
      description: The first name of the user
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    call_waiting:
      $ref: '#/components/schemas/call_waiting'
    enabled:
      default: true
      description: Determines if the user is currently enabled
      type: boolean
      x-support_level: supported
    username:
      description: >-
        The GUI login username - alpha-numeric, dashes, at symbol, periods,
        plusses, and underscores allowed
      maxLength: 256
      minLength: 1
      pattern: '^([+@.\w_-]+)$'
      type: string
      x-support_level: supported
    directories:
      description: >-
        Provides the mappings for what directory the user is a part of (the
        key), and what callflow (the value) to invoke if the user is selected by
        the caller.
      type: object
    voicemail:
      properties:
        notify:
          properties:
            callback:
              $ref: '#/components/schemas/notify.callback'
          type: object
      type: object
    timezone:
      description: User's timezone
      type: string
      x-support_level: supported
    caller_id_options:
      description: custom properties for configuring caller_id
      properties:
        outbound_privacy:
          description: >-
            Determines what appears as caller id for offnet outbound calls.
            Values: full - hides name and number; name - hides only name; number
            - hides only number; none - hides nothing
          enum:
            - full
            - name
            - number
            - none
          type: string
      type: object
    last_name:
      description: The last name of the user
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    music_on_hold:
      default: {}
      description: The music on hold parameters used if not a property of the device owner
      properties:
        media_id:
          description: The ID of a media object that should be used as the music on hold
          maxLength: 128
          type: string
      type: object
    do_not_disturb:
      description: DND Parameters
      properties:
        enabled:
          description: Is do-not-disturb enabled for this user?
          type: boolean
      type: object
    contact_list:
      default: {}
      description: Contact List Parameters
      properties:
        exclude:
          description: If set to true the device is excluded from the contact list
          type: boolean
          x-support_level: supported
      type: object
    verified:
      default: false
      description: Determines if the user has been verified
      type: boolean
    formatters:
      $ref: '#/components/schemas/formatters'
      type: object
    pronounced_name:
      description: Name pronounced by user to introduce himself to conference members
      properties:
        media_id:
          description: The ID of a media object that should be used as the music on hold
          maxLength: 128
          type: string
      type: object
    priv_level:
      default: user
      description: The privilege level of the user
      enum:
        - user
        - admin
      type: string
      x-support_level: supported
    dial_plan:
      $ref: '#/components/schemas/dialplans'
      description: A list of rules used to modify dialed numbers
    presence_id:
      description: Static presence ID (used instead of SIP username)
      type: string
      x-support_level: supported
    call_recording:
      $ref: '#/components/schemas/call_recording'
    require_password_update:
      default: false
      description: UI flag that the user should update their password.
      type: boolean
    caller_id:
      $ref: '#/components/schemas/caller_id'
      description: The device caller ID parameters
    profile:
      $ref: '#/components/schemas/profile'
      description: User's profile data
    password:
      description: The GUI login password
      type: string
      x-support_level: supported
    feature_level:
      description: The user level for assigning feature sets
      type: string
    vm_to_email_enabled:
      default: true
      description: Determines if the user would like voicemails emailed to them
      type: boolean
    hotdesk:
      default: {}
      description: The user hotdesk parameters
      properties:
        enabled:
          default: false
          description: Determines if the user has hotdesking enabled
          type: boolean
        id:
          description: The users hotdesk id
          maxLength: 15
          type: string
        keep_logged_in_elsewhere:
          default: false
          description: >-
            Determines if user should be able to login to multiple phones
            simultaneously
          type: boolean
        pin:
          description: The users hotdesk pin number
          maxLength: 15
          minLength: 4
          type: string
        require_pin:
          default: false
          description: Determines if user requires a pin to change the hotdesk state
          type: boolean
      type: object
    email:
      description: The email of the user
      format: email
      maxLength: 254
      minLength: 1
      type: string
      x-support_level: supported
    language:
      description: The language for this user
      type: string
      x-support_level: supported
    call_forward:
      description: The device call forward parameters
      properties:
        direct_calls_only:
          default: false
          description: >-
            Determines if the calls that are not directly sent to the device
            should be forwarded
          type: boolean
        enabled:
          default: false
          description: Determines if the call forwarding should be used
          type: boolean
        failover:
          default: false
          description: Enable the call-forwarding parameters if the device is offline
          type: boolean
        ignore_early_media:
          default: true
          description: >-
            The option to determine if early media from the call forwarded
            number should ignored
          type: boolean
        keep_caller_id:
          default: true
          description: >-
            Determines if the caller id is kept when the call is forwarded, if
            not the devices caller id is used
          type: boolean
          x-support_level: supported
        number:
          description: The number to forward calls to
          maxLength: 35
          type: string
          x-support_level: supported
        require_keypress:
          default: true
          description: Determines if the callee is prompted to press 1 to accept the call
          type: boolean
        substitute:
          default: true
          description: Determines if the call forwarding replaces the device
          type: boolean
      type: object
    media:
      $ref: '#/components/schemas/endpoint.media'
      description: Configure audio/video/etc media options for this user
    ringtones:
      default: {}
      description: Ringtone Parameters
      properties:
        external:
          description: >-
            The alert info SIP header added when the call is from internal
            sources
          maxLength: 256
          type: string
        internal:
          description: >-
            The alert info SIP header added when the call is from external
            sources
          maxLength: 256
          type: string
      type: object
    metaflows:
      $ref: '#/components/schemas/metaflows'
      description: The device metaflow parameters
    call_restriction:
      additionalProperties:
        properties:
          action:
            description: >-
              If set to deny all calls of this type will be rejected.  If set to
              inherit the user/device rules apply
            enum:
              - inherit
              - deny
            type: string
        type: object
      default: {}
      description: Device level call restrictions for each available number classification
      type: object
  required:
    - first_name
    - last_name
  type: object
vmboxes:
  description: Schema for a voicemail box
  properties:
    check_if_owner:
      default: true
      description: >-
        Determines if when the user calls their own voicemail they should be
        prompted to sign in
      type: boolean
      x-support_level: supported
    delete_after_notify:
      default: false
      description: Move the voicemail to delete folder after the notification has been sent
      type: boolean
      x-support_level: supported
    is_setup:
      default: false
      description: Determines if the user has completed the initial configuration
      type: boolean
      x-support_level: supported
    mailbox:
      description: The voicemail box number
      maxLength: 30
      minLength: 1
      type: string
      x-support_level: supported
    media:
      default: {}
      description: The media (prompt) parameters
      properties:
        unavailable:
          description: >-
            The ID of a media object that should be used as the unavailable
            greeting
          maxLength: 32
          minLength: 32
          type: string
          x-support_level: supported
      type: object
      x-support_level: supported
    media_extension:
      default: mp3
      description: Voicemail audio format
      enum:
        - mp3
        - mp4
        - wav
      type: string
      x-support_level: supported
    name:
      description: A friendly name for the voicemail box
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    not_configurable:
      default: false
      description: Determines if the user can configure this voicemail.
      type: boolean
      x-support_level: supported
    notify:
      properties:
        callback:
          $ref: '#/components/schemas/notify.callback'
      type: object
      x-support_level: supported
    notify_email_addresses:
      default: []
      description: >-
        List of email addresses to send notifications to (in addition to owner's
        email, if any)
      items:
        format: email
        type: string
      type: array
      x-support_level: supported
    owner_id:
      description: The ID of the user object that 'owns' the voicemail box
      maxLength: 32
      minLength: 32
      type: string
      x-support_level: supported
    pin:
      description: The pin number for the voicemail box
      maxLength: 15
      minLength: 4
      type: string
      x-support_level: supported
    require_pin:
      default: false
      description: >-
        Determines if a pin is required to check the voicemail from the users
        devices
      type: boolean
      x-support_level: supported
    save_after_notify:
      default: false
      description: >-
        Move the voicemail to save folder after the notification has been sent
        (This setting will override delete_after_notify)
      type: boolean
      x-support_level: supported
    skip_envelope:
      default: false
      description: Determines if the envelope should be skipped
      type: boolean
      x-support_level: beta
    skip_greeting:
      default: false
      description: Determines if the greeting should be skipped
      type: boolean
      x-support_level: supported
    skip_instructions:
      default: false
      description: >-
        Determines if the instructions after the greeting and prior to composing
        a message should be played
      type: boolean
      x-support_level: supported
    timezone:
      description: The default timezone
      maxLength: 32
      minLength: 5
      type: string
      x-support_level: supported
  required:
    - mailbox
    - name
  type: object
system_config.kazoo_endpoint:
  description: Schema for kazoo_endpoint system_config
  properties:
    custom_sip_interface:
      description: kazoo_endpoint custom sip interface
      type: string
    default_caller_id_name:
      description: kazoo_endpoint default caller id name
      type: string
    default_caller_id_number:
      description: kazoo_endpoint default caller id number
      type: string
    default_can_text_self:
      default: true
      description: kazoo_endpoint default can text self
      type: boolean
    default_ignore_completed_elsewhere:
      default: true
      description: kazoo_endpoint default ignore completed elsewhere
      type: boolean
    restrict_to_known_types:
      default: false
      description: kazoo_endpoint restrict to known types
      type: boolean
    should_add_diversion_header:
      default: false
      description: kazoo_endpoint should add diversion header
      type: boolean
    sip_transport:
      description: kazoo_endpoint sip transport
      type: string
  type: object
system_config.notify.fax_outbound_error_to_email:
  description: Schema for notify.fax_outbound_error_to_email system_config
  properties:
    default_enabled:
      default: true
      description: notify.fax_outbound_error_to_email default enabled
      type: boolean
  type: object
system_config.kzt_twiml_util:
  description: Schema for kzt_twiml_util system_config
  properties:
    max_length:
      default: 3600
      description: kzt_twiml_util maximum length
      type: integer
  type: object
system_config.crossbar.phonebook:
  description: Schema for crossbar.phonebook system_config
  properties:
    cluster_id:
      description: the kazoo cluster_id
      type: string
    enabled:
      default: false
      description: phonebook integration enabled
      type: boolean
    phonebook_url:
      description: the phonebook api url
      type: string
  type: object
storage.plan.database:
  additionalProperties: false
  description: schema for database storage plan
  properties:
    attachments:
      $ref: '#/components/schemas/storage.plan.database.attachment'
    connection:
      type: string
      x-kazoo-validation: true
    database:
      properties:
        create_options:
          type: object
      type: object
    types:
      properties:
        call_recording:
          $ref: '#/components/schemas/storage.plan.database.document'
        fax:
          $ref: '#/components/schemas/storage.plan.database.document'
        mailbox_message:
          $ref: '#/components/schemas/storage.plan.database.document'
        media:
          $ref: '#/components/schemas/storage.plan.database.document'
      type: object
  type: object
storage.attachments:
  description: Keys are 32-character identifiers to be used in storage plans
  type: object
  x-patternProperties:
    '^[a-z0-9]{32}$':
      description: Configuration for the supported storage backends
      oneOf:
        - $ref: '#/components/schemas/storage.attachment.aws'
        - $ref: '#/components/schemas/storage.attachment.google_drive'
        - $ref: '#/components/schemas/storage.attachment.google_storage'
        - $ref: '#/components/schemas/storage.attachment.azure'
        - $ref: '#/components/schemas/storage.attachment.onedrive'
        - $ref: '#/components/schemas/storage.attachment.dropbox'
      properties:
        field_list:
          description: list of field to compose destination url
          items:
            - description: a static string
              type: string
            - properties:
                arg:
                  description: a argument passed to the handler
                  type: string
                field:
                  description: a field from the metadata document
                  type: string
                group:
                  description: group the inner fields definitions with an empty separator
                  items:
                    - description: a static string
                      type: string
                    - properties:
                        arg:
                          description: a argument passed to the handler
                          type: string
                        field:
                          description: a field from the metadata document
                          type: string
                      type: object
                  type: array
              type: object
          type: array
        field_separator:
          description: 'toplevel, field separator to compose destination url'
          type: string
        folder_base_path:
          description: base folder path
          type: string
        name:
          description: Friendly name for this configuration
          type: string
      type: object
list_entries:
  description: Schema for a match list entries
  properties:
    displayname:
      description: Display name
      maxLength: 128
      minLength: 1
      type: string
    firstname:
      description: A friendly firstname
      maxLength: 128
      minLength: 1
      type: string
    lastname:
      description: A friendly lastname
      maxLength: 128
      minLength: 1
      type: string
    list_id:
      description: List id
      type: string
    number:
      description: Phone number
      type: string
    pattern:
      description: Match pattern
      type: string
    profile:
      $ref: '#/components/schemas/profile'
      default: {}
      description: Profile data
      type: object
    type:
      maxLength: 128
      minLength: 1
      type: string
  required:
    - list_id
  type: object
system_config.crossbar.acdc_call_stats:
  description: Schema for crossbar.acdc_call_stats system_config
  properties:
    maximum_bulk:
      default: 50
      description: The maximum number of call stats to load in a request
      minimum: 1
      type: integer
    maximum_range:
      default: 2682000
      description: >-
        The maximum number of seconds between the start and end time of a call
        stats request
      type: integer
  type: object
system_config.callflow.menu:
  description: Schema for callflow.menu system_config
  properties:
    min_greeting_length:
      default: 1500
      description: callflow.menu minimum greeting length
      type: integer
  type: object
account_config.kazoo_endpoint:
  description: Schema for kazoo_endpoint account_config
  properties:
    default_can_text_self:
      default: true
      description: kazoo_endpoint default can text self
      type: boolean
  type: object
callflows.eavesdrop_feature:
  description: Validator for the eavesdrop_feature callflow data object
  properties:
    approved_device_id:
      description: Restricts the calling device to this Device
      type: string
    approved_group_id:
      description: Requires the calling device to be part of the Group
      type: string
    approved_user_id:
      description: Requires the calling device to be part of the User
      type: string
    group_id:
      description: ID of the group/user/device to eavesdrop
      type: string
  type: object
callflows.menu:
  description: Validator for the menu callflow data object
  properties:
    id:
      description: Menu ID to use
      type: string
    interdigit_timeout:
      description: 'Amount of time, in milliseconds, to wait between keypresses'
      type: integer
  type: object
callflows.skel:
  description: Validator for the skel callflow data object
  properties: {}
  type: object
trunkstore:
  description: >-
    Trunkstore configuration document - this is old stuff; do not recommend
    building off this if possible
  properties:
    account:
      description: Information that applies to the account as a whole
      properties:
        auth_realm:
          description: The realm any device in the account will use to authenticate with
          minLength: 1
          type: string
        caller_id:
          properties:
            cid_name:
              maxLength: 35
              minLength: 1
              type: string
            cid_number:
              maxLength: 35
              minLength: 1
              type: string
          required:
            - cid_name
            - cid_number
          type: object
        credits:
          properties:
            prepay:
              type: number
          required:
            - prepay
          type: object
        emergency_caller_id:
          properties:
            cid_name:
              maxLength: 35
              minLength: 1
              type: string
            cid_number:
              maxLength: 35
              minLength: 1
              type: string
          required:
            - cid_name
            - cid_number
          type: object
        trunks:
          description: The number of two-way trunks this account has purchased
          minimum: 0
          type: integer
      required:
        - auth_realm
        - credits
        - trunks
      type: object
    call_restriction:
      additionalProperties:
        properties:
          action:
            description: If set to deny all calls of this type will be rejected.
            enum:
              - inherit
              - deny
            type: string
        type: object
      default: {}
      description: Trunk level call restrictions for each available number classification
      type: object
    name:
      description: Human-friendly name of the trunkstore account
      type: string
    servers:
      default: []
      description: What servers will be allowed to make/receive calls via this account
      items:
        properties:
          DIDs:
            type: object
            x-patternProperties:
              '^\+1(\d{10})$':
                properties:
                  caller_id:
                    properties:
                      cid_name:
                        maxLength: 35
                        minLength: 1
                        type: string
                      cid_number:
                        maxLength: 35
                        minLength: 1
                        type: string
                    required:
                      - cid_name
                      - cid_number
                    type: object
                  failover:
                    description: >-
                      Route inbound call to another destination if this server
                      fails to handle the call
                    properties:
                      e164:
                        description: An E.164 formatted DID to dial for failover
                        type: string
                      sip:
                        description: 'A SIP URI (sip:user@host) to call for failover'
                        type: string
                    type: object
                  force_outbound:
                    default: false
                    type: boolean
                  options:
                    items:
                      type: string
                    type: array
                type: object
          auth:
            properties:
              auth_method:
                description: What type of auth mechanism to use
                enum:
                  - password
                type: string
              auth_password:
                description: Password of the user@auth_realm
                minLength: 1
                type: string
              auth_user:
                description: Username for authentication
                minLength: 1
                type: string
            required:
              - auth_method
              - auth_password
              - auth_user
            type: object
          name:
            description: Human-friendly name of the server
            minLength: 1
            type: string
          options:
            properties:
              caller_id:
                properties:
                  cid_name:
                    maxLength: 35
                    minLength: 1
                    type: string
                  cid_number:
                    maxLength: 35
                    minLength: 1
                    type: string
                required:
                  - cid_name
                  - cid_number
                type: object
              delay:
                default: 0
                description: >-
                  The time, in seconds, to wait before attempting to call the
                  server
                type: integer
              enabled:
                default: true
                description: Is the server ready for sending and receiving calls
                type: boolean
              failover:
                description: >-
                  Route inbound call to another destination if this server fails
                  to handle the call
                properties:
                  e164:
                    description: An E.164 formatted DID to dial for failover
                    type: string
                  sip:
                    description: 'A SIP URI (sip:user@host) to call for failover'
                    type: string
                type: object
              force_outbound:
                default: false
                description: >-
                  If true, will send the call over configured carriers instead
                  of to the server (as opposed to the 'enabled' flag, which will
                  reject the calls)
                type: boolean
              ignore_early_media:
                type: boolean
              inbound_format:
                default: npan
                description: Determines how the INVITE is sent to the server
                enum:
                  - e164
                  - npan
                  - 1npan
                  - username
                type: string
              media_handling:
                default: bypass
                description: >-
                  Determine whether the switch should be in the media path or
                  not
                enum:
                  - process
                  - bypass
                type: string
              progress_timeout:
                description: >-
                  The time, in seconds, to wait for the server to progress in
                  the call, before trying an optionally defined failover route
                  or terminating the call
                minimum: 1
                type: integer
              sip_headers:
                description: List of arbitrary SIP headers to add to the INVITE
                items:
                  type: object
                type: array
              timeout:
                description: 'The time, in seconds, to wait for an answer from the server'
                type: integer
            type: object
        required:
          - auth
        type: object
      type: array
    type:
      description: The type of the document (pvt_type in Crossbar docs)
      enum:
        - sys_info
      type: string
  required:
    - account
    - type
whitelabel:
  description: Whitelabel settings
  properties:
    company_name:
      description: The company name to display to users
      type: string
      x-support_level: supported
    domain:
      description: >-
        This is the whitelabeled domain that users will be entering to reach the
        UI
      format: uri
      type: string
      x-support_level: supported
    fake_api_url:
      description: >-
        This is a whitelabeled API URL, primarily used by the developer
        application
      format: uri
      type: string
      x-support_level: beta
    hide_credits:
      default: false
      description: When checked this hides the credits
      type: boolean
      x-support_level: beta
    hide_powered:
      default: false
      description: When checked this hides the powered by 2600Hz on the bottom right
      type: boolean
      x-support_level: supported
    hide_registration:
      default: false
      description: When checked this hides the ability to register for a new account
      type: boolean
      x-support_level: beta
    inbound_trunks_price:
      description: >-
        The price to show for inbound trunks, this is currently only for display
        purposes
      type: string
      x-support_level: beta
    nav:
      description: Properties related to navigation in the UI
      properties:
        help:
          description: The URL to use when the help link is clicked
          format: uri
          type: string
          x-support_level: supported
        learn_more:
          description: The URL to use when the 'Learn More!' link is clicked
          format: uri
          type: string
          x-support_level: supported
      type: object
    outbound_trunks_price:
      description: >-
        The price to show for outbound trunks, this is currently only for
        display purposes
      type: string
      x-support_level: beta
    port:
      description: Parameters related to white-labeling port requests
      properties:
        authority:
          description: The email(s) to be used for admin port requests
          oneOf:
            - type: string
            - items:
                type: string
              type: array
          x-support_level: supported
        features:
          description: The URL to use when the features link is clicked
          format: uri
          type: string
          x-support_level: supported
        loa:
          description: The URL to use when the LOA link is clicked
          format: uri
          type: string
          x-support_level: supported
        resporg:
          description: The URL to use when the resporg link is clicked
          format: uri
          type: string
          x-support_level: supported
        support_email:
          description: The support email address to display to the user
          format: email
          type: string
          x-support_level: supported
        terms:
          description: The URL to use when the terms and conditions link is clicked
          format: uri
          type: string
          x-support_level: supported
      type: object
    twoway_trunks_price:
      description: >-
        The price to show for twoway trunks, this is currently only for display
        purposes
      type: string
      x-support_level: beta
  type: object
system_config.notify.password_recovery:
  description: Schema for notify.password_recovery system_config
  properties:
    default_to:
      description: notify.password_recovery default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.password_recovery html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.password_recovery text content transfer encoding
      type: string
  type: object
storage.attachment.aws:
  description: schema for AWS attachment entry
  properties:
    handler:
      description: What AWS service to use
      enum:
        - s3
      type: string
    settings:
      description: AWS API settings
      properties:
        bucket:
          description: Bucket name to store data to
          maxLength: 63
          minLength: 6
          pattern: '^[^\s]*$'
          type: string
        bucket_access_method:
          description: how to access the host.
          enum:
            - auto
            - vhost
            - path
          type: string
        bucket_after_host:
          description: use bucket after host as part of url
          type: boolean
        host:
          description: 'the s3 host, leave empty for default'
          minLength: 1
          pattern: '^[^\s]*$'
          type: string
        key:
          description: AWS Key to use
          maxLength: 128
          minLength: 1
          pattern: '^[^\s]*$'
          type: string
        port:
          description: port to use
          type: integer
        region:
          description: the region where the bucket is located
          minLength: 1
          pattern: '^[^\s]*$'
          type: string
        scheme:
          description: scheme to use to access host
          enum:
            - http
            - https
          type: string
        secret:
          description: AWS Secret to use
          maxLength: 128
          minLength: 1
          pattern: '^[^\s]*$'
          type: string
      required:
        - bucket
        - key
        - secret
      type: object
  required:
    - handler
    - settings
  type: object
callflows.check_cid:
  description: Validator for the check_cid callflow data object
  properties:
    caller_id:
      properties:
        external:
          properties:
            name:
              description: Update external Caller ID Name
              type: string
            number:
              description: Update external Caller ID Number
              type: string
          type: object
      type: object
    regex:
      default: .*
      description: Determine match/nomatch when use_absolute_mode is false
      type: string
    use_absolute_mode:
      default: false
      description: 'If true, direct call down a branch that matches the caller ID'
      type: boolean
    user_id:
      description: kazoo User ID to use as owner_id instead of detected owner_id
      type: string
  type: object
call_waiting:
  description: Parameters for server-side call waiting
  properties:
    enabled:
      description: Determines if server side call waiting is enabled/disabled
      type: boolean
  type: object
callflows.callflow:
  description: Validator for the callflow callflow data object
  properties:
    id:
      description: The Callflow ID to branch to
      type: string
  type: object
account_config.keys:
  description: Schema for DTMF keys account_config
  properties:
    voicemail:
      $ref: '#/components/schemas/voicemail_keys'
      description: DTMF keys for voicemail callflow module
  type: object
device_rate_limits:
  additionalProperties: true
  description: describe limits for SIP requests
  properties:
    per_minute:
      additionalProperties: false
      description: The limits to apply by a minute
      properties:
        invites:
          description: Count for the specified SIP method
          type: integer
        registrations:
          description: Count for the specified SIP method
          type: integer
        total_packets:
          description: Summary count for all of the SIP methods
          type: integer
      required:
        - total_packets
      type: object
    per_second:
      additionalProperties: false
      description: The limits to apply by a second
      properties:
        invites:
          description: Count for the specified SIP method
          type: integer
        registrations:
          description: Count for the specified SIP method
          type: integer
        total_packets:
          description: Summary count for all of the SIP methods
          type: integer
      required:
        - total_packets
      type: object
  required:
    - per_minute
    - per_second
  type: object
app:
  additionalProperties: false
  description: Appstore applications
  properties:
    allowed_users:
      description: User type allowed to access the app
      enum:
        - specific
        - all
        - admins
      type: string
    api_url:
      description: Application api url
      format: uri
      type: string
    author:
      description: Application author
      maxLength: 64
      minLength: 2
      type: string
    i18n:
      description: Application translation
      type: object
      x-patternProperties:
        '[a-z]{2}\-[A-Z]{2}':
          properties:
            description:
              minLength: 3
              type: string
            extended_description:
              type: string
            features:
              items:
                type: string
              type: array
            label:
              maxLength: 64
              minLength: 3
              type: string
          required:
            - description
            - label
          type: object
    icon:
      description: Application icon
      type: string
    license:
      description: Application license
      type: string
    masqueradable:
      default: true
      description: Whether an application is masqueradable or not
      type: boolean
    name:
      description: Application name
      maxLength: 64
      minLength: 3
      type: string
    phase:
      description: Application test phase
      enum:
        - alpha
        - beta
        - gold
      type: string
    price:
      description: Application price
      minimum: 0
      type: number
    published:
      description: is the app published
      type: boolean
    screenshots:
      items:
        type: string
      type: array
    source_url:
      description: Application source url
      format: uri
      type: string
    tags:
      items:
        type: string
      type: array
    urls:
      type: object
    users:
      description: User IDs authorized to use the app (when allowed_users = 'specific')
      items:
        type: string
      type: array
    version:
      description: Application version
      type: string
  required:
    - api_url
    - author
    - i18n
    - icon
    - license
    - name
    - price
    - version
  type: object
system_config.number_manager.voip_innovations:
  description: Schema for number_manager.voip_innovations system_config
  properties:
    debug:
      default: false
      description: number_manager.voip_innovations debug
      type: boolean
    enable_provisioning:
      default: true
      description: number_manager.voip_innovations enable provisioning
      type: boolean
    endpoint_group:
      default: ''
      description: number_manager.voip_innovations endpoint group
      type: string
    login:
      default: ''
      description: number_manager.voip_innovations login
      type: string
    password:
      default: ''
      description: number_manager.voip_innovations password
      type: string
    sandbox_provisioning:
      default: false
      description: number_manager.voip_innovations sandbox provisioning
      type: boolean
  type: object
system_config.ananke:
  description: Schema for ananke system_config
  properties:
    schedules:
      default: []
      description: ananke schedules
      items:
        type: object
      type: array
    voicemail:
      properties:
        notify:
          properties:
            callback:
              properties:
                attempts:
                  default: 5
                  description: ananke attempts
                  type: integer
                interval_s:
                  default: 300
                  description: ananke interval in seconds
                  type: integer
                timeout_s:
                  default: 20
                  description: ananke timeout in seconds
                  type: integer
  type: object
system_config.smtp_client:
  description: Schema for smtp_client system_config
  properties:
    auth:
      default: never
      description: smtp_client auth
      type: string
    no_mx_lookups:
      default: true
      description: smtp_client no mx lookups
      type: boolean
    password:
      default: ''
      description: smtp_client password
      type: string
    port:
      default: 25
      description: smtp_client port
      type: integer
    relay:
      default: localhost
      description: smtp_client relay
      type: string
    retries:
      default: 1
      description: smtp_client retries
      type: integer
    send_timeout_ms:
      default: 10000
      description: Timeout in milliseconds waiting for response from SMTP server
      minimum: 1
      type: integer
    tls:
      description: smtp_client tls
      type: string
    use_ssl:
      default: false
      description: smtp_client use SSL
      type: boolean
    username:
      default: ''
      description: smtp_client username
      type: string
  type: object
callflows.nomorobo:
  description: Validator for the NoMoRobo callflow action
  properties:
    password:
      description: Password to the NoMoRobo service
      maxLength: 1000
      minLength: 1
      type: string
    username:
      description: Username to the NoMoRobo service
      maxLength: 1000
      minLength: 1
      type: string
  required:
    - username
  type: object
callflows.intercept_feature:
  description: Validator for the intercept_feature callflow data object
  properties:
    approved_device_id:
      description: Restricts the calling device to this Device
      type: string
    approved_group_id:
      description: Requires the calling device to be part of the Group
      type: string
    approved_user_id:
      description: Requires the calling device to be part of the User
      type: string
    type:
      description: The scope of devices to intercept
      enum:
        - user
        - device
        - extension
      type: string
  type: object
account_config.omnipresence:
  description: Schema for omnipresence account_config
  properties:
    dialog_subscribed_mwi_prefix:
      default: '*98'
      description: prefix used when subscribing vm updates for dialog
      type: string
  type: object
limits:
  description: Limit an account's ability to place concurrent calls using flat rate trunks
  properties:
    allow_prepay:
      default: true
      description: >-
        Determines if the account would like to allow per-minute calls if they
        have no available credit
      type: boolean
      x-support_level: supported
    burst_trunks:
      description: >-
        The number of two-way, flat-rate trunks used only if no other trunks are
        available
      minimum: 0
      type: integer
      x-support_level: beta
    calls:
      description: A hard limit for the total number calls
      minimum: 0
      type: integer
      x-support_level: beta
    inbound_trunks:
      description: 'The number of inbound, flat-rate trunks'
      minimum: 0
      type: integer
      x-support_level: supported
    outbound_trunks:
      description: 'The number of outbound, flat-rate trunks'
      minimum: 0
      type: integer
      x-support_level: supported
    resource_consuming_calls:
      description: A hard limit for the number of resource consuming calls
      minimum: 0
      type: integer
      x-support_level: beta
    twoway_trunks:
      description: 'The number of two-way, flat-rate trunks'
      minimum: 0
      type: integer
      x-support_level: beta
  type: object
account_config.crossbar.auth:
  description: Schema for crossbar.auth account_config
  properties:
    auth_modules:
      additionalProperties: false
      default:
        cb_api_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_ip_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_ubiquiti_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_user_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: true
          token_auth_expiry_s: 3600
      description: Default crossbar authentication modules configuration
      properties:
        cb_api_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_ip_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_ubiquiti_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_user_auth:
          $ref: '#/components/schemas/auth_module_config'
      type: object
  required:
    - auth_modules
  type: object
auth.provider:
  additionalProperties: true
  description: provider settings for authentication
  properties:
    id:
      type: string
  required:
    - id
  type: object
notify.callback:
  description: Schema for a callback options
  properties:
    attempts:
      description: How many attempts without answer will system do
      type: integer
    disabled:
      description: Determines if the system will call to callback number
      type: boolean
    interval_s:
      description: How long will system wait between call back notification attempts
      type: integer
    number:
      description: Number for callback notifications about new messages
      type: string
    schedule:
      description: Schedules interval between callbacks
      items:
        description: callbacks interval
        type: integer
      type: array
    timeout_s:
      description: How long will system wait for answer to callback
      type: integer
  type: object
directories:
  description: Allow a caller to search for a user/device by name instead of extension/DID
  properties:
    confirm_match:
      default: true
      description: >-
        When one match is found, require caller to confirm the match before
        connecting
      type: boolean
      x-support_level: supported
    max_dtmf:
      default: 0
      description: >-
        Cap the number of DTMF characters collected from a caller, 0 for
        unlimited
      minimum: 0
      type: integer
      x-support_level: supported
    min_dtmf:
      default: 3
      description: >-
        How many DTMF characters to collect from a caller before processing the
        directory
      minimum: 1
      type: integer
      x-support_level: supported
    name:
      description: The name of the directory
      minLength: 1
      type: string
      x-support_level: supported
    sort_by:
      default: last_name
      description: >-
        What field to sort on in matching documents when a caller enters
        characters
      enum:
        - first_name
        - last_name
      type: string
      x-support_level: supported
    users:
      default: []
      description: The list of users associated with this directory
      items:
        description: UserId to include in the directory
        type: string
      type: array
      x-support_level: supported
  required:
    - name
  type: object
audit_logs:
  description: Audit log of what caused a billing event to occur
  properties:
    audit:
      description: >-
        Contains the accounts involved in the billable event (initial account
        and resellers)
      type: object
      x-patternProperties:
        '^[0-9a-zA-Z]{32}$':
          description: The account's quantity changes for the billing event
          properties:
            account_name:
              description: The name of the account (for historical purposes)
              type: string
            account_quantities:
              description: The account's quantities as a result of the billing event
              type: object
            cascade_quantities:
              description: >-
                The account's cascaded quantities as a result of the billing
                event
              type: object
          required:
            - account_name
          type: object
    authenticating_user:
      description: Information about the requestor who caused the billing event
      properties:
        account_id:
          type: string
        account_name:
          type: string
        first_name:
          type: string
        last_name:
          type: string
        user_id:
          type: string
      required:
        - account_id
        - account_name
      type: object
    tree:
      description: >-
        The account's tree (including the account), ordered from ancestor to
        account
      items:
        type: string
      type: array
  required:
    - audit
    - tree
  type: object
system_config.doodle:
  description: Schema for doodle system_config
  properties:
    api_preserve_caller_id:
      default: true
      description: doodle.api preserve caller id
      type: boolean
    connections:
      description: doodle connections
      type: object
    default_test_from_number:
      default: 15552220001
      description: doodle default test from number
      type: string
    default_test_route_id:
      default: syneverse
      description: doodle default test route id
      type: string
    inbound_broker:
      description: doodle inbound broker
      type: string
    inbound_exchange:
      default: sms
      description: doodle inbound exchange
      type: string
    inbound_exchange_options:
      default:
        passive: true
      description: doodle inbound exchange options
      type: object
    inbound_exchange_type:
      default: topic
      description: doodle inbound exchange type
      type: string
    inbound_queue_name:
      description: doodle inbound queue name
      type: string
    min_bucket_cost:
      default: 1
      description: doodle minimum bucket cost
      type: integer
    reschedule:
      default: {}
      description: doodle reschedule
      type: object
    route_win_timeout:
      default: 3000
      description: doodle route win timeout
      type: integer
    unavailable_message:
      default:
        en-US: sms service unavailable
      description: doodle unavailable message
      type: object
  type: object
system_config.call_inspector:
  description: Schema for call_inspector system_config
  properties:
    startup_parsers:
      default: {}
      description: parser specifications. Will be started on app startup
      type: object
  type: object
callflows.audio_macro:
  description: Validator for the audio_macro callflow data object
  properties:
    language:
      description: The language of the speaker
      type: string
    macros:
      default: []
      description: The audio macro data
      items:
        description: The individual media to play
        oneOf:
          - $ref: callflows.play
            description: media file to play
            properties:
              macro:
                enum:
                  - play
                type: string
          - $ref: callflows.audio_macro.tone
            description: tone to play
            properties:
              macro:
                enum:
                  - tone
                type: string
          - $ref: callflows.audio_macro.prompt
            description: prompt to play
            properties:
              macro:
                enum:
                  - prompt
                type: string
          - $ref: callflows.audio_macro.say
            description: say macro to execute
            properties:
              macro:
                enum:
                  - say
                type: string
          - $ref: callflows.tts
            description: TTS text to say
            properties:
              macro:
                enum:
                  - tts
                type: string
        properties:
          macro:
            description: the macro type to process
            enum:
              - play
              - prompt
              - say
              - tts
              - tone
            type: string
        type: object
      minItems: 1
      type: array
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate playback of the audio
      items:
        type: string
      type: array
  type: object
system_config.sms:
  description: Schema for sms system_config
  properties:
    outbound:
      properties:
        options:
          default:
            delivery_mode: 2
            mandatory: true
          description: sms options
          type: object
  type: object
account_config.webhooks:
  description: Schema for webhooks account_config
  properties:
    attempt_failure_count:
      default: 6
      description: webhooks attempt failure count
      type: integer
    attempt_failure_expiry_ms:
      default: 60000
      description: webhooks attempt failure expiry in milliseconds
      type: integer
  type: object
system_config.whitelabel:
  description: Schema for whitelabel system_config
  properties:
    domains:
      description: whitelabel domains
      type: object
  type: object
storage.connections:
  type: object
  x-patternProperties:
    '^([a-z,0-9]){32}$':
      oneOf:
        - $ref: '#/components/schemas/storage.connection.couchdb'
    local:
      type: object
metaflows.transfer:
  description: Perform a transfer
  properties:
    captures:
      default:
        - no_match
      description: Capture groups?
      items:
        type: string
      type: array
    leg:
      description: Which leg to be the transfer leg
      type: string
    target:
      description: The target extension/DID
      type: string
    transfer_type:
      default: blind
      description: The type of transfer to perform
      enum:
        - attended
        - blind
      type: string
  type: object
clicktocall:
  description: >-
    Click-to-call allows you to create URLs that can be POSTed to with a phone
    number or SIP URI and create a phone call from the provided contact
    information to a destination you have pre-determined.
  properties:
    auth_required:
      default: true
      description: Determines if this click to call requires valid auth-tokens when invoked
      type: boolean
    bypass_media:
      description: >-
        Default bypass media mode (The string type is deprecated, please use
        this as a boolean)
      oneOf:
        - type: boolean
        - enum:
            - auto
            - false
            - true
          type: string
    caller_id_number:
      description: Explicitly set caller id number
      type: string
    custom_application_vars:
      default: {}
      description: Key-value pairs to set as custom_application_vars on the channel
      type: object
      x-patternProperties:
        '[a-zA-Z0-9\-_]+':
          type: string
    custom_sip_headers:
      anyOf:
        - $ref: '#/components/schemas/custom_sip_headers'
        - properties:
            in:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls inbound to Kazoo from
                the endpoint
            out:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls outbound from Kazoo to
                the endpoint
      description: A property list of SIP headers
      type: object
    dial_first:
      description: 'Determines what will be dialed first: extension or contact'
      enum:
        - extension
        - contact
      type: string
    extension:
      description: The extension to connect to when the click to call is invoked
      type: string
    media:
      properties:
        ignore_early_media:
          description: >-
            The option to determine if early media from the endpoint should
            always be ignored
          type: boolean
      type: object
    music_on_hold:
      description: The music on hold parameters used if not a property of the device owner
      properties:
        media_id:
          description: The ID of a media object that should be used as the music on hold
          maxLength: 2048
          type: string
      type: object
    name:
      description: A friendly name for the click to call
      maxLength: 128
      minLength: 1
      type: string
    outbound_callee_id_name:
      description: Callee ID Name of the device calling out to the contact number
      type: string
    outbound_callee_id_number:
      description: Callee ID Number of the device calling out to the contact number
      type: string
    presence_id:
      description: Static presence ID (used instead of SIP username)
      type: string
      x-support_level: supported
    ringback:
      description: Ringback to use
      type: string
    throttle:
      description: The rate that this click to call can be invoked
      type: integer
    timeout:
      description: 'How long, in seconds, to wait for the call to progress'
      type: integer
    whitelist:
      description: A list of regular expressions that the click to call can dial to
      items:
        minLength: 1
        type: string
      type: array
  required:
    - extension
    - name
  type: object
system_config.notify.deregister:
  description: Schema for notify.deregister system_config
  properties:
    default_to:
      default: ''
      description: notify.deregister default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.deregister html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.deregister text content transfer encoding
      type: string
  type: object
system_config.number_manager.vitelity:
  description: Schema for number_manager.vitelity system_config
  properties:
    api_uri:
      default: 'http://api.vitelity.net/api.php'
      description: number_manager.vitelity api uri
      type: string
    routesip:
      description: number_manager.vitelity routesip
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    use_stepswitch_cnam:
      default: false
      description: number_manager.vitelity use_stepswitch_cnam
      type: boolean
  type: object
call_recording.source:
  additionalProperties: false
  properties:
    any:
      $ref: '#/components/schemas/call_recording.parameters'
      description: settings for calls from any network
    offnet:
      $ref: '#/components/schemas/call_recording.parameters'
      description: settings for calls from offnet networks
    onnet:
      $ref: '#/components/schemas/call_recording.parameters'
      description: settings for calls from onnet networks
  type: object
system_config.notify.cnam_request:
  description: Schema for notify.cnam_request system_config
  properties:
    default_to:
      default: ''
      description: notify.cnam_request default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
  type: object
user_auth:
  description: Provides an auth-token via user credentials
  properties:
    account_name:
      description: The account name of the user
      maxLength: 128
      minLength: 1
      type: string
    account_realm:
      description: The account realm of the user
      maxLength: 253
      minLength: 4
      pattern: '^[.\w_-]+$'
      type: string
    credentials:
      description: A hash of the uses credentials
      maxLength: 64
      minLength: 1
      type: string
    method:
      default: md5
      description: The hash method
      enum:
        - md5
        - sha
      type: string
    phone_number:
      description: A phone number assigned to the users account
      maxLength: 64
      minLength: 1
      type: string
  required:
    - credentials
  type: object
account_config.doodle:
  description: Schema for doodle account_config
  properties:
    api_preserve_caller_id:
      default: true
      description: doodle.api preserve caller id
      type: boolean
    reschedule:
      default: {}
      description: doodle reschedule
      type: object
  type: object
webhook_attempts:
  description: Log of an attempt to send a webhook to a third-party server
  properties:
    client_error:
      description: 'Kazoo-side error string, if any'
      type: string
    hook_id:
      description: Id of the hook attempted
      type: string
    reason:
      description: short reason for the failure
      type: string
    response_body:
      description: 'HTTP response body received, if any'
      type: string
    response_code:
      description: 'HTTP response code received, if any'
      type: string
    result:
      description: Whether the attempt succeeded or not
      enum:
        - success
        - failure
      type: string
    retries_left:
      description: How many retries were left after this attempt
      type: integer
  required:
    - hook_id
    - result
  type: object
storage.attachment.google_storage:
  description: schema for google storage attachment entry
  properties:
    handler:
      description: What handler module to use
      enum:
        - google_storage
      type: string
    settings:
      description: Settings for the Google Storage account
      oneOf:
        - properties:
            oauth_app_id:
              description: >-
                App ID in the system 'auth' database. the app doc should refer
                to a key obtained from google
              type: string
          required:
            - oauth_app_id
        - properties:
            oauth_doc_id:
              description: Doc ID in the system 'auth' database
              type: string
              x-kazoo-validation: true
          required:
            - oauth_doc_id
      type: object
  required:
    - handler
    - settings
  type: object
callflows.pivot:
  description: Validator for the Pivot callflow element
  properties:
    cdr_url:
      description: Optional URL to send the CDR to at the end of the call
      pattern: '^https?://'
      type: string
    debug:
      default: false
      description: Store debug logs related to processing this Pivot call
      type: boolean
    method:
      default: get
      description: What HTTP verb to send the request(s) with
      enum:
        - get
        - post
        - GET
        - POST
      type: string
    req_body_format:
      default: form
      description: What format should the request body have
      enum:
        - form
        - json
      type: string
    req_format:
      default: kazoo
      description: What format of Pivot will the your server respond with
      enum:
        - kazoo
        - twiml
      type: string
    voice_url:
      description: What URL to request the initial Pivot callflow
      pattern: '^https?://'
      type: string
  required:
    - voice_url
  type: object
system_config.crossbar.channels:
  description: Schema for crossbar.channels system_config
  properties:
    system_wide_channels_list:
      default: false
      description: crossbar.channels system wide channels list
      type: boolean
  type: object
metaflows.hold:
  description: Put the leg on hold
  properties:
    moh_aleg:
      description: MOH ID for the a-leg
      type: string
    moh_bleg:
      description: MOH ID for the b-leg
      type: string
    unhold_key:
      default: 1
      description: DTMF to press to unhold the call
      type: string
  type: object
service_plan.category:
  description: Describes a service plan category
  properties:
    _all:
      $ref: '#/components/schemas/service_plan.item'
      description: Applies item rules to any item in this category
      properties:
        exceptions:
          description: Items that are not included in this item plan
          items:
            type: string
          type: array
      type: object
  x-patternProperties:
    .+:
      $ref: '#/components/schemas/service_plan.item'
      description: Item name
      type: object
system_config.services.http_sync:
  description: Schema for services.http_sync system_config
  properties:
    authorization_header:
      default: ''
      description: services http sync authorization header
      type: string
    connect_timeout_ms:
      default: 10000
      description: services http sync connect timeout in milliseconds
      type: integer
    http_url:
      default: ''
      description: services http sync http url
      type: string
  type: object
allotments:
  description: Create buckets of minutes per time-period
  type: object
  x-patternProperties:
    ^\w+$:
      properties:
        amount:
          minimum: 0
          type: integer
        cycle:
          enum:
            - minutely
            - hourly
            - daily
            - weekly
            - monthly
          type: string
        group_consume:
          items:
            type: string
          type: array
        increment:
          minimum: 1
          type: integer
        minimum:
          minimum: 0
          type: integer
        no_consume_time:
          minimum: 0
          type: integer
      required:
        - amount
        - cycle
      type: object
queues:
  description: Call Queues - FIFO call queues for serializing callers connecting to agents
  properties:
    agent_ring_timeout:
      default: 15
      description: >-
        In seconds, how long to ring an agent before progressing to the next
        agent available
      minimum: 1
      type: integer
    agent_wrapup_time:
      default: 0
      description: Pre-defined wait period applied after an agent handles a customer call
      minimum: 0
      type: integer
    announce:
      description: >-
        Media ID (or appropriate media URI) of media to play when caller is
        about to be connected.
      type: string
    announcements:
      description: Configuration for periodic announcements to callers waiting in the queue
      properties:
        interval:
          default: 30
          description: Time between announcements
          minimum: 15
          type: integer
        media:
          description: Custom prompts to be played for the announcements
          properties:
            in_the_queue:
              description: Played after the numeric position
              type: string
            increase_in_call_volume:
              description: >-
                Played if the estimated wait time has increased since the
                previous wait time announcement
              type: string
            the_estimated_wait_time_is:
              description: Played before the estimated wait time media
              type: string
            you_are_at_position:
              description: Played before the numeric position
              type: string
          required:
            - in_the_queue
            - increase_in_call_volume
            - the_estimated_wait_time_is
            - you_are_at_position
          type: object
        position_announcements_enabled:
          description: >-
            Whether announcements of the caller's position in the queue should
            be played
          type: boolean
        wait_time_announcements_enabled:
          description: >-
            Whether announcements of the estimated wait time in the queue should
            be played
          type: boolean
      type: object
    caller_exit_key:
      default: '#'
      description: >-
        Key caller can press while on hold to exit the queue and continue in the
        callflow
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      type: string
    cdr_url:
      description: An optional HTTP URL to POST the CDR
      format: uri
      type: string
    connection_timeout:
      default: 3600
      description: >-
        In seconds, how long to try to connect the caller before progressing
        past the queue callflow action
      minimum: 0
      type: integer
    enter_when_empty:
      default: true
      description: Allows a caller to enter a queue and wait when no agents are available
      type: boolean
    max_priority:
      description: >-
        Maximum possible priority level queue will support. Can not be redefined
        for existing queue.
      maximum: 255
      minimum: 0
      type: integer
    max_queue_size:
      default: 0
      description: >-
        How many callers are allowed to wait on hold in the queue (0 for no
        limit)
      type: integer
    moh:
      description: >-
        Media ID (or appropriate media URI) of media to play while caller is on
        hold.
      type: string
    name:
      description: A friendly name for the queue
      maxLength: 128
      minLength: 1
      type: string
    record_caller:
      default: false
      description: 'When enabled, a caller''s audio will be recorded'
      type: boolean
    recording_url:
      description: >-
        An optional HTTP URL to PUT the call recording after the call ends (and
        should respond to GET for retrieving the audio data)
      format: uri
      type: string
    ring_simultaneously:
      default: 1
      description: The number of agents to try in parallel when connecting a caller
      minimum: 1
      type: integer
    strategy:
      default: round_robin
      description: The queue strategy for connecting agents to callers
      enum:
        - round_robin
        - most_idle
      type: string
  required:
    - name
  type: object
system_config.konami:
  description: Schema for konami system_config
  properties:
    event_cleanup_timeout_ms:
      default: 3600000
      description: konami event cleanup timeout in milliseconds
      type: integer
    transfer:
      properties:
        default_takeback_dtmf:
          default: '*1'
          description: konami default takeback dtmf
          type: string
        default_target_timeout_ms:
          default: 20000
          description: konami default target timeout in milliseconds
          type: integer
    use_fast_rearm:
      default: false
      description: konami use fast rearm
      type: boolean
    webseq_enabled:
      default: false
      description: konami webseq enabled
      type: boolean
  type: object
system_config.provisioner:
  description: Schema for provisioner system_config
  properties:
    cluster_id:
      description: provisioner cluster id
      type: string
    combo_keys:
      default:
        cisco:
          _:
            line: ''
            parking: ''
            personal_parking: ''
            presence: ''
            speed_dial: ''
        grandstream:
          _:
            line: 0
            parking: 19
            personal_parking: 11
            presence: 11
            speed_dial: 10
        obihai:
          _:
            line: Call Appearance
            parking: Call Park Monitor
            personal_parking: Busy Lamp Field
            presence: Busy Lamp Field
            speed_dial: Speed Dial
        vtech:
          _:
            line: line
            parking: blf
            personal_parking: blf
            presence: presense
            speed_dial: speed
        yealink:
          _:
            line: 15
            parking: 10
            personal_parking: 10
            presence: 16
            speed_dial: 13
      description: provisioner combo keys
      type: object
    feature_keys:
      default:
        cisco:
          _:
            parking: ''
            personal_parking: ''
            presence: ''
            speed_dial: ''
        grandstream:
          _:
            parking: 9
            personal_parking: 1
            presence: 1
            speed_dial: 0
        obihai:
          _:
            parking: Call Park Monitor
            personal_parking: Busy Lamp Field
            presence: Busy Lamp Field
            speed_dial: Speed Dial
        polycom:
          _:
            parking: automata
            personal_parking: automata
            presence: normal
            speed_dial: normal
        yealink:
          _:
            parking: 10
            personal_parking: 10
            presence: 16
            speed_dial: 13
      description: provisioner feature keys
      type: object
    provisioning_type:
      description: provisioner provisioning type
      type: string
    provisioning_url:
      description: provisioner provisioning url
      type: string
  type: object
account_config.conferences:
  description: Schema for conferences account_config
  properties:
    controls:
      properties:
        default:
          description: conferences controls default
          items:
            properties:
              action:
                description: what action to assign to the star-code
                type: string
              digits:
                description: what digit sequence to bind the action to
                type: string
            type: object
          type: array
        page:
          description: conferences controls page
          items:
            properties:
              action:
                description: what action to assign to the star-code
                type: string
              digits:
                description: what digit sequence to bind the action to
                type: string
            type: object
          type: array
    entry_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,659);v=-7;>=3;+=.1;%(800,0,659,783)
      description: conferences entry tone
      type: string
    exit_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,440);v=-7;>=3;+=.1;%(800,0,349,440)
      description: conferences exit tone
      type: string
    moderator_entry_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,659);v=-7;>=3;+=.1;%(800,0,659,783)
      description: conferences moderator entry tone
      type: string
    moderator_exit_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,440);v=-7;>=3;+=.1;%(800,0,349,440)
      description: conferences moderator exit tone
      type: string
    number_timeout:
      default: 5000
      description: conferences number timeout
      type: integer
    pin_timeout:
      default: 5000
      description: conferences pin timeout
      type: integer
    support_name_announcement:
      default: true
      description: conferences support name announcement
      type: boolean
  type: object
callflows.branch_bnumber:
  description: Validator for the branch_bnumber callflow data object
  properties: {}
  type: object
conferences.dial:
  description: Schema for conference dial API command
  properties:
    caller_id_name:
      description: Caller ID Name to use when dialing out to endpoints
      type: string
    caller_id_number:
      description: Caller ID Number to use when dialing out to endpoints
      type: string
    endpoints:
      description: Endpoints to dial out to and join to the conference
      items:
        oneOf:
          - description: 'Device or User IDs, DIDs or extensions, SIP URIs'
            type: string
          - $ref: devices
            description: Device document
      minItems: 1
      type: array
    participant_flags:
      description: Participant flags applied to each endpoint when it joins the conference
      items:
        description: Participant flag
        enum:
          - mute
          - deaf
          - distribute_dtmf
          - is_moderator
          - disable_moh
          - ghost
          - join_existing
          - video_mute
        type: string
      type: array
    profile_name:
      description: The profile name to use for configuration
      type: string
    target_call_id:
      description: Existing UUID to use as a hint for where to start the conference
      type: string
    timeout:
      description: How long to try to reach the endpoint(s)
      minimum: 1
      type: integer
  required:
    - endpoints
storage.attachment.google_drive:
  description: schema for google drive attachment entry
  properties:
    handler:
      description: What handler module to use
      enum:
        - google_drive
      type: string
    settings:
      description: Settings for the Google Drive account
      properties:
        folder_id:
          description: 'Folder ID in which to store the file, if any'
          type: string
        oauth_doc_id:
          description: Doc ID in the system 'auth' database
          type: string
          x-kazoo-validation: true
      required:
        - oauth_doc_id
      type: object
  required:
    - handler
    - settings
  type: object
system_config.kazoo_convert:
  description: Schema for kazoo_convert system_config
  properties:
    fax:
      properties:
        attachment_format:
          default: pdf
          description: Format to use for receipt email messages and api responses
          type: string
        convert_command_timeout:
          default: 120000
          description: >-
            Timeout value in ms for how long a convert command can run before
            being killed
          type: integer
        convert_image_command:
          default: >-
            convert $FROM -resample 200x200 -units PixelsPerInch -resize
            1728x2200 -compress group4 $TO
          description: >-
            The command to resample a tiff file to a fax compatible format or
            convert a supported image/* format to a tiff
          type: string
        convert_openoffice_command:
          default: >-
            libreoffice --headless --convert-to pdf $FROM --outdir $WORKDIR 
            2>&1 |egrep 'parser error|Error' && exit 1 || exit 0
          description: The command to convert open office documents to pdf
          type: string
        convert_pdf_command:
          default: >-
            /usr/bin/gs -q -r200x200 -g1728x2200 -dNOPAUSE -dBATCH -dSAFER
            -sDEVICE=tiffg4 -sOutputFile=$TO -- $FROM
          description: The command to convert pdf documents to tiff
          type: string
        convert_tiff_command:
          default: tiff2pdf -o $TO $FROM
          description: The command to convert a tiff file to PDF
          type: string
        enable_openoffice:
          default: true
          description: Enables the conversion of openoffice compatible documents
          type: boolean
        large_tiff_command:
          default: >-
            convert $FROM -resample 200x200 -units PixelsPerInch -resize
            1728\!x2200 -compress group4 $TO
          description: The command to resize large tiffs to standard dimensions
          type: string
        resample_image_command:
          default: convert $FROM -resample 200x200 -page +0+0 -compress group4 $TO
          description: >-
            The command to resample an image file into a fax compliant formatted
            tiff
          type: string
        serialize_openoffice:
          default: true
          description: Enable Serialization of openoffice compatible document conversions
          type: boolean
        small_tiff_command:
          default: >-
            convert $FROM -gravity center -resample 200x200 -units PixelsPerInch
            -extent 1728x2200 -compress group4 $TO
          description: The command to format small tiffs to a fax compatible format
          type: string
        validate_pdf_command:
          default: gs -dNOPAUSE -dBATCH -sDEVICE=nullpage $FILE
          description: The command to verify a PDF file is valid
          type: string
        validate_tiff_command:
          default: tiffinfo $FILE
          description: The command to verify a TIFF file is valid
          type: string
    fax_converter:
      default: fax_converter
      description: Module to use for fax related file conversions
      type: string
    file_cache_path:
      default: /tmp/
      description: The default working directory to use when converting files
      type: string
  type: object
callflows.fax_detect:
  description: Validator for the fax_detect callflow data object
  properties:
    duration:
      description: 'How long, in seconds, to try detecting fax tones'
      type: integer
  type: object
devices_notify:
  description: Schema for Crossbar devices notify API
  properties:
    data:
      description: Action-specific parameters
      properties:
        body:
          description: Parameters of content body of SIP NOTIFY
          properties:
            content_type:
              description: The Content-Type of the data in the content body
              type: string
            data:
              description: The data in the content body
              type: string
          required:
            - data
            - content_type
          type: object
        event:
          description: Event header value for SIP NOTIFY
          type: string
      required:
        - event
      type: object
  required:
    - data
  type: object
queue_update:
  description: Schema for queue update request
  properties:
    action:
      description: Action to perform
      enum:
        - login
        - logout
      type: string
    queue_id:
      description: Queue Identifier
      maxLength: 128
      minLength: 1
      type: string
  required:
    - action
    - queue_id
  type: object
user_auth_recovery_reset:
  description: Request a password reset from a trusted source
  properties:
    reset_id:
      description: The UUID that is part of the password-reset link
      pattern: '^[a-fA-F0-9]{40,250}$'
      type: string
  required:
    - reset_id
  type: object
auth.callback:
  additionalProperties: true
  description: callback for authentication providers
  properties:
    client_id:
      description: 'client id, usually application id for OAuth providers'
      type: string
    code:
      description: access code emitted by provider
      type: string
    provider:
      description: provider
      type: string
    redirect_uri:
      description: redirect URI
      type: string
    state:
      description: state
      type: string
  required:
    - provider
    - code
    - client_id
    - redirect_uri
  type: object
storage.plan:
  additionalProperties: false
  description: schema for storage plan
  properties:
    account:
      $ref: '#/components/schemas/storage.plan.database'
    modb:
      $ref: '#/components/schemas/storage.plan.database'
    system:
      $ref: '#/components/schemas/storage.plan.database'
  type: object
callflows.set_alert_info:
  description: Validator for the set_alert_info callflow data object
  properties:
    alert_info:
      description: Set `Alert-Info` header inside b-leg channel. Used for distinctive ring.
      type: string
  required:
    - alert_info
  type: object
account_config.notify:
  description: Schema for notify account_config
  properties:
    notify_persist_exceptions:
      default:
        - system_alert
      description: notify notify_persist_exceptions
      items:
        type: string
      type: array
    should_persist_for_retry:
      default: true
      description: notify should_persist_for_retry
      type: boolean
  type: object
callflows.send_dtmf:
  description: Validator for the Send DTMF callflow action
  properties:
    digits:
      description: String of DTMF tones to send
      type: string
    duration_ms:
      default: 2000
      description: 'How long, in milliseconds, to send each DTMF'
      oneOf:
        - type: integer
        - type: string
  required:
    - digits
  type: object
user_auth_recovery:
  description: Send a reset-your-password email via user credentials
  properties:
    account_name:
      description: The account name of the user
      maxLength: 64
      minLength: 1
      type: string
    account_realm:
      description: The account realm of the user
      maxLength: 64
      minLength: 1
      type: string
    phone_number:
      description: A phone number assigned to the user's account
      maxLength: 64
      minLength: 1
      type: string
    ui_url:
      description: The UI's root URL
      maxLength: 2000
      minLength: 14
      type: string
    username:
      description: The user's username
      maxLength: 254
      minLength: 1
      type: string
  required:
    - ui_url
    - username
  type: object
service_plan.item:
  description: Describes a service plan item
  properties:
    activation_charge:
      description: What to charge when activating an Item
      type: number
    as:
      description: Count Item as if it was another Item
      type: string
    cascade:
      description: Whether to count quantities among all sub-accounts or just the account
      type: boolean
    discounts:
      properties:
        cumulative:
          properties:
            maximum:
              description: The most number of Items to apply discount to
              type: integer
            rate:
              description: 'The discount to apply, up to maximum Items (if applicable)'
              type: number
          type: object
        single:
          properties:
            rate:
              description: A single discount amount to apply if there are more than 0 units
              type: number
          type: object
      type: object
    markup_type:
      description: How rate for this usage is calculated
      enum:
        - fixed_price
        - percentage
        - rate
      type: string
    minimum:
      description: 'The minimum quantity to charge for, if ''quantity'' is less than ''minimum'''
      type: integer
    name:
      description: Friendly name for this Item
      type: string
    quantity:
      description: How many of the item are allowed
      type: integer
    rate:
      description: The rate to charge
      type: number
    rates:
      description: Tiers of rates based on quantities
      type: object
      x-patternProperties:
        '^[0-9]+$':
          description: The rate to charge when under the quantity indicated in the key
          type: number
    taxes:
      items:
        properties:
          name:
            description: The display name to use when generating invoices/reports
            type: string
          rate:
            description: The tax rate as a percentage
            type: number
          tax_id:
            description: The tax number/id (optional)
            type: string
        type: object
      type: array
  type: object
system_config.crossbar.notifications:
  description: Schema for crossbar.notifications system_config
  properties:
    inherit_default_values:
      default: false
      description: >-
        crossbar.notifications use parent notifications doc as default values,
        to be overridden by request data (prior to validation)
      type: boolean
    notification_timeout_ms:
      default: 5000
      description: crossbar.notifications notification timeout in milliseconds
      type: integer
  type: object
system_config.crossbar.contact_list:
  description: Schema for crossbar.contact_list system_config
  properties:
    default_includes:
      default: []
      description: crossbar.contact_list default includes
      items:
        type: object
      type: array
  type: object
system_config.jonny5:
  description: Schema for jonny5 system_config
  properties:
    default_inbound_trunks:
      description: jonny5 default inbound trunks
      type: integer
    default_twoway_trunks:
      description: jonny5 default twoway trunks
      type: integer
    flat_rate_blacklist:
      default: >-
        ^\+1(684|264|268|242|246|441|284|345|767|809|829|849|473|671|876|664|670|787|939|869|758|784|721|868|649|340|900|800|888|877|866|855|844)\d{7}$
      description: jonny5 flat rate blacklist
      type: string
    flat_rate_whitelist:
      default: '^\+1\d{10}$'
      description: jonny5 flat rate whitelist
      type: string
    resource_flat_rate_lookup:
      default: false
      description: lookup flat rate regexps per resource
      type: boolean
  type: object
callflows.route_to_cid:
  description: Endpoints lookup by cid number
  properties:
    can_call_self:
      description: Toggle whether devices of the same owner can call each other
      type: boolean
    can_text_self:
      description: Toggle whether devices of the same owner can text each other
      type: boolean
    cid_types:
      default:
        - internal
      description: 'CID types to perform search: internal, external, custom'
      items:
        type: string
      minItems: 1
      type: array
    delay:
      default: 0
      description: 'How long to delay ringing the device, in seconds'
      type: integer
    endpoint_types:
      default: []
      description: 'Endpoint types to perform search: user, device'
      items:
        type: string
      type: array
    static_invite:
      description: Override the SIP Username
      type: string
    suppress_clid:
      description: Suppress sending caller ID
      type: boolean
    timeout:
      default: 0
      description: 'Time, in seconds, to wait for device to bridge'
      type: integer
  type: object
system_config.pivot:
  description: Schema for pivot system_config
  properties:
    tts_texts_size:
      default: 4000
      description: pivot tts texts size
      type: integer
  type: object
bookkeepers:
  description: The bookkeeper modules provided by Kazoo
  properties:
    braintree:
      type: object
    local:
      type: object
  type: object
callflows.move:
  description: Validator for the move callflow data object
  properties: {}
  type: object
temporal_rules:
  description: Schema for a temporal rules
  properties:
    cycle:
      description: The recurrence cycle for this rule
      enum:
        - date
        - daily
        - weekly
        - monthly
        - yearly
      type: string
      x-support_level: supported
    days:
      description: The recurrence days for this rule
      items:
        maximum: 31
        minimum: 1
        type: integer
      type: array
      x-support_level: supported
    enabled:
      description: Whether the rule is enabled
      type: boolean
    interval:
      default: 1
      description: The recurrence interval for this rule
      minimum: 1
      type: integer
      x-support_level: supported
    month:
      description: The recurrence month for this rule
      maximum: 12
      minimum: 1
      type: integer
      x-support_level: supported
    name:
      description: A friendly name for the temporal rule
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    ordinal:
      description: The recurrence ordinal for this rule
      enum:
        - every
        - first
        - second
        - third
        - fourth
        - fifth
        - last
      type: string
      x-support_level: supported
    start_date:
      default: 62586115200
      description: The date that any recurrence should be calculated as starting on
      type: integer
      x-support_level: supported
    time_window_start:
      description: Seconds from the start of a day to consider this rule valid
      maximum: 86400
      minimum: 0
      type: integer
      x-support_level: supported
    time_window_stop:
      description: Seconds from the start of a day to stop considering this rule valid
      maximum: 86400
      minimum: 0
      type: integer
      x-support_level: supported
    wdays:
      description: The recurrence weekdays for this rule
      items:
        enum:
          - monday
          - tuesday
          - wednesday
          - wensday
          - thursday
          - friday
          - saturday
          - sunday
        type: string
      type: array
      x-support_level: supported
  required:
    - cycle
    - name
  type: object
storage.attachment.onedrive:
  description: schema for OneDrive attachment entry
  properties:
    handler:
      description: What handler module to use
      enum:
        - onedrive
      type: string
    settings:
      description: Settings for the OneDrive account
      properties:
        oauth_doc_id:
          description: Doc ID in the system 'auth' database
          type: string
          x-kazoo-validation: true
      required:
        - oauth_doc_id
      type: object
  required:
    - handler
    - settings
  type: object
faxes:
  description: >-
    Faxes API allows you to update and access fax jobs for both sending and
    receiving
  properties:
    attempts:
      default: 0
      description: >-
        The number of attempts made, this will be set by the system and reset
        automatically on put/post
      maximum: 4
      minimum: 0
      type: integer
    document:
      description: Parameters related to the storage of a fax document
      properties:
        content:
          description: >-
            The content provided in the body when fetching for transmission as a
            post
          maxLength: 256
          type: string
        content_type:
          description: >-
            The content type header to be used when fetching for transmission as
            a post
          type: string
        host:
          description: The host header to be used when fetching for transmission
          type: string
        method:
          default: get
          description: The method that should be used to retrieve the document
          enum:
            - get
            - post
          type: string
        referer:
          description: The referer header to be used when fetching for transmission
          type: string
        url:
          description: The url of the fax document
          pattern: '^https?://'
          type: string
      required:
        - url
      type: object
    from_name:
      description: The sender name for the fax
      type: string
    from_number:
      description: The sender number for the fax
      type: string
    notifications:
      description: Status notifications
      properties:
        email:
          description: Email notifications
          properties:
            send_to:
              description: A list or string of email recipient(s)
              oneOf:
                - items:
                    format: email
                    type: string
                  type: array
                - format: email
                  type: string
          type: object
        sms:
          description: SMS notifications
          properties:
            send_to:
              description: A list or string of sms recipient(s)
              oneOf:
                - items:
                    type: string
                  type: array
                - type: string
          type: object
      type: object
    retries:
      default: 1
      description: The number of times to retry
      maximum: 4
      minimum: 0
      type: integer
    to_name:
      description: The recipient name for the fax
      type: string
    to_number:
      description: The recipient number for the fax
      type: string
    tx_result:
      description: The result of a transmission attempt
      properties:
        error_message:
          default: ''
          description: A description of any error that occurred
          type: string
        fax_bad_rows:
          default: 0
          description: The number of bad rows
          type: integer
        fax_error_correction:
          default: false
          description: True if fax error correction was used
          type: boolean
        fax_receiver_id:
          default: ''
          description: The receiver id reported by the remote fax device
          type: string
        fax_speed:
          default: 0
          description: The speed (Baud-Rate) achieved during transmission
          type: integer
        pages_sent:
          default: 0
          description: The number of pages transmitted
          type: integer
        success:
          default: false
          description: True if the fax transmission was successful
          type: boolean
        time_elapsed:
          default: 0
          description: The amount of time from submission to completion
          type: integer
      type: object
  required:
    - from_number
    - to_number
  type: object
system_config.services:
  description: Schema for services system_config
  properties:
    cascade_commits_to_master_account:
      default: true
      description: services cascade_commits_to_master_account
      type: boolean
    debug_services_quantities:
      default: false
      description: services debug_services_quantities
      type: boolean
    default_allow_updates:
      default: true
      description: services default allow updates
      type: boolean
    get_items_from_quantities:
      description: services get_items_from_quantities
      type: boolean
    master_account_bookkeeper:
      default: kz_bookkeeper_local
      description: services master account bookkeeper
      type: string
    merge_strategy_priority:
      default:
        cumulative: 20
        recursive: 25
        simple: 10
      description: >-
        the object keys map to merge strategies and the values are expected to
        be an integer defining the merge priority between strategies
      type: object
    modules:
      description: services modules
      items:
        type: string
      type: array
    reseller_bookkeeper_lookup:
      default: false
      description: allow resellers configure bookkeeper for children billing
      type: boolean
    scan_rate:
      default: 20000
      description: services scan rate
      type: integer
    should_save_master_audit_logs:
      default: false
      description: services should save master audit logs
      type: boolean
    support_billing_id:
      default: true
      description: services support billing id
      type: boolean
    sync_buffer_period:
      default: 600
      description: services sync buffer period
      type: integer
    sync_services:
      default: false
      description: services sync services
      type: boolean
  type: object
account_config.cdr:
  description: Schema for cdr account_config
  properties:
    ignore_loopback_bowout:
      default: true
      description: cdr ignore loopback bowout
      type: boolean
  type: object
system_config.mobile_manager:
  description: Schema for mobile_manager system_config
  properties:
    url:
      description: mobile_manager url
      type: string
  type: object
callflows.transfer:
  description: Validator for the transfer callflow data object
  properties:
    captures:
      default:
        - no_match
      description: What to default to using if no capture group is present
      items:
        type: string
      type: array
    leg:
      description: Which leg to transfer (transferee)
      enum:
        - self
        - bleg
      type: string
    target:
      description: The target destination (extension or DID)
      type: string
    transfer_type:
      default: blind
      description: The type of transfer to perform
      enum:
        - attended
        - blind
      type: string
  type: object
callflows.disa:
  description: Validator for the DISA callflow data object
  properties: {}
  type: object
system_config.pivot.twiml:
  description: Schema for pivot.twiml system_config
  properties:
    conference_moh:
      default: '$${hold_music}'
      description: Default MOH for conferences dialed via TwiML
      type: string
  type: object
connectivity:
  description: >-
    Trunkstore configuration document - this is old stuff; do not recommend
    building off this if possible
  properties:
    account:
      description: Information that applies to the account as a whole
      properties:
        auth_realm:
          description: The realm any device in the account will use to authenticate with
          minLength: 1
          type: string
        caller_id:
          properties:
            cid_name:
              maxLength: 35
              type: string
            cid_number:
              maxLength: 35
              type: string
          type: object
        emergency_caller_id:
          properties:
            cid_name:
              maxLength: 35
              type: string
            cid_number:
              maxLength: 35
              type: string
          type: object
        trunks:
          description: The number of two-way trunks this account has purchased
          minimum: 0
          type: integer
      type: object
    name:
      description: Human-friendly name of the trunkstore account
      type: string
    servers:
      default: []
      description: What servers will be allowed to make/receive calls via this account
      items:
        properties:
          DIDs:
            type: object
            x-patternProperties:
              ^\+?\d*$:
                properties:
                  caller_id:
                    properties:
                      cid_name:
                        maxLength: 35
                        minLength: 1
                        type: string
                      cid_number:
                        maxLength: 35
                        minLength: 1
                        type: string
                    type: object
                  failover:
                    description: >-
                      Route inbound call to another destination if this server
                      fails to handle the call
                    properties:
                      e164:
                        description: An E.164 formatted DID to dial for failover
                        type: string
                      sip:
                        description: 'A SIP URI (sip:user@host) to call for failover'
                        type: string
                    type: object
                  force_outbound:
                    default: false
                    type: boolean
                  options:
                    items:
                      type: string
                    type: array
                type: object
          auth:
            properties:
              auth_method:
                default: password
                description: What type of auth mechanism to use
                enum:
                  - password
                  - Password
                  - IP
                  - ip
                type: string
              auth_password:
                description: Password of the user@auth_realm
                minLength: 1
                type: string
              auth_user:
                description: Username for authentication
                minLength: 1
                type: string
              ip:
                description: IP (sip) address for this device
                type: string
              port:
                description: Port to send SIP traffic for the remote device
                type: integer
            required:
              - auth_method
            type: object
          name:
            description: Human-friendly name of the server
            minLength: 1
            type: string
          options:
            properties:
              caller_id:
                properties:
                  cid_name:
                    maxLength: 35
                    minLength: 1
                    type: string
                  cid_number:
                    maxLength: 35
                    minLength: 1
                    type: string
                type: object
              delay:
                default: 0
                description: >-
                  The time, in seconds, to wait before attempting to call the
                  server
                type: integer
              dynamic_flags:
                description: >-
                  List of function names (or 'zone') that are called on the Call
                  record to populate the 'flags' array sent to the resource(s)
                  for matching
                items:
                  type: string
                type: array
              emergency_caller_id:
                properties:
                  cid_name:
                    maxLength: 35
                    type: string
                  cid_number:
                    maxLength: 35
                    type: string
                type: object
              enabled:
                default: true
                description: Is the server ready for sending and receiving calls
                type: boolean
              failover:
                description: >-
                  Route inbound call to another destination if this server fails
                  to handle the call
                properties:
                  e164:
                    description: An E.164 formatted DID to dial for failover
                    type: string
                  sip:
                    description: 'A SIP URI (sip:user@host) to call for failover'
                    type: string
                type: object
              flags:
                description: List of flags to use when matching resources to route the call
                items:
                  type: string
                type: array
              force_outbound:
                default: false
                description: >-
                  If true, will send the call over configured carriers instead
                  of to the server (as opposed to the 'enabled' flag, which will
                  reject the calls)
                type: boolean
              hunt_account_id:
                description: >-
                  When using local resources, use this account instead of the
                  account making the call (useful for resellers)
                type: string
              hunt_non_reconcilable:
                default: false
                description: >-
                  Whether to allow routing to continue on a non-reconcilable TO
                  number
                type: boolean
              ignore_early_media:
                type: boolean
              inbound_format:
                default: npan
                description: Determines how the INVITE is sent to the server
                enum:
                  - e164
                  - npan
                  - 1npan
                  - username
                type: string
              ip:
                description: IP (sip) address for this device
                type: string
              media_handling:
                default: bypass
                description: >-
                  Determine whether the switch should be in the media path or
                  not
                enum:
                  - process
                  - bypass
                type: string
              port:
                description: Port to send SIP traffic for the remote device
                type: integer
              progress_timeout:
                description: >-
                  The time, in seconds, to wait for the server to progress in
                  the call, before trying an optionally defined failover route
                  or terminating the call
                minimum: 1
                type: integer
              sip_headers:
                description: List of arbitrary SIP headers to add to the INVITE
                items:
                  type: object
                type: array
              timeout:
                description: 'The time, in seconds, to wait for an answer from the server'
                type: integer
            type: object
        required:
          - auth
        type: object
      type: array
callflows.prepend_cid:
  description: Validator for the prepend_cid callflow data object
  properties:
    action:
      default: prepend
      description: Action to perform
      enum:
        - reset
        - prepend
      type: string
    apply_to:
      default: current
      description: Apply the prepend to which caller ID
      enum:
        - original
        - current
      type: string
    caller_id_name_prefix:
      default: ''
      description: Prefix caller ID name
      type: string
    caller_id_number_prefix:
      default: ''
      description: Prefix caller ID number
      type: string
  type: object
system_config.metaflows:
  description: Schema for metaflows system_config
  properties:
    binding_digit:
      default: '*'
      description: metaflows binding digit
      type: string
    default_metaflow:
      default: {}
      description: metaflows default metaflow
      type: object
    digit_timeout_ms:
      default: 800
      description: metaflows digit timeout in milliseconds
      type: integer
    listen_on:
      default: a
      description: metaflows listen on
      type: string
    numbers:
      default:
        2:
          data:
            text: hi
          module: say
      description: metaflows numbers
      type: object
    patterns:
      default:
        ^2$:
          data:
            text: hi
          module: say
      description: metaflows patterns
      type: object
  type: object
system_config.kazoo_convert.convertapi:
  description: Schema for kazoo_convert.convertapi system_config
  properties:
    api_url:
      default: 'https://v2.convertapi.com'
      description: convertapi api_url
      type: string
    pdf_version:
      default: 1.7
      description: Which pdf version files will be produced by convertapi service
      enum:
        - 1.2
        - 1.3
        - 1.4
        - 1.5
        - 1.6
        - 1.7
      type: string
    resolution:
      default: 200
      description: Which document resolution is used for converted files
      maximum: 2400
      minimum: 10
      type: integer
    secret:
      description: convertapi secret
      type: string
    timeout:
      default: 60
      description: Document conversion timeout
      maximum: 1200
      minimum: 10
      type: integer
    try_openoffice:
      default: for_msoffice_files_also
      description: For which files types may be called openoffice
      enum:
        - for_msoffice_files_also
        - for_openoffice_files_only
        - never
      type: string
  type: object
system_config.speech.google:
  description: Schema for speech.google system_config
  properties:
    asr_api_key:
      default: ''
      description: API key for Google Cloud Speech
      type: string
    asr_enable_word_time_offsets:
      description: top result includes a list of words and the start and end time offsets
      type: boolean
    asr_profanity_filter:
      description: >-
        server will attempt to filter out profanities, replacing all but the
        initial character in each filtered word with asterisk
      type: boolean
    asr_url:
      default: 'https://speech.googleapis.com/v1/speech:recognize'
      description: Google Cloud Speech API url
      type: string
    tts_api_key:
      default: ''
      description: speech google tts_api_key
      type: string
    tts_url:
      default: 'https://texttospeech.googleapis.com/v1/text:synthesize'
      description: speech google tts_url
      type: string
  required:
    - asr_api_key
  type: object
system_config.crossbar.freeswitch:
  description: Schema for crossbar.freeswitch system_config
  properties:
    files_to_include:
      default:
        - freeswitch_dialplan
        - freeswitch_chatplan
      description: crossbar.freeswitch files to include
      items:
        type: string
      type: array
    offline_configuration_key:
      description: crossbar.freeswitch offline configuration key
      type: string
    realm_templates_to_process:
      default:
        - freeswitch_directory_realm
      description: crossbar.freeswitch realm templates to process
      items:
        type: string
      type: array
    templates_to_process:
      default:
        - freeswitch_directory
      description: crossbar.freeswitch templates to process
      items:
        type: string
      type: array
    work_dir:
      default: /tmp/
      description: crossbar.freeswitch work dir
      type: string
  type: object
formatters:
  description: Schema for request formatters
  type: object
  x-patternProperties:
    '^[[:alnum:]_]+$':
      description: Key to match in the route request JSON
      oneOf:
        - items:
            $ref: '#/components/schemas/formatters.format_options'
          type: array
        - $ref: '#/components/schemas/formatters.format_options'
system_config.number_manager.simwood:
  description: Schema for number_manager.simwood system_config
  properties:
    auth_password:
      default: ''
      description: number_manager.simwood auth password
      type: string
    auth_username:
      default: ''
      description: number_manager.simwood auth username
      type: string
    numbers_api_url:
      default: 'https://api.simwood.com/v3/numbers'
      description: number_manager.simwood numbers api url
      type: string
    simwood_account_id:
      default: ''
      description: number_manager.simwood simwood account id
      type: string
  type: object
system_config.crossbar.sms:
  description: Schema for crossbar.sms system_config
  properties:
    api_e164_convert_from:
      default: false
      description: crossbar.sms api e164 convert from
      type: boolean
    api_e164_convert_to:
      default: false
      description: crossbar.sms api e164 convert to
      type: boolean
  type: object
system_config.alerts:
  description: Schema for alerts system_config
  properties:
    enabled:
      default: true
      description: alerts enabled
      type: boolean
  type: object
callflows.user:
  description: Validator for the user callflow data object
  properties:
    can_call_self:
      description: Toggle whether devices of this use can call each other
      type: boolean
    can_text_self:
      description: Toggle whether devices of this use can text each other
      type: boolean
    delay:
      default: 0
      description: How long to delay the endpoint(s) before bridging
      type: integer
    fail_on_single_reject:
      description: 'If any leg rejects the call, cancel all other legs'
      type: boolean
    id:
      description: User ID
      type: string
    static_invite:
      description: Override the SIP Username
      type: string
    strategy:
      default: simultaneous
      description: Ringing strategy for the endpoint(s)
      enum:
        - simultaneous
        - single
      type: string
    suppress_clid:
      description: Toggle whether to suppress caller ID
      type: boolean
    timeout:
      default: 20
      description: 'Timeout, in seconds, to wait for answer'
      type: integer
  type: object
account_config.call_command:
  description: Schema for call_command account_config
  properties:
    unknown_cid_name:
      default: unknown
      description: the value to use when a caller ID name is required but unknown
      type: string
  type: object
metaflows.audio_level:
  description: Allow changing the volume on a channel (including mute/unmute)
  properties:
    action:
      description: Start or stop the audio adjustment
      enum:
        - start
        - stop
      type: string
    level:
      description: Adjustment level for the audio
      maximum: 4
      minimum: -4
      type: integer
    mode:
      description: What mode to use (depends on direction)
      enum:
        - read
        - write
      type: string
  type: object
call_recording.parameters:
  additionalProperties: false
  properties:
    enabled:
      description: is recording enabled
      type: boolean
    format:
      description: What format to store the recording on disk
      enum:
        - mp3
        - wav
      type: string
    record_min_sec:
      description: >-
        The minimum length, in seconds, the recording must be to be considered
        successful. Otherwise it is deleted
      type: integer
    record_on_answer:
      description: Recording should start on answer
      type: boolean
    record_on_bridge:
      description: Recording should start on bridge
      type: boolean
    record_sample_rate:
      description: What sampling rate to use on the recording
      type: integer
    time_limit:
      description: 'Time limit, in seconds, for the recording'
      maximum: 10800
      minimum: 5
      type: integer
    url:
      description: The URL to use when sending the recording for storage
      format: uri
      type: string
  type: object
system_config.tasks:
  description: Schema for tasks system_config
  properties:
    aging_expiry_d:
      default: 90
      description: tasks aging expiry in days
      minimum: 0
      type: integer
    attempt_upload_output_times:
      default: 5
      description: >-
        how many times will the upload of the resulting CSV be attempted, cannot
        be zero
      minimum: 1
      type: integer
    browse_dbs_interval_s:
      default: 86400
      description: tasks browse dbs interval in seconds
      minimum: 1
      type: integer
    crawler_delay_time_ms:
      default: 60000
      description: tasks crawler delay time in milliseconds
      type: integer
    crawler_timer_ms:
      default: 86400000
      description: tasks crawler timer in milliseconds
      minimum: 0
      type: integer
    cycle_delay_time_ms:
      default: 300000
      description: tasks cycle delay time in milliseconds
      type: integer
    discovery_expiry_d:
      default: 1
      description: tasks discovery expiry in days
      minimum: 0
      type: integer
    interaccount_delay_ms:
      default: 10000
      description: tasks interaccount delay in milliseconds
      type: integer
    low_balance_repeat_s:
      default: 86400
      description: tasks low balance repeat in seconds
      type: integer
    pause_between_upload_output_attempts_s:
      default: 10
      description: >-
        the amount of time to pause between attempts to upload resulting CSV in
        seconds
      minimum: 0
      type: integer
    scan_rate:
      default: 20000
      description: tasks scan_rate
      minimum: 0
      type: integer
    send_progress_after_processed:
      default: 1000
      description: tasks send progress after processed
      minimum: 1
      type: integer
    should_archive_modbs:
      default: false
      description: tasks should archive modbs
      type: boolean
    should_crawl_for_first_occurrence:
      default: true
      description: tasks should crawl for first occurrence
      type: boolean
    should_crawl_for_low_balance:
      default: true
      description: tasks should crawl for low balance
      type: boolean
    soft_delete_pause_ms:
      default: 10000
      description: tasks soft delete pause in milliseconds
      type: integer
    support_billing_id:
      default: true
      description: tasks support_billing_id
      type: boolean
    sync_buffer_period:
      default: 600
      description: tasks sync_buffer_period
      minimum: 0
      type: integer
    sync_services:
      default: false
      description: tasks sync_services
      type: boolean
    unfinished_port_request_lifetime_s:
      default: 2592000
      description: tasks unfinished port request lifetime in seconds
      type: integer
    wait_after_row_ms:
      default: 500
      description: tasks wait after row in milliseconds
      minimum: 0
      type: integer
  type: object
callflows.record_caller:
  description: Record the caller's audio stream
  properties:
    format:
      description: What format to store the recording on disk
      enum:
        - mp3
        - wav
      type: string
    method:
      default: put
      description: What HTTP method to use when sending the recording
      enum:
        - put
        - post
      type: string
    time_limit:
      default: 3600
      description: 'Time limit, in seconds, for the recording'
      maximum: 10800
      minimum: 5
      type: integer
    url:
      description: The URL to use when sending the recording for storage
      format: uri
      type: string
  type: object
temporal_rules_sets:
  description: Schema for a temporal rules sets
  properties:
    name:
      description: A friendly name for the temporal rule set
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    temporal_rules:
      description: Temporal Rules
      items:
        type: string
      minItems: 1
      type: array
      x-support_level: supported
  required:
    - name
  type: object
system_config.fax:
  description: Schema for fax system_config
  properties:
    max_storage_retry:
      default: 5
      description: fax maximum storage retry
      type: integer
    workers:
      default: 50
      description: fax workers
      type: integer
    report_anonymous_system_errors:
      default: false
      description: fax report anonymous system errors
      type: boolean
    default_retry_period:
      default: 300
      description: fax default retry period
      type: integer
    reschedule:
      default: {}
      description: fax reschedule
      type: object
    cloud_registration_pool_interval:
      default: 5000
      description: fax cloud registration pool interval
      type: integer
    xmpp_interval:
      default: 600000
      description: fax xmpp interval
      type: integer
    default_compare_field:
      default: result_cause
      description: fax default compare field
      type: string
    ignore_early_media:
      default: false
      description: fax ignore early media
      type: boolean
    image_min_size:
      default: 700x10
      description: fax image minimum size
      type: string
    inbound_t38_default:
      default: true
      description: fax inbound t38 default
      type: string
    store_url_document:
      default: true
      description: store the document url result in the database
      type: boolean
    serialize_outbound_numbers:
      default: true
      description: Serialize fax transmissions by outbound number globally
      type: boolean
    ensure_valid_caller_id:
      default: true
      description: fax ensure valid caller id
      type: boolean
    report_smtp_errors:
      default: true
      description: Report SMTP-related errors via notifications
      type: boolean
    store_fax_tiff:
      default: true
      description: store a pdf copy of the post processed fax document
      type: boolean
    fax_settings:
      default:
        override_callee_number: false
        override_fax_identity: true
      description: fax fax settings
      type: object
    fax_file_path:
      default: /tmp/
      description: fax fax file path
      type: string
    max_outbound:
      default: 10
      description: fax max outbound
      type: integer
    denied_content_types:
      default:
        - prefix: image/
      description: fax denied content types
      items:
        type: object
      type: array
    allow_all_addresses_when_empty:
      default: false
      description: fax allow all addresses when empty
      type: boolean
    file_cache_path:
      default: /tmp/
      description: fax file cache path
      type: string
    default_smtp_domain:
      default: fax.kazoo.io
      description: fax default SMTP domain
      type: string
    allowed_content_types:
      default:
        - application/pdf
        - image/tiff
        - prefix: image
        - prefix: application/vnd.openxmlformats-officedocument.
        - prefix: application/vnd.oasis.opendocument.
        - application/msword
        - application/vnd.ms-excel
        - application/vnd.ms-powerpoint
      description: fax allowed content types
      items:
        type: string
      type: array
    smtp_port:
      default: 19025
      description: fax smtp port
      type: integer
    default_retry_count:
      default: 3
      description: fax default retry count
      type: integer
    image_size_cmd_format:
      default: 'echo -n `identify -format "%[fx:w]x%[fx:h]" ~s`'
      description: fax image size cmd format
      type: string
    report_faxbox_system_errors:
      default: true
      description: fax report faxbox system errors
      type: boolean
    wait_for_fax_timeout_ms:
      default: 3600000
      description: fax wait for fax timeout in milliseconds
      type: integer
    smtp_sessions:
      default: 50
      description: fax smtp sessions
      type: integer
    delete_empty_faxes:
      default: false
      description: fax delete empty faxes
      type: boolean
    store_fax_pdf:
      default: true
      description: store the post processed fax document
      type: boolean
    smtp_max_msg_size:
      default: 10485670
      description: fax smtp maximum msg size
      type: integer
    log_faxbox_errors:
      default: true
      description: fax log faxbox errors
      type: boolean
    endpoint_timeout:
      default: 40
      description: fax endpoint timeout
      type: integer
    port:
      default: 30950
      description: fax port
      type: integer
  type: object
conferences.profile:
  description: Schema for conference profiles
  properties:
    alone-sound:
      description: Audio that plays while you are alone in the conference
      type: string
    announce-count:
      description: Play member count to conference when above this threshold
      type: integer
    caller-controls:
      description: Name of the caller control group
      type: string
    comfort-noise:
      description: The volume level of background white noise
      maximum: 10000
      minimum: 0
      type: integer
    energy-level:
      description: Energy level required for audio to be sent to other users
      maximum: 1800
      minimum: 0
      type: integer
    enter-sound:
      description: Audio to play when entering a conference
      type: string
    exit-sound:
      description: Audio to play when exiting a conference
      type: string
    interval:
      description: Milliseconds per frame
      maximum: 120
      minimum: 10
      type: integer
    locked-sound:
      description: Audio to play when the conference is locked
      type: string
    max-members:
      description: Set the maximum number of members in the conference
      minimum: 2
      type: integer
    max-members-sound:
      description: >-
        If max-members has been reached, audio to play to caller instead of
        joining the conference
      type: string
    moderator-controls:
      description: Name of the moderator control group to use
      type: string
    moh-sound:
      description: 'Audio to play, on a loop, while participant count is 1'
      type: string
    muted-sound:
      description: Audio to play when muted
      type: string
    rate:
      description: Audio sample rate
      enum:
        - 8000
        - 12000
        - 16000
        - 24000
        - 32000
        - 44100
        - 48000
      type: integer
    unmuted-sound:
      description: Audio to play when unmuted
      type: string
  type: object
vm_message_metadata:
  description: Schema for a voicemail message metadata
  properties:
    call_id:
      description: The SIP call-id
      type: string
    caller_id_name:
      description: The caller id name
      maxLength: 35
      type: string
    caller_id_number:
      description: The caller id number
      maxLength: 35
      type: string
    folder:
      description: The folder the message belongs to
      enum:
        - deleted
        - saved
        - new
      type: string
    from:
      description: The SIP from header
      type: string
    length:
      type: integer
    timestamp:
      description: 'The UTC timestamp, in Gregorian seconds, that the voicemail was left on'
      type: integer
    to:
      description: The SIP to header
      type: string
  type: object
system_config.notify.port_request_admin:
  description: Schema for notify.port_request_admin system_config
  properties:
    default_to:
      description: notify.port_request_admin default to
      oneOf:
        - items:
            format: email
            type: string
          type: array
        - format: email
          type: string
  type: object
cccps:
  description: Calling cards callback platform user's info
  properties:
    active:
      default: false
      description: Show's whether CID/PIN active
      type: boolean
    cid:
      description: CID to authorize
      type: string
    comment:
      description: Some notes regarding what this pin/cid for
      type: string
    max_concurent_calls_per_user:
      description: >-
        Calls per user limit. Counts all user's legs and compares to
        max_concurrent_calls_per_user multiplied by 2
      type: integer
    pin:
      description: PIN to authorize
      type: string
    retain_cid:
      description: Pass initial caller number to the callee
      type: boolean
    user_id:
      description: The ID of the user object that 'owns' cid/pin
      maxLength: 32
      minLength: 32
      type: string
system_config.number_manager.bandwidth:
  description: Schema for number_manager.bandwidth system_config
  properties:
    debug:
      default: false
      description: should debug mode be activated for the legacy knm_bandwidth?
      type: boolean
    developer_key:
      default: ''
      description: developer key for the legacy Bandwidth API
      type: string
    enable_provisioning:
      default: true
      description: number_manager.bandwidth enable provisioning
      type: boolean
    endpoints:
      description: number_manager.bandwidth endpoints
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    numbers_api_url:
      default: 'https://api.bandwidth.com/public/v2/numbers.api'
      description: number_manager.bandwidth numbers api url
      type: string
    order_name_prefix:
      default: Kazoo
      description: number_manager.bandwidth order name prefix
      type: string
    sandbox_provisioning:
      default: true
      description: number_manager.bandwidth sandbox provisioning
      type: boolean
  type: object
system_config.webhooks:
  description: Schema for webhooks system_config
  properties:
    attempt_failure_count:
      default: 6
      description: webhooks attempt failure count
      type: integer
    attempt_failure_expiry_ms:
      default: 60000
      description: webhooks attempt failure expiry in milliseconds
      type: integer
    connect_timeout_ms:
      default: 10000
      description: webhooks connect timeout in milliseconds
      type: integer
    disable_disabler:
      default: false
      description: if true webhooks will not be automatically disabled
      type: boolean
    log_successful_attempts:
      default: false
      description: webhooks log successful attempts
      type: boolean
    object_types:
      description: webhooks object types
      items:
        type: string
      type: array
  type: object
skel:
  description: Skeleton JSON schema
  properties: {}
  type: object
callflows.ring_group_toggle:
  description: Validator for the ring_group_toggle callflow data object
  properties:
    action:
      description: What the module should do. Options are 'login' and 'logout'
      enum:
        - login
        - logout
      type: string
    callflow_id:
      description: The callflow containing the ring group to log in and out of
      type: string
  required:
    - action
    - callflow_id
  type: object
system_config.crossbar.onboard:
  description: Schema for crossbar.onboard system_config
  properties:
    default_callflow_start_exten:
      default: 2000
      description: crossbar.onboard default callflow start exten
      type: integer
    default_extension_callflow:
      default: >-
        {"data": { "id": "~s" }, "module": "user", "children": { "_": { "data":
        { "id": "~s" }, "module": "voicemail", "children": {}}}}
      description: crossbar.onboard default extension callflow
      type: string
    default_vm_start_exten:
      default: 3000
      description: crossbar.onboard default vm start exten
      type: integer
    device_pwd_strength:
      default: 6
      description: crossbar.onboard device pwd strength
      type: integer
    device_username_strength:
      default: 3
      description: crossbar.onboard device username strength
      type: integer
  type: object
callflows.conference:
  description: Validator for the Conference callflow element
  properties:
    config:
      $ref: '#/components/schemas/conferences'
      description: Build an ad-hoc conference using the conferences JSON schema
      type: object
    id:
      description: Kazoo ID of the conference
      maxLength: 32
      minLength: 32
      type: string
    moderator:
      description: Is the caller entering the conference as a moderator
      type: boolean
    play_entry_tone:
      description: Should the Entry Tone be played
      oneOf:
        - type: boolean
        - type: string
    play_exit_tone:
      description: Should the Exit Tone be played
      oneOf:
        - type: boolean
        - type: string
    welcome_prompt:
      description: Describes how the caller is greeted on entering a conference
      properties:
        media_id:
          description: 'Media to play, either Kazoo media ID or URL'
          type: string
        play:
          default: true
          description: Should the Welcome Prompt be played
          type: boolean
      type: object
  type: object
system_config.sms_command:
  description: Schema for sms_command system_config
  properties:
    application_timeout:
      default: 500000
      description: sms_command application timeout
      type: integer
    collect_timeout:
      default: 60000
      description: sms_command collect timeout
      type: integer
    message_timeout:
      default: 60000
      description: sms_command message timeout
      type: integer
  type: object
callflows.receive_fax:
  description: Validator for the receive_fax callflow data object
  properties:
    media:
      properties:
        fax_option:
          description: Caller flag for T38 settings
          oneOf:
            - enum:
                - auto
                - false
                - true
              type: string
            - type: boolean
      type: object
    owner_id:
      description: User ID to send fax to
      type: string
  type: object
system_config.crossbar.callflows:
  description: Schema for crossbar.callflows system_config
  properties:
    default_reconcile_numbers:
      default: false
      description: crossbar.callflows default reconcile numbers
      type: boolean
  type: object
system_config.crossbar.devices:
  description: Schema for crossbar.devices system_config
  properties:
    allow_aggregates:
      default: true
      description: crossbar.devices allow aggregates
      type: boolean
    provisioner_host:
      description: crossbar.devices provisioner host
      type: string
    provisioner_referer:
      description: crossbar.devices provisioner referer
      type: string
    provisioning_host:
      description: crossbar.devices provisioning host
      type: string
    provisioning_referer:
      description: crossbar.devices provisioning referer
      type: string
    provisioning_type:
      description: crossbar.devices provisioning type
      type: string
    provisioning_url:
      description: crossbar.devices provisioning url
      type: string
  type: object
callflows.collect_dtmf:
  description: Validator for the Collect DTMF callflow element
  properties:
    collection_name:
      description: Store collected DTMF in a named key
      type: string
    interdigit_timeout:
      description: 'How long, in milliseconds, to wait for the next DTMF'
      minimum: 1
      type: integer
    max_digits:
      default: 1
      description: How many DTMFs to collect from the caller
      minimum: 1
      type: integer
    terminator:
      default: '#'
      description: What DTMF will terminate collection before the timeout occurs
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 0
        - '#'
        - '*'
      type: string
    terminators:
      description: What DTMFs will terminate collection before the timeout occurs
      items:
        enum:
          - 1
          - 2
          - 3
          - 4
          - 5
          - 6
          - 7
          - 8
          - 9
          - 0
          - '#'
          - '*'
        type: string
      type: array
      uniqueItems: true
    timeout:
      default: 5000
      description: 'How long, in milliseconds, to wait for the first DTMF'
      minimum: 1
      type: integer
  type: object
blacklists:
  description: Schema for a blacklists
  properties:
    name:
      description: A friendly name for the temporal rule set
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    numbers:
      default: {}
      description: Map of caller id number to block
      properties: {}
      type: object
      x-support_level: supported
    should_block_anonymous:
      description: Should block Anonymous call
      type: boolean
      x-support_level: supported
  required:
    - name
  type: object
resource_selectors:
  description: Schema for resource selector document
  properties:
    name:
      description: Selector name
      type: string
    resource:
      description: Resource ID
      type: string
    selector:
      description: Selector data
      type: string
    start_time:
      description: Start time (Gregorian seconds)
      type: integer
    stop_time:
      description: Stop time (Gregorian seconds)
      type: integer
    value:
      description: Extra selector data
      type: string
  required:
    - name
    - resource
    - selector
  type: object
system_config.crossbar.resources:
  description: Schema for crossbar.resources system_config
  properties:
    job_recovery_threshold_s:
      default: 3600
      description: crossbar.resources job recovery threshold in seconds
      type: integer
    job_recovery_timeout_s:
      default: 21600
      description: crossbar.resources job recovery timeout in seconds
      type: integer
  type: object
metaflows.tts:
  description: Use the Text-to-speech engine to say the provided text
  properties:
    engine:
      default: flite
      description: What engine to use (system-dependant)
      type: string
    language:
      description: What language is the text in
      type: string
    leg:
      default: self
      description: What leg to say the text to
      type: string
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate the TTS playback
      items:
        enum:
          - 1
          - 2
          - 3
          - 4
          - 5
          - 6
          - 7
          - 8
          - 9
          - '*'
          - 0
          - '#'
        type: string
      type: array
    text:
      description: What to say
      type: string
    voice:
      default: female
      description: What voice to use when speaking
      type: string
  type: object
callflows.flush_dtmf:
  description: Validator for the flush_dtmf callflow data object
  properties:
    collection_name:
      default: default
      description: Flush collected DTMF in a named key
      type: string
  type: object
metaflows.hold_control:
  description: Control the hold on a call
  properties:
    action:
      default: toggle
      description: How to manipulate the hold on the call
      enum:
        - hold
        - unhold
        - toggle
      type: string
  type: object
callflows.response:
  description: Validator for the Response callflow action
  properties:
    code:
      default: 486
      description: The SIP Hangup code to respond with
      type: integer
    media:
      description: Optional media file to play before responding with the hangup code/cause
      maxLength: 2048
      type: string
    message:
      description: The SIP Hangup cause to respond with
      type: string
  required:
    - code
  type: object
resource_selectors.rules:
  default: {}
  description: Schema for resource selector rules
  type: object
service_plans:
  description: Describes services offered to sub-accounts
  properties:
    bookkeepers:
      $ref: '#/components/schemas/bookkeepers'
      type: object
    category:
      description: Optional category used for grouping service plans
      type: string
    description:
      description: Describes the service plan offering
      type: string
    manual_recurring:
      description: Monthly recurring items
      items:
        properties:
          name:
            description: A friendly name for the item
            type: string
          quantity:
            description: How many of the item are allowed
            type: integer
          rates:
            description: Item's rate
            type: number
        type: object
      type: array
    merge:
      description: >-
        Optionally defines a strategy and priority to merge multiple service
        plans together
      properties:
        priority:
          description: The priority among the service plans with the merge strategy
          minimum: 0
          type: integer
        strategy:
          description: >-
            The merge strategy, like strategies are merged together based on
            their priority
          enum:
            - simple
            - cumulative
          type: string
      type: object
    name:
      description: A friendly name for the service plan
      maxLength: 128
      minLength: 1
      type: string
    plan:
      description: Outlines the service plan for various services
      type: object
      x-patternProperties:
        .+:
          $ref: '#/components/schemas/service_plan.category'
          description: Category name
          type: object
  required:
    - name
    - plan
  type: object
metaflows.move:
  description: Move a call from one device to another
  properties:
    auto_answer:
      default: false
      description: Whether to auto-answer the new leg
      type: boolean
    can_call_self:
      default: true
      description: Can intercept devices of the same targeted user
      type: boolean
    device_id:
      description: Move the call to a specific device
      type: string
    dial_strategy:
      default: simultaneous
      description: 'How to ring the endpoints, if multiple'
      type: string
    owner_id:
      description: User ID to use for finding endpoints
      type: string
  type: object
system_config.notify.fax_inbound_error_to_email:
  description: Schema for notify.fax_inbound_error_to_email system_config
  properties:
    default_enabled:
      default: false
      description: notify.fax_inbound_error_to_email default enabled
      type: boolean
    filter_error_codes:
      default:
        - 0
        - 49
      description: notify.fax_inbound_error_to_email filter error codes
      items:
        type: string
      type: array
  type: object
formatters.format_options:
  description: Schema for formatter options
  properties:
    direction:
      description: Only apply the formatter on the relevant request direction
      enum:
        - inbound
        - outbound
        - both
      type: string
    match_invite_format:
      description: >-
        Applicable on fields with SIP URIs. Will format the username portion to
        match the invite format of the outbound request.
      type: boolean
    prefix:
      description: Prepends value against the result of a successful regex match
      type: string
    regex:
      description: 'Matches against the value, with optional capture group'
      format: regex
      type: string
    strip:
      description: 'If set to true, the field will be stripped from the payload'
      type: boolean
    suffix:
      description: Appends value against the result of a successful regex match
      type: string
    value:
      description: Replaces the current value with the static value defined
      type: string
  type: object
callflows.after_bridge:
  description: Validator for the after_bridge callflow data object
  properties:
    action:
      description: What action to perform after a call is bridged
      enum:
        - park
        - transfer
        - hangup
      type: string
    data:
      description: 'The number to transfer to, or a boolean, depending on the ''action'''
      oneOf:
        - type: boolean
        - type: string
  type: object
account_config.crossbar.sms:
  description: Schema for crossbar.sms account_config
  properties:
    api_e164_convert_from:
      default: false
      description: crossbar.sms api e164 convert from
      type: boolean
    api_e164_convert_to:
      default: false
      description: crossbar.sms api e164 convert to
      type: boolean
  type: object
system_config.callflow:
  description: Schema for callflow system_config
  properties:
    allow_authz_context_overrides:
      default: false
      description: callflow allow_authz_context_overrides
      type: boolean
    authz_contexts:
      default: []
      description: callflow authz_contexts
      items:
        type: string
      type: array
    call_recording:
      properties:
        extension:
          default: mp3
          description: Default media file format for Callflow modules
          type: string
      type: object
    calls_consume_tokens:
      default: true
      description: callflow calls consume tokens
      type: boolean
    default_pin_length:
      default: 10
      description: callflow default pin length
      type: integer
    default_use_account_caller_id:
      default: true
      description: callflow default use account caller id
      type: boolean
    dialog_subscribed_mwi_prefix:
      description: callflow dialog_subscribed_mwi_prefix
      type: string
    ensure_valid_caller_id:
      default: false
      description: callflow ensure valid caller id
      type: boolean
    fax_detect_duration_s:
      default: 5
      description: callflow fax detect duration in seconds
      type: integer
    max_branch_count:
      default: 50
      description: callflow maximum branch count
      type: integer
    min_bucket_cost:
      default: 5
      description: callflow minimum bucket cost
      type: integer
    mwi_send_unsolicited_updates:
      default: true
      description: callflow mwi send unsolicited updates
      type: boolean
    operator_key:
      default: 0
      description: callflow operator key
      type: string
    post_answer_delay:
      default: 100
      description: callflow post answer delay
      type: integer
    ring_ready_offnet:
      default: true
      description: callflow ring ready offnet
      type: boolean
    route_win_timeout:
      default: 3000
      description: callflow route win timeout
      type: integer
    should_dry_run_token_restrictions:
      default: false
      description: callflow should_dry_run_token_restrictions
      type: boolean
    singular_call_hook_url:
      default: ''
      description: callflow singular call hook url
      type: string
    voicemail:
      properties:
        delete_after_notify:
          default: false
          description: callflow delete after notify
          type: boolean
        extension:
          default: mp3
          description: Default media file format for Callflow modules
          type: string
        force_require_pin:
          default: false
          description: >-
            If true, ignore the setting on the vmbox and require all users to
            enter a pin
          type: boolean
        max_box_number_length:
          default: 15
          description: callflow maximum box number length
          type: integer
        max_login_attempts:
          default: 3
          description: callflow max login attempts
          type: integer
        max_message_count:
          default: 100
          description: callflow maximum message count
          type: integer
        max_message_length:
          default: 500
          description: callflow maximum message length
          type: integer
        max_pin_length:
          default: 6
          description: callflow maximum pin length
          type: integer
        message_retention_duration:
          default: 93
          description: Voicemail message retention duration in days
          type: integer
        migrate_interaccount_delay_ms:
          default: 2000
          description: callflow migrate interaccount delay in milliseconds
          type: integer
        migrate_max_bulk_insert:
          default: 2000
          description: callflow migrate maximum bulk insert
          type: integer
        migrate_max_worker:
          default: 10
          description: callflow migrate max worker
          type: integer
        min_message_size:
          default: 500
          description: callflow minimum message size
          type: integer
        save_after_notify:
          default: false
          description: callflow save after notify
          type: boolean
        vm_message_forward_type:
          default: only_forward
          description: >-
            Enable or disable the ability to prepend a message when forwarding a
            voicemail message
          enum:
            - only_forward
            - prepend_forward
          type: string
      type: object
  type: object
conferences:
  description: Schema for conferences
  properties:
    bridge_password:
      description: the password used for a conference bridge
      type: string
    bridge_username:
      description: the username used for a conference bridge
      type: string
    caller_controls:
      description: caller controls (config settings)
      type: string
    conference_numbers:
      default: []
      description: Defines conference numbers that can be used by members or moderators
      items:
        pattern: '^[0-9]+$'
        type: string
      type: array
      uniqueItems: true
    controls:
      description: controls
      type: object
    domain:
      description: domain
      type: string
    focus:
      description: >-
        This is a read-only property indicating the media server hosting the
        conference
      type: string
    language:
      description: Prompt language to play in the conference
      type: string
    max_members_media:
      description: Media to play when the conference is full
      type: string
    max_participants:
      description: The maximum number of participants that can join
      type: integer
    member:
      default: {}
      description: Defines the discovery (call in) properties for a member
      properties:
        join_deaf:
          default: false
          description: Determines if a member will join deaf
          type: boolean
          x-support_level: supported
        join_muted:
          default: true
          description: Determines if a member will join muted
          type: boolean
          x-support_level: supported
        numbers:
          default: []
          description: Defines the conference (call in) number(s) for members
          items:
            pattern: '^[0-9]+$'
            type: string
          minItems: 0
          type: array
          uniqueItems: true
        pins:
          default: []
          description: Defines the pin number(s) for members
          items:
            pattern: '^[0-9]+$'
            type: string
          type: array
        play_entry_prompt:
          description: Whether to play the entry prompt on member join
          type: boolean
      type: object
    moderator:
      default: {}
      description: Defines the discovery (call in) properties for a moderator
      properties:
        join_deaf:
          default: false
          description: Determines if a moderator will join deaf
          type: boolean
        join_muted:
          default: false
          description: Determines if a moderator will join muted
          type: boolean
        numbers:
          default: []
          description: Defines the conference (call in) number(s) for moderators
          items:
            pattern: '^[0-9]+$'
            type: string
          type: array
          uniqueItems: true
        pins:
          default: []
          description: Defines the pin number(s) for moderators
          items:
            pattern: '^[0-9]+$'
            type: string
          type: array
      type: object
    moderator_controls:
      description: profile on the switch for controlling the conference as a moderator
      type: string
    name:
      description: A friendly name for the conference
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    owner_id:
      description: The user ID who manages this conference
      maxLength: 32
      minLength: 32
      type: string
      x-support_level: supported
    play_entry_tone:
      description: 'Whether to play an entry tone, or the entry tone to play'
      oneOf:
        - type: boolean
        - type: string
      x-support_level: supported
    play_exit_tone:
      description: 'Whether to play an exit tone, or the exit tone to play'
      oneOf:
        - type: boolean
        - type: string
      x-support_level: supported
    play_name:
      default: false
      description: Do we need to announce new conference members?
      type: boolean
    play_welcome:
      description: Whether to play the welcome prompt
      type: boolean
    profile:
      $ref: '#/components/schemas/conferences.profile'
      description: Profile configuration
      type: object
    profile_name:
      description: conference profile name
      type: string
    require_moderator:
      description: does the conference require a moderator
      type: boolean
    wait_for_moderator:
      description: should members wait for a moderator before joining the conference
      type: boolean
  type: object
mailbox_message:
  description: Schema for mailbox message
  properties:
    call_id:
      description: The SIP call-id
      type: string
    caller_id_name:
      description: The reported caller id name
      maxLength: 35
      type: string
    caller_id_number:
      description: The reported caller id number
      maxLength: 35
      type: string
    folder:
      description: The folder the message belongs to
      enum:
        - deleted
        - saved
        - new
      type: string
    from:
      description: The SIP from header
      type: string
    length:
      type: integer
    media_id:
      description: The ID of the message media object
      maxLength: 39
      minLength: 39
      type: string
    timestamp:
      description: 'The UTC timestamp, in Gregorian seconds, that the message was left on'
      type: integer
    to:
      description: The SIP to header
      type: string
  required:
    - media_id
  type: object
system_config.servers:
  description: Schema for servers system_config
  properties:
    clock_timezone:
      default: UTC
      description: servers clock timezone
      type: string
  type: object
storage.plan.database.attachment:
  description: schema for attachment ref type storage plan
  properties:
    handler:
      type: string
      x-kazoo-validation: true
    params:
      properties:
        folder_path:
          description: folder path
          type: string
      type: object
    stub:
      type: boolean
  type: object
call_recording:
  additionalProperties: false
  description: endpoint recording settings
  properties:
    any:
      $ref: '#/components/schemas/call_recording.source'
      description: settings for any calls to/from the endpoint
    inbound:
      $ref: '#/components/schemas/call_recording.source'
      description: settings for inbound calls to the endpoint
    outbound:
      $ref: '#/components/schemas/call_recording.source'
      description: settings for outbound calls from the endpoint
  type: object
storage:
  properties:
    attachments:
      $ref: '#/components/schemas/storage.attachments'
      description: Defines where and how to store attachments
    connections:
      $ref: '#/components/schemas/storage.connections'
      description: >-
        Describes alternative connections to use (such as alternative CouchDB
        instances
    id:
      description: ID of the storage document
      type: string
    plan:
      $ref: '#/components/schemas/storage.plan'
      description: >-
        Describes how to store documents depending on the database or document
        type
    ui_metadata:
      type: object
  type: object
  x-patternProperties:
    ^_:
      description: Ignores CouchDB fields prefixed by underscores
      oneOf:
        - type: boolean
        - type: integer
        - type: object
        - type: string
    ^pvt_:
      description: Ignores Kazoo private fields prefixed by pvt_
      oneOf:
        - type: boolean
        - type: integer
        - type: string
metaflows.break:
  description: Break out of media being sent to a channel
  properties: {}
  type: object
sms:
  description: sms document
  properties:
    body:
      description: text message
      maxLength: 700
      minLength: 1
      type: string
    from:
      description: 'caller-id-number, taken from user if absent'
      type: string
    scheduled:
      description: The timestamp to start delivering the message
      type: integer
    to:
      description: callee-id-number
      type: string
  required:
    - body
    - to
  type: object
account_config.callflow:
  description: Schema for callflow account_config
  properties:
    dialog_subscribed_mwi_prefix:
      description: callflow dialog_subscribed_mwi_prefix
      type: string
  type: object
endpoint.media:
  description: Schema for endpoint media options
  properties:
    audio:
      default: {}
      description: The audio media parameters
      properties:
        codecs:
          description: A list of audio codecs the endpoint supports
          items:
            enum:
              - OPUS
              - CELT@32000h
              - G7221@32000h
              - G7221@16000h
              - G722
              - speex@32000h
              - speex@16000h
              - PCMU
              - PCMA
              - G729
              - GSM
              - CELT@48000h
              - CELT@64000h
              - G722_16
              - G722_32
              - CELT_48
              - CELT_64
              - Speex
              - speex
            type: string
          type: array
          uniqueItems: true
      type: object
    bypass_media:
      description: >-
        Default bypass media mode (The string type is deprecated, please use
        this as a boolean)
      oneOf:
        - type: boolean
        - enum:
            - auto
            - false
            - true
          type: string
    encryption:
      default: {}
      description: Encryption Parameters
      properties:
        enforce_security:
          default: false
          description: Is Encryption Enabled?
          type: boolean
        methods:
          default: []
          description: Supported Encryption Types
          items:
            enum:
              - zrtp
              - srtp
            type: string
          type: array
      type: object
    fax_option:
      description: Is T.38 Supported?
      type: boolean
    ignore_early_media:
      description: >-
        The option to determine if early media from the endpoint should always
        be ignored
      type: boolean
    progress_timeout:
      description: The progress timeout to apply to the endpoint (seconds)
      type: integer
    video:
      default: {}
      description: The video media parameters
      properties:
        codecs:
          default: []
          description: A list of video codecs the endpoint supports
          items:
            enum:
              - H261
              - H263
              - H264
              - VP8
            type: string
          type: array
          uniqueItems: true
      type: object
  type: object
system_config.ecallmgr:
  description: Schema for ecallmgr system_config
  properties:
    use_shout:
      default: false
      description: ecallmgr use shout
      type: boolean
    node_commands:
      properties:
        send_http:
          properties:
            delete_on_success:
              default: false
              description: ecallmgr delete on success
              type: boolean
    freeswitch_context:
      default: context_2
      description: ecallmgr freeswitch context
      type: string
    should_detect_inband_dtmf:
      default: false
      description: ecallmgr should detect inband dtmf
      type: boolean
    text_routing_bindings:
      default:
        - context_2
      description: ecallmgr text routing bindings
      items:
        type: string
      type: array
    authz_enabled:
      default: false
      description: ecallmgr authz enabled
      type: boolean
    max_timeout_for_node_restart:
      default: 10000
      description: ecallmgr maximum timeout for node restart
      type: integer
    use_vlc:
      default: false
      description: ecallmgr use vlc
      type: boolean
    default_realm:
      default: nodomain.com
      description: ecallmgr default realm
      type: string
    record_sample_rate:
      default: 8000
      description: ecallmgr record sample rate
      type: integer
    fs_profiles:
      default: {}
      description: ecallmgr fs profiles
      type: object
    redirect_via_proxy:
      default: true
      description: ecallmgr redirect via proxy
      type: boolean
    gateways:
      default: {}
      description: ecallmgr gateways
      type: object
    debug_channel:
      default: false
      description: ecallmgr debug channel
      type: boolean
    expandable_macros:
      default:
        '{account_id}': '${ecallmgr_Account-ID}'
        '{billing_id}': '${ecallmgr_Billing-ID}'
        '{caller_id_name}': '${caller_id_name}'
        '{caller_id_number}': '${caller_id_number}'
        '{reseller_id}': '${ecallmgr_Reseller-ID}'
      description: 'macros that will be expanded at call-time, for use in custom SIP headers'
      type: object
    insert_fetched_registration_locally:
      default: false
      description: ecallmgr insert fetched registration locally
      type: boolean
    acl_request_timeout_ms:
      default: 2000
      description: ecallmgr acl_request_timeout_ms
      type: integer
    balance_crawler_enabled:
      default: false
      description: ecallmgr balance crawler enabled
      type: boolean
    fs_cmds:
      default:
        - load: mod_sofia
        - reloadacl: ''
      description: ecallmgr fs cmds
      items:
        type: object
      type: array
    restrict_channel_state_publisher:
      default: false
      description: ecallmgr restrict channel state publisher
      type: boolean
    use_http_cache:
      default: true
      description: ecallmgr use http cache
      type: boolean
    fetch_timeout:
      default: 2600
      description: ecallmgr fetch timeout
      type: integer
    process_gateways:
      default: false
      description: ecallmgr process gateways
      type: boolean
    user_cache_time_in_ms:
      default: 3600000
      description: ecallmgr user cache time in in milliseconds
      type: integer
    tcp_packet_type:
      default: 2
      description: ecallmgr tcp packet type
      type: integer
    node_down_grace_period:
      default: 10000
      description: ecallmgr node down grace period
      type: integer
    fs_cmds_wait_ms:
      default: 5000
      description: ecallmgr fs cmds wait in milliseconds
      type: integer
    default_recording_extension:
      default: .mp3
      description: ecallmgr default recording extension
      type: string
    fax_file_path:
      default: /tmp/
      description: ecallmgr fax file path
      type: string
    default_ringback:
      default: '%(2000,4000,440,480)'
      description: ecallmgr default ringback
      type: string
    call_routing_bindings:
      default:
        - context_2
      description: ecallmgr call routing bindings
      items:
        type: string
      type: array
    recording_software_name:
      default: '2600Hz, Inc.''s Kazoo'
      description: ecallmgr recording software name
      type: string
    publish_conference_event:
      default:
        - conference-create
        - conference-destroy
        - lock
        - unlock
        - add-member
        - del-member
        - stop-talking
        - start-talking
        - mute-member
        - unmute-member
        - deaf-member
        - undeaf-member
      description: ecallmgr publish conference event
      items:
        type: string
      type: array
    acls:
      default: {}
      description: ecallmgr acls
      type: object
    fs_node_uptime_s:
      default: 600
      description: ecallmgr fs node uptime in seconds
      type: integer
    balance_crawler_fetch_timeout_ms:
      default: 10000
      description: ecallmgr balance crawler fetch timeout in milliseconds
      type: integer
    default_fax_extension:
      default: .tiff
      description: ecallmgr default fax extension
      type: string
    record_stereo_sample_rate:
      default: 16000
      description: ecallmgr record stereo sample rate
      type: integer
    recording_file_path:
      default: /tmp/
      description: ecallmgr recording file path
      type: string
    record_waste_resources:
      default: false
      description: ecallmgr record waste resources
      type: boolean
    event_stream_idle_alert:
      default: 0
      description: ecallmgr event stream idle alert
      type: integer
    authz_default_action:
      default: deny
      description: ecallmgr authz default action
      type: string
    multivar_separator:
      default: ~
      description: ecallmgr multivar_separator
      type: string
    network_map:
      default: {}
      description: ecallmgr network map
      type: object
    authz_local_resources:
      default: false
      description: ecallmgr authz local resources
      type: boolean
    capabilities:
      default:
        - capability: conference
          is_loaded: false
          module: mod_conference
        - capability: channel_move
          is_loaded: false
          module: mod_channel_move
        - capability: http_cache
          is_loaded: false
          module: mod_http_cache
        - capability: dialplan
          is_loaded: false
          module: mod_dptools
        - capability: sip
          is_loaded: false
          module: mod_sofia
        - capability: fax
          is_loaded: false
          module: mod_spandsp
        - capability: tts
          is_loaded: false
          module: mod_flite
        - capability: freetdm
          is_loaded: false
          module: mod_freetdm
        - capability: skype
          is_loaded: false
          module: mod_skypopen
        - capability: xmpp
          is_loaded: false
          module: mod_dingaling
        - capability: skinny
          is_loaded: false
          module: mod_skinny
        - capability: sms
          is_loaded: false
          module: mod_sms
      description: ecallmgr capabilities
      items:
        type: object
      type: array
    use_bypass_media_after_bridge:
      default: false
      description: ecallmgr use bypass media after bridge
      type: boolean
    fs_nodes:
      default: []
      description: ecallmgr fs nodes
      items:
        type: string
      type: array
    balance_crawler_interaccount_delay_ms:
      default: 10
      description: ecallmgr balance crawler interaccount delay in milliseconds
      type: integer
    balance_crawler_cycle_ms:
      default: 60000
      description: ecallmgr balance crawler cycle in milliseconds
      type: integer
    acl_request_timeout_fudge_ms:
      default: 100
      description: ecallmgr acl_request_timeout_fudge_ms
      type: integer
    fs_reconnect_cmds:
      description: ecallmgr fs reconnect cmds
      items:
        type: object
      type: array
    publish_channel_reconnect:
      default: false
      description: ecallmgr publish channel reconnect
      type: boolean
    max_channel_uptime_s:
      default: 0
      description: ecallmgr maximum channel uptime in seconds
      type: integer
    expires_deviation_time:
      default: 180
      description: ecallmgr expires deviation time
      type: integer
    max_channel_cleanup_timeout_ms:
      default: 60000
      description: ecallmgr maximum channel cleanup timeout in milliseconds
      type: integer
    sofia_conf:
      description: ecallmgr sofia conf
      type: boolean
    publish_channel_state:
      default: true
      description: ecallmgr publish channel state
      type: boolean
    authz_dry_run:
      default: false
      description: ecallmgr authz dry run
      type: boolean
  type: object
system_config.notify.low_balance:
  description: Schema for notify.low_balance system_config
  properties:
    default_enabled:
      default: false
      description: notify.low_balance default enabled
      type: boolean
    threshold:
      default: 5.0
      description: default threshold that will trigger a low balance notification
      type: number
  type: object
callflows.voicemail:
  description: Validator for the Voicemail callflow element
  properties:
    action:
      default: compose
      description: Whether to check voicemail box or compose a new voicemail message
      enum:
        - check
        - compose
      type: string
    callerid_match_login:
      default: false
      description: Whether to match the caller ID to a voicemail box
      type: boolean
    id:
      description: The ID of the voicemail box
      maxLength: 32
      minLength: 32
      type: string
    interdigit_timeout:
      default: 2000
      description: >-
        The amount of time (in milliseconds) to wait for the caller to press the
        next digit after pressing a digit
      type: integer
    max_message_length:
      default: 500
      description: Max length of the message that caller can leave in voicemail box
      type: integer
    single_mailbox_login:
      default: false
      description: Allow login if caller has a single mailbox
      type: boolean
  type: object
callflows.set_variable:
  description: Validator for the set_variable callflow data object
  properties:
    channel:
      default: a
      description: Which channel to set the variable on
      enum:
        - a
        - both
      type: string
    value:
      description: The value to set 'variable'
      type: string
    variable:
      description: The variable name to set on the leg(s)
      type: string
  type: object
metaflows.relate:
  description: Relate two participants to each other in a conference
  properties:
    conference_id:
      description: The ID of the conference
      type: string
    other_participant:
      description: The other participant ID to relate
      oneOf:
        - type: string
        - type: integer
    participant_id:
      description: The participant ID to relate
      oneOf:
        - type: string
        - type: integer
    relationship:
      default: clear
      description: The relationship to establish between the two participants
      enum:
        - deaf
        - clear
        - mute
      type: string
  required:
    - participant_id
    - other_participant
    - conference_id
  type: object
system_config.notify.transaction:
  description: Schema for notify.transaction system_config
  properties:
    default_to:
      default: ''
      description: notify.transaction default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.transaction html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.transaction text content transfer encoding
      type: string
  type: object
system_config.frontier:
  description: Schema for frontier system_config
  properties:
    rate_limits:
      default:
        account:
          per_minute:
            invites: 200
            registrations: 100
            total_packets: 2000
          per_second:
            invites: 50
            registrations: 20
            total_packets: 100
        device:
          per_minute:
            invites: 100
            registrations: 20
            total_packets: 1000
          per_second:
            invites: 5
            registrations: 2
            total_packets: 20
      description: frontier rate limits
      type: object
  type: object
system_config.media:
  description: Schema for media system_config
  properties:
    authenticated_playback:
      default: false
      description: media authenticated playback
      type: boolean
    authenticated_store:
      default: true
      description: media authenticated store
      type: boolean
    call_recording:
      properties:
        extension:
          default: mp3
          description: Default media file format
          type: string
        storage_retry_times:
          default: 5
          description: media storage retry times
          type: integer
    default_language:
      description: media default language
      type: string
    fix_media_names:
      default: true
      description: media fix media names
      type: boolean
    max_recording_time_limit:
      default: 3600
      description: media maximum recording time limit
      type: integer
    normalize_destination_args:
      default: '-r 8000'
      description: media normalize destination args
      type: string
    normalize_executable:
      default: sox
      description: media normalize executable
      type: string
    normalize_source_args:
      default: ''
      description: media normalize source args
      type: string
    proxy_hostname:
      description: media proxy hostname to be used with HAProxy
      type: string
    proxy_ip:
      description: media proxy ip
      type: string
    proxy_listeners:
      default: 25
      description: media proxy listeners
      type: integer
    proxy_password:
      default: ''
      description: media proxy password
      type: string
    proxy_port:
      default: 24517
      description: media proxy port
      type: integer
    proxy_store_acls:
      default:
        - 127.0.0.0/24
      description: media proxy store acls
      items:
        type: string
      type: array
    proxy_store_authenticate:
      default: true
      description: media proxy store authenticate
      type: boolean
    proxy_username:
      default: ''
      description: media proxy username
      type: string
    record_min_sec:
      default: 0
      description: media record minimum sec
      type: integer
    ssl_cert:
      description: media ssl cert
      type: string
    ssl_key:
      description: media ssl key
      type: string
    ssl_password:
      default: ''
      description: media ssl password
      type: string
    ssl_port:
      default: 24518
      description: media ssl port
      type: integer
    store_recordings:
      default: false
      description: media store recordings
      type: boolean
    support_account_overrides:
      default: true
      description: media support account overrides
      type: boolean
    use_https:
      default: false
      description: media use https
      type: boolean
    use_plaintext:
      default: true
      description: media use plaintext
      type: boolean
    use_ssl_proxy:
      default: false
      description: media use ssl proxy
      type: boolean
  type: object
callflows.acdc_agent:
  description: Validator for the acdc_agent callflow data object
  properties:
    action:
      description: Set which action to perform
      enum:
        - login
        - logout
        - paused
        - resume
      type: string
    presence_id:
      description: Static presence ID to send BLF updates to
      type: string
    presence_state:
      description: Custom presence state to send
      enum:
        - early
        - confirmed
        - terminated
        - red_flash
        - red_solid
        - green
      type: string
    timeout:
      description: 'Time, in seconds, for ''paused'' state'
      type: integer
  type: object
system_config.crossbar.accounts:
  description: Schema for crossbar.accounts system_config
  properties:
    account_realm_suffix:
      default: sip.2600hz.com
      description: crossbar.accounts account realm suffix
      type: string
    allow_move:
      default: superduper_admin
      description: crossbar.accounts allow move
      type: string
    allow_sibling_listing:
      default: true
      description: crossbar.accounts allow sibling listing
      type: boolean
    default_parent:
      default: ''
      description: crossbar.accounts default parent
      type: string
    ensure_unique_name:
      default: true
      description: crossbar.accounts ensure unique name
      type: boolean
    expose_api_key:
      default: false
      description: crossbar.accounts expose api key
      type: boolean
    new_account_notify_delay_s:
      default: 30
      description: crossbar.accounts new account notify delay in seconds
      type: integer
    random_realm_strength:
      default: 3
      description: crossbar.accounts random realm strength
      type: integer
    trial_time:
      default: 1209600
      description: crossbar.accounts trial time
      type: integer
  type: object
account_rate_limits:
  additionalProperties: true
  description: describe limits for SIP requests
  properties:
    account:
      $ref: '#/components/schemas/device_rate_limits'
    device:
      $ref: '#/components/schemas/device_rate_limits'
  required:
    - account
    - device
  type: object
menus:
  description: Schema for a menus
  properties:
    allow_record_from_offnet:
      default: false
      description: Determines if the record pin can be used by external calls
      type: boolean
      x-support_level: supported
    hunt:
      default: true
      description: Determines if the callers can dial internal extensions directly
      type: boolean
      x-support_level: supported
    hunt_allow:
      description: >-
        A regular expression that an extension the caller dialed must match to
        be allowed to continue
      maxLength: 256
      minLength: 1
      type: string
      x-support_level: supported
    hunt_deny:
      description: >-
        A regular expression that if matched does not allow the caller to dial
        directly
      maxLength: 256
      minLength: 1
      type: string
      x-support_level: supported
    interdigit_timeout:
      description: >-
        The amount of time (in milliseconds) to wait for the caller to press the
        next digit after pressing a digit
      maximum: 10000
      minimum: 1
      type: integer
      x-support_level: supported
    max_extension_length:
      default: 4
      description: The maximum number of digits that can be collected
      maximum: 6
      minimum: 1
      type: integer
      x-support_level: supported
    media:
      default: {}
      description: The media (prompt) parameters
      properties:
        exit_media:
          description: >-
            When a call is transferred from the menu after all retries exhausted
            this media can be played (prior to transfer if enabled)
          oneOf:
            - type: boolean
            - maxLength: 2048
              minLength: 3
              type: string
          x-support_level: supported
        greeting:
          description: The ID of a media object that should be used as the menu greeting
          maxLength: 2048
          minLength: 3
          type: string
          x-support_level: supported
        invalid_media:
          description: >-
            When the collected digits don't result in a match or hunt this media
            can be played
          oneOf:
            - type: boolean
            - maxLength: 2048
              minLength: 3
              type: string
          x-support_level: supported
        transfer_media:
          description: >-
            When a call is transferred from the menu, either after all retries
            exhausted or a successful hunt, this media can be played
          oneOf:
            - type: boolean
            - maxLength: 2048
              minLength: 3
              type: string
          x-support_level: supported
      type: object
      x-support_level: supported
    name:
      description: A friendly name for the menu
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    record_pin:
      description: The pin number used to record the menu prompt
      maxLength: 6
      minLength: 3
      type: string
      x-support_level: supported
    retries:
      default: 3
      description: >-
        The number of times a menu should be played until a valid entry is
        collected
      maximum: 10
      minimum: 1
      type: integer
      x-support_level: supported
    suppress_media:
      default: false
      description: Determines if the playing of 'Invalid Entry' is suppressed.
      type: boolean
      x-support_level: supported
    timeout:
      description: >-
        The amount of time (in milliseconds) to wait for the caller to begin
        entering digits
      maximum: 60000
      minimum: 1
      type: integer
      x-support_level: supported
  required:
    - name
  type: object
system_config.modb:
  description: Schema for modb system_config
  properties:
    active_modbs:
      default: 6
      description: modb active modbs
      type: integer
    routines:
      default: []
      description: modb routines
      items:
        type: string
      type: array
  type: object
storage.attachment.dropbox:
  description: schema for dropbox attachment entry
  properties:
    handler:
      description: What handler module to use
      enum:
        - dropbox
      type: string
    settings:
      description: Settings for the Dropbox account
      properties:
        oauth_doc_id:
          description: Doc ID in the system 'auth' database
          type: string
          x-kazoo-validation: true
      required:
        - oauth_doc_id
      type: object
  required:
    - handler
    - settings
  type: object
system_config.number_manager.other:
  description: Schema for number_manager.other system_config
  properties:
    default_country:
      default: US
      description: Country to search and acquire blocks of numbers from
      type: string
    endpoints:
      description: number_manager.other endpoints
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    phonebook_url:
      description: number_manager.other phonebook url
      type: string
  type: object
system_config.trunkstore:
  description: Schema for trunkstore system_config
  properties:
    default_caller_id_number:
      description: trunkstore default caller id number
      type: string
    default_hunt_non_reconcilable:
      default: false
      description: trunkstore default hunt non reconcilable
      type: boolean
    ensure_valid_caller_id:
      default: false
      description: trunkstore ensure valid caller id
      type: boolean
    honor_diversions_by_cid_validation:
      default: false
      description: trunkstore honor diversions by cid validation
      type: boolean
    ring_ready_offnet:
      default: true
      description: trunkstore ring ready offnet
      type: boolean
  type: object
callflows.audio_macro.tone:
  description: Validator for playing a tone - TGML
  properties:
    duration_off:
      description: 'time, in milliseconds, for turning the tone off'
      type: integer
    duration_on:
      description: 'time, in milliseconds, for turning the tone on'
      type: integer
    frequencies:
      description: The tone frequencies to play
      items:
        description: The tone frequency
        type: integer
      type: array
    repeat:
      description: how many times to repeat the tone
      type: integer
    volume:
      description: Volume of the tone being played
      maximum: 100
      minimum: 0
      type: integer
  type: object
storage.plan.database.document:
  description: schema for document type storage plan
  properties:
    attachments:
      $ref: '#/components/schemas/storage.plan.database.attachment'
    connection:
      type: string
      x-kazoo-validation: true
  type: object
system_config.number_manager.bandwidth2:
  description: Schema for number_manager.bandwidth2 system_config
  properties:
    account_id:
      default: ''
      description: account ID for the asynchronous Bandwidth API
      type: string
    api_password:
      default: ''
      description: number_manager.bandwidth2 api password
      type: string
    api_username:
      default: ''
      description: number_manager.bandwidth2 api username
      type: string
    debug:
      default: false
      description: should the debug mode be activated for the asynchronous Bandwidth API?
      type: boolean
    enable_provisioning:
      default: true
      description: number_manager.bandwidth2 enable provisioning
      type: boolean
    max_search_quantity:
      default: 500
      description: number_manager.bandwidth2 max search quantity
      minimum: 1
      type: integer
    order_name_prefix:
      default: Kazoo
      description: number_manager.bandwidth2 order name prefix
      type: string
    sandbox_provisioning:
      default: true
      description: number_manager.bandwidth2 sandbox provisioning
      type: boolean
    sip_peer:
      default: ''
      description: number_manager.bandwidth2 sip peer
      type: string
    site_id:
      default: ''
      description: number_manager.bandwidth2 site id
      type: string
  type: object
metaflow:
  description: >-
    A metaflow node defines a module to execute, data to provide to that module,
    and one or more children to branch to
  properties:
    children:
      description: Children metaflows
      type: object
      x-patternProperties:
        .+:
          $ref: '#/components/schemas/metaflow'
    data:
      default: {}
      description: The data/arguments of the metaflow module
      type: object
      x-kazoo-validation: true
    module:
      description: The name of the metaflow module to execute at this node
      maxLength: 64
      minLength: 1
      type: string
      x-kazoo-validation: true
  required:
    - module
  type: object
storage.attachment.azure:
  description: schema for azure attachment entry
  properties:
    handler:
      description: What handler module to use
      enum:
        - azure
      type: string
    settings:
      description: Settings for the Azure account
      properties:
        account:
          description: the azure account name
          type: string
        container:
          description: the azure container where the files should be saved
          type: string
        key:
          description: the azure api key
          type: string
      required:
        - account
        - container
        - key
      type: object
  required:
    - handler
    - settings
  type: object
system_config.notify.voicemail_to_email:
  description: Schema for notify.voicemail_to_email system_config
  properties:
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.voicemail_to_email html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.voicemail_to_email text content transfer encoding
      type: string
  type: object
lists:
  description: Schema for a match list
  properties:
    description:
      description: A friendly list description
      maxLength: 128
      minLength: 1
      type: string
    name:
      description: A friendly match list name
      maxLength: 128
      minLength: 1
      type: string
    org:
      description: Full legal name of the organization
      type: string
  required:
    - name
  type: object
storage.connection.couchdb:
  description: schema for CouchDB connection entry
  properties:
    driver:
      enum:
        - kazoo_couch
    name:
      type: string
    settings:
      properties:
        connect_options:
          properties:
            keepalive:
              type: boolean
          type: object
        connect_timeout:
          type: integer
        credentials:
          properties:
            password:
              type: integer
            username:
              type: string
          required:
            - username
            - password
          type: object
        ip:
          type: string
        max_pipeline_size:
          type: integer
        max_sessions:
          type: integer
        pool:
          properties:
            name:
              type: string
            size:
              type: integer
          required:
            - name
            - size
          type: object
        port:
          type: integer
      required:
        - ip
        - port
      type: object
  required:
    - driver
    - settings
  type: object
acls:
  additionalProperties: false
  description: Access Control List entries
  properties:
    cidr:
      description: Classless Inter-Domain Routing IP notation for use on the ACL
      type: string
    description:
      description: Will be added as a comment for quick identification later
      maxLength: 30
      type: string
    network-list-name:
      description: >-
        The trusted list should represent anything that can issue calls without
        authorization.  The authoritative list should indicate inter-network
        routing equipment (SBC, etc).
      enum:
        - authoritative
        - trusted
      type: string
    type:
      default: allow
      description: Allow or deny this CIDR
      enum:
        - allow
        - deny
      type: string
  required:
    - cidr
    - network-list-name
    - type
  type: object
callflows.play:
  description: Validator for the play callflow data object
  properties:
    answer:
      description: Whether to answer an unanswered call
      type: boolean
    endless_playback:
      default: false
      description: Loop the media continuously
      type: boolean
    id:
      description: Media ID or URL of the media to play
      type: string
    loop_count:
      description: How many times to loop the media
      minimum: 1
      type: integer
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate playback of the audio
      items:
        type: string
      type: array
  type: object
callflows.eavesdrop:
  description: Validator for the eavesdrop callflow data object
  properties:
    approved_device_id:
      description: Restricts the calling device to this Device
      type: string
    approved_group_id:
      description: Requires the calling device to be part of the Group
      type: string
    approved_user_id:
      description: Requires the calling device to be part of the User
      type: string
    device_id:
      description: Device ID to eavesdrop
      type: string
    user_id:
      description: User ID to eavesdrop
      type: string
  type: object
voicemail_keys:
  description: DTMF keys for voicemail callflow module
  properties:
    configure:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: DTMF key which will enter the config menu when pressed at the main menu
    continue:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will continue to the next callflow element when pressed
        at the greeting or instructions menu
    delete:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will delete the voicemail message when pressed at the
        post playback menu
    exit:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: DTMF key which will exit the main menu when pressed
    hear_new:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will play new voicemail messages when pressed at the main
        menu
    hear_saved:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will play saved voicemail messages when pressed at the
        main menu
    keep:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will keep the voicemail message when pressed at the post
        playback menu
    listen:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will listen to the recording when pressed at the
        recording review menu
    login:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will log into the voicemail box when pressed at the
        compose voicemail menu
    next:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will go to the next voicemail message when pressed at the
        post playback menu
    operator:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: DTMF key which will call the operator when pressed
    prev:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will go to the previous voicemail message when pressed at
        the post playback menu
    rec_name:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will enter the record the voicemail box name when pressed
        at the config menu
    rec_unavailable:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will enter the record the unavailable greeting when
        pressed at the config menu
    record:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: DTMF key which will record when pressed at the recording review menu
    replay:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will replay the voicemail message when pressed at the
        post playback menu
    return_main:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will return to the main menu when pressed at the config
        menu
    save:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: DTMF key which will save when pressed at the recording review menu
    set_pin:
      $ref: '#/components/schemas/voicemail_keys.dtmf_key'
      description: >-
        DTMF key which will allow the user to set their pin when pressed at the
        config menu
resources:
  description: Schema for resources
  properties:
    emergency:
      default: false
      description: Determines if the resource represents emergency services
      type: boolean
    enabled:
      default: true
      description: Determines if the resource is currently enabled
      type: boolean
    flags:
      default: []
      description: >-
        A list of flags that can be provided on the request and must match for
        the resource to be eligible
      items:
        type: string
      type: array
    flat_rate_blacklist:
      description: >-
        Regex for determining if a number should not be eligible for flat-rate
        trunking
      type: string
    flat_rate_whitelist:
      description: Regex for determining if the number is eligible for flat-rate trunking
      type: string
    format_from_uri:
      description: >-
        When set to true requests to this resource will have a reformatted SIP
        From Header
      type: boolean
    formatters:
      $ref: '#/components/schemas/formatters'
      type: object
    from_uri_realm:
      description: >-
        When formatting SIP From on outbound requests this can be used to
        override the realm
      type: string
    gateways:
      description: A list of gateways available for this resource
      items:
        default: {}
        properties:
          bypass_media:
            description: The resource gateway bypass media mode
            type: boolean
          caller_id_type:
            description: The type of caller id to use
            enum:
              - internal
              - external
              - emergency
            type: string
          channel_selection:
            default: ascending
            description: >-
              Automatic selection of the channel within the span: ascending
              starts at 1 and moves up; descending is the opposite
            enum:
              - ascending
              - descending
            type: string
          codecs:
            description: >-
              A list of single list codecs supported by this gateway (to support
              backward compatibility)
            items:
              enum:
                - G729
                - PCMU
                - PCMA
                - G722_16
                - G722_32
                - CELT_48
                - CELT_64
                - Speex
                - GSM
                - OPUS
                - H261
                - H263
                - H264
                - VP8
              type: string
            type: array
            uniqueItems: true
          custom_sip_headers:
            anyOf:
              - $ref: '#/components/schemas/custom_sip_headers'
              - properties:
                  in:
                    $ref: '#/components/schemas/custom_sip_headers'
                    description: >-
                      Custom SIP Headers to be applied to calls inbound to Kazoo
                      from the endpoint
                  out:
                    $ref: '#/components/schemas/custom_sip_headers'
                    description: >-
                      Custom SIP Headers to be applied to calls outbound from
                      Kazoo to the endpoint
            description: A property list of SIP headers
            type: object
          custom_sip_interface:
            description: The name of a custom SIP interface
            type: string
          enabled:
            default: true
            description: Determines if the resource gateway is currently enabled
            type: boolean
          endpoint_type:
            default: sip
            description: What type of endpoint is this gateway
            enum:
              - sip
              - freetdm
              - skype
              - amqp
            type: string
          force_port:
            default: false
            description: Allow request only from this port
            type: boolean
          format_from_uri:
            description: >-
              When set to true requests to this resource gateway will have a
              reformatted SIP From Header
            type: boolean
          from_uri_realm:
            description: >-
              When formatting SIP From on outbound requests this can be used to
              override the realm
            type: string
          invite_format:
            default: route
            description: The format of the DID needed by the underlying hardware/gateway
            enum:
              - route
              - username
              - e164
              - npan
              - 1npan
            type: string
          invite_parameters:
            additionalProperties: false
            properties:
              dynamic:
                description: >-
                  A list of properties that, if found on the inbound call,
                  should be added as an INVITE parameter
                items:
                  oneOf:
                    - pattern: custom_channel_vars\..*
                      type: string
                    - pattern: custom_sip_headers\..*
                      type: string
                    - enum:
                        - zone
                      type: string
                    - additionalProperties: false
                      properties:
                        key:
                          oneOf:
                            - pattern: custom_channel_vars\..*
                              type: string
                            - pattern: custom_sip_headers\..*
                              type: string
                            - enum:
                                - zone
                              type: string
                        separator:
                          type: string
                        tag:
                          type: string
                      required:
                        - key
                        - tag
                      type: object
                type: array
              static:
                description: >-
                  A list of static values that should be added as INVITE
                  parameters
                items:
                  type: string
                type: array
            type: object
          media:
            description: The media parameters for the resource gateway
            properties:
              fax_option:
                description: Is T.38 Supported?
                type: boolean
              rtcp_mux:
                description: RTCP protocol messages mixed with RTP data
                type: boolean
            type: object
          password:
            description: SIP authentication password
            maxLength: 32
            type: string
          port:
            default: 5060
            description: This resource gateway port
            type: integer
          prefix:
            description: >-
              A string to prepend to the dialed number or capture group of the
              matching rule
            maxLength: 64
            type: string
          progress_timeout:
            description: The progress timeout to apply to the resource gateway
            type: integer
          realm:
            description: This resource gateway authentication realm
            maxLength: 64
            type: string
          route:
            description: A statically configured SIP URI to route all call to
            type: string
          server:
            description: This resource gateway server
            maxLength: 128
            minLength: 1
            type: string
          skype_interface:
            description: The name of the Skype interface to route the call over
            type: string
          skype_rr:
            default: true
            description: >-
              Determines whether to round-robin calls amongst all interfaces
              (overrides "skype_interface" setting)
            type: boolean
          span:
            description: The identity of the hardware on the media server
            type: string
          suffix:
            description: >-
              A string to append to the dialed number or capture group of the
              matching rule
            maxLength: 64
            type: string
          username:
            description: SIP authentication username
            maxLength: 32
            type: string
        required:
          - server
        type: object
      type: array
    grace_period:
      default: 5
      description: 'The amount of time, in seconds, to wait before starting another resource'
      maximum: 20
      minimum: 1
      type: integer
    ignore_flags:
      description: >-
        When set to true this resource is used if the rules/classifiers match
        regardless of flags
      type: boolean
    media:
      $ref: '#/components/schemas/endpoint.media'
      description: Media options for resources
    name:
      description: A friendly name for the resource
      maxLength: 128
      minLength: 1
      type: string
    require_flags:
      description: >-
        When set to true this resource is ignored if the request does not
        specify outbound flags
      type: boolean
    rules:
      default: []
      description: >-
        A list of regular expressions of which one must match for the rule to be
        eligible, they can optionally contain capture groups
      items:
        type: string
      type: array
    weight_cost:
      default: 50
      description: >-
        A value between 0 and 100 that determines the order of resources when
        multiple can be used
      maximum: 100
      minimum: 0
      type: integer
  required:
    - gateways
    - name
  type: object
callflows.do_not_disturb:
  description: Validator for the do_not_disturb callflow data object
  properties:
    action:
      description: What action to perform
      enum:
        - activate
        - deactivate
        - toggle
      type: string
    id:
      description: Document ID on which to update DND settings
      type: string
  type: object
faxbox:
  description: FaxBoxes allow configuration of individual fax virtual machines
  properties:
    attempts:
      default: 0
      description: >-
        The number of attempts made, this will be set by the system and reset
        automatically on put/post
      maximum: 4
      minimum: 0
      type: integer
    caller_id:
      description: The Caller-ID-Number
      type: string
      x-support_level: supported
    caller_name:
      default: Kazoo Fax Printer
      description: The Caller-ID-Name
      type: string
      x-support_level: supported
    custom_smtp_email_address:
      description: custom smtp address
      type: string
      x-support_level: supported
    fax_header:
      default: Kazoo Fax Printer
      description: The name printed at the top of the fax
      type: string
      x-support_level: supported
    fax_identity:
      description: The number printed at the top of the fax
      type: string
      x-support_level: supported
    fax_timezone:
      description: The timezone announced
      type: string
      x-support_level: supported
    media:
      default: {}
      description: The faxbox media parameters
      properties:
        fax_option:
          description: Is T.38 Supported?
          type: boolean
          x-support_level: beta
      type: object
      x-support_level: beta
    name:
      description: A friendly name for the faxbox
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    notifications:
      description: Status notifications
      properties:
        inbound:
          description: Inbound Status notifications
          properties:
            callback:
              description: A URL to send results to
              properties:
                method:
                  description: The http method to use when sending the results
                  enum:
                    - post
                    - put
                  type: string
                type:
                  description: The content-type to use when sending the results
                  enum:
                    - json
                    - www-url-form-encoded
                  type: string
                url:
                  description: The URL to call back with the results
                  pattern: '^https?://'
                  type: string
              type: object
              x-support_level: beta
            email:
              description: Inbound Email Notifications
              properties:
                send_to:
                  description: A list or string of email recipient(s)
                  oneOf:
                    - items:
                        format: email
                        type: string
                      type: array
                    - format: email
                      type: string
              type: object
              x-support_level: supported
            sms:
              description: SMS notifications
              properties:
                send_to:
                  description: A list or string of sms recipient(s)
                  oneOf:
                    - items:
                        type: string
                      type: array
                    - type: string
              type: object
              x-support_level: beta
          type: object
          x-support_level: supported
        outbound:
          description: Outbound Status notifications
          properties:
            callback:
              description: A URL to send results to
              properties:
                method:
                  description: The http method to use when sending the results
                  enum:
                    - post
                    - put
                  type: string
                type:
                  description: The content-type to use when sending the results
                  enum:
                    - json
                    - www-url-form-encoded
                  type: string
                url:
                  description: The URL to call back with the results
                  pattern: '^https?://'
                  type: string
              type: object
              x-support_level: beta
            email:
              description: Email notifications
              properties:
                send_to:
                  description: A list or string of email recipient(s)
                  oneOf:
                    - items:
                        format: email
                        type: string
                      type: array
                    - format: email
                      type: string
              type: object
              x-support_level: supported
            sms:
              description: SMS notifications
              properties:
                send_to:
                  description: A list or string of sms recipient(s)
                  oneOf:
                    - items:
                        type: string
                      type: array
                    - type: string
              type: object
              x-support_level: beta
          type: object
          x-support_level: supported
      type: object
      x-support_level: supported
    retries:
      default: 1
      description: The number of times to retry
      maximum: 4
      minimum: 0
      type: integer
      x-support_level: supported
    smtp_permission_list:
      default: []
      description: smtp permission list. accepts regular expressions
      items:
        kazoo-regexp: true
        type: string
      type: array
      x-support_level: supported
  required:
    - name
  type: object
account_config.ledgers:
  description: Schema for ledgers account_config
  properties:
    registered_ledgers:
      default:
        - friendly_name: Per Minute VoIP
          name: per-minute-voip
        - friendly_name: Mobile Data (100mB)
          name: mobile_data
        - friendly_name: Support
          name: support
      description: ledgers registered_ledgers
      items:
        type: object
      type: array
  type: object
ledgers:
  description: ledgers document
  properties:
    account:
      description: Account info
      properties:
        id:
          description: Account ID
          type: string
        name:
          description: Account name
          type: string
      type: object
    amount:
      description: Ledger amount
      minimum: 1
      type: integer
    description:
      description: Useful description for ledger
      type: string
    metadata:
      description: Metadata for ledger document
      type: object
    period:
      description: Period of ledger
      properties:
        end:
          description: Period end
          type: integer
        start:
          description: Period start
          type: integer
      type: object
    source:
      description: Origin of ledger
      properties:
        id:
          description: Source ID
          type: string
        service:
          description: Source service
          type: string
      required:
        - id
        - service
      type: object
    usage:
      description: Usage for ledger
      properties:
        quantity:
          description: Usage quantity
          type: integer
        type:
          description: Usage type
          type: string
        unit:
          description: Usage unit
          type: string
      required:
        - quantity
        - type
        - unit
      type: object
  required:
    - source
    - usage
  type: object
dialplans:
  additionalProperties:
    properties:
      description:
        description: Friendly name for this regex dialplan
        type: string
      prefix:
        description: Prefix the prepend to the capture group after applying the regex
        type: string
      suffix:
        description: Suffix the append to the capture group after applying the regex
        type: string
    type: object
  description: Permit local dialing by converting the dialed number to a routable form
  properties:
    system:
      description: List of system dial plans
      items:
        type: string
      type: array
  type: object
callflows.record_call:
  description: Validator for the Record Call callflow action
  properties:
    action:
      default: start
      description: Whether to start or stop the recording
      enum:
        - start
        - stop
      type: string
    format:
      description: What format to store the recording on disk
      enum:
        - mp3
        - wav
      type: string
    label:
      description: Label to include in the origin of call recording
      type: string
    media_name:
      description: the name of media
      type: string
    method:
      description: HTTP verb to use when sending the recording to the supplied URL
      enum:
        - put
        - post
      type: string
    origin:
      description: How the recording was started - read-only
      type: string
    record_min_sec:
      description: >-
        The minimum length, in seconds, the recording must be to be considered
        successful. Otherwise it is deleted
      type: integer
    record_on_answer:
      default: false
      description: Whether to delay the recording until the channel is answered
      type: boolean
    record_on_bridge:
      default: false
      description: Whether to delay the recording until the channel is bridged
      type: boolean
    record_sample_rate:
      description: What sampling rate to use on the recording
      type: integer
    time_limit:
      default: 3600
      description: 'Time limit, in seconds, for the recording'
      maximum: 10800
      minimum: 5
      type: integer
    url:
      description: The URL to use when sending the recording for storage
      format: uri
      type: string
  required:
    - action
  type: object
system_config.konami_pro:
  description: Schema for konami_pro system_config
  properties:
    route_win_timeout:
      default: 3000
      description: konami_pro route_win_timeout
      type: integer
  type: object
system_config.cccp:
  description: Schema for cccp system_config
  properties:
    allowed_callee_regex:
      default: '^\+?\d{7,}$'
      description: cccp allowed callee regex
      type: string
    callback_delay:
      default: 3
      description: cccp callback delay
      type: integer
    cccp_cb_number:
      description: cccp cccp cb number
      type: string
    cccp_cc_number:
      description: cccp cccp cc number
      type: string
    last_number_redial_code:
      default: '*0'
      description: cccp last number redial code
      type: string
    prompt_delay:
      default: 1
      description: cccp prompt delay
      type: integer
  type: object
system_config.crossbar.cdrs:
  description: Schema for crossbar.cdrs system_config
  properties:
    cdr_stale_view:
      default: false
      description: force cdr to return stale records only
      type: boolean
    maximum_bulk:
      default: 50
      description: crossbar.cdrs maximum bulk
      minimum: 1
      type: integer
    maximum_range:
      default: 2682000
      description: crossbar.cdrs maximum range
      type: integer
  type: object
system_config.milliwatt:
  description: Schema for milliwatt system_config
  properties:
    echo:
      default:
        caller_id: []
        number:
          - 5555555552
      description: milliwatt echo
      type: object
    route_win_timeout:
      default: 3000
      description: milliwatt route win timeout
      type: integer
    tone:
      default:
        caller_id: []
        number:
          - 5555555551
      description: milliwatt tone
      type: object
  type: object
callflows.call_waiting:
  description: Validator for the call_waiting callflow data object
  properties:
    action:
      default: toggle
      description: What action to perform
      enum:
        - activate
        - deactivate
        - toggle
      type: string
    scope:
      default: device
      description: Apply the action to the calling device or user
      enum:
        - device
        - user
      type: string
  type: object
callflows.dead_air:
  description: Validator for the dead_air callflow data object
  properties: {}
  type: object
callflows.offnet:
  description: Validator for the offnet callflow data object
  properties:
    bypass_e164:
      description: Use the original requested number instead of normalizing to E164
      type: boolean
    caller_id_type:
      default: external
      description: Which configured caller-id to use (key in the 'caller_id' object)
      type: string
    custom_sip_headers:
      anyOf:
        - $ref: '#/components/schemas/custom_sip_headers'
        - properties:
            in:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls inbound to Kazoo from
                the endpoint
            out:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls outbound from Kazoo to
                the endpoint
      description: A property list of SIP headers
      type: object
    do_not_normalize:
      description: >-
        Use the original requested number instead of normalizing; otherwise try
        to apply the endpoint's dialplan to the requested number
      type: boolean
    dynamic_flags:
      description: >-
        List of function names (or 'zone') that are called on the Call record to
        populate the 'flags' array sent to the resource(s) for matching
      items:
        type: string
      type: array
    emit_account_id:
      description: Toggles whether to put the account id in the SIP packets
      type: boolean
    format_from_uri:
      description: 'If true, puts the account realm in the From header'
      type: boolean
    from_uri_realm:
      description: Override the From realm in the SIP packets
      type: string
    hunt_account_id:
      description: >-
        When using local resources, use this account instead of the account
        making the call (useful for resellers)
      type: string
    ignore_early_media:
      default: false
      description: Toggle whether to ignore early media
      type: boolean
    outbound_flags:
      default: []
      description: List of flags to use when matching resources to route the call
      items:
        type: string
      type: array
    ringback:
      description: Tone or file to play while waiting for the leg to be answered
      type: string
    timeout:
      description: 'How long, in seconds, to wait for the call to be answered'
      type: integer
    to_did:
      description: Statically set the DID to dial
      type: string
    use_local_resources:
      default: true
      description: >-
        Toggle whether to use the account's (or hunt_account_id's) resources vs
        the system resources
      type: boolean
  type: object
system_config.callflow.park:
  description: Schema for callflow.park system_config
  properties:
    db_doc_name:
      default: parked_calls
      description: callflow.park db doc name
      type: string
    default_callback_timeout:
      default: 30000
      description: callflow.park default callback timeout
      type: integer
    default_ringback_timeout:
      default: 120000
      description: callflow.park default ringback timeout
      type: integer
    parked_presence_type:
      default: early
      description: callflow.park parked presence type
      type: string
    valet_reservation_cleanup_time_ms:
      default: 3000
      description: callflow park valet_reservation_cleanup_time_ms
      type: integer
  type: object
system_config.callflow.call_forward:
  description: Schema for callflow.call_forward system_config
  properties:
    callfwd_number_timeout:
      default: 8000
      description: callflow.call_forward callfwd number timeout
      type: integer
    keys:
      properties:
        menu_change_number:
          default: 2
          description: callflow.call_forward menu change number
          type: string
        menu_toggle_option:
          default: 1
          description: callflow.call_forward menu toggle option
          type: string
    max_callfwd_number_length:
      default: 20
      description: callflow.call_forward maximum callfwd number length
      type: integer
    min_callfwd_number_length:
      default: 3
      description: callflow.call_forward minimum callfwd number length
      type: integer
  type: object
system_config.token_buckets:
  description: Schema for token_buckets system_config
  properties:
    default:
      properties:
        max_bucket_tokens:
          default: 100
          description: token_buckets maximum bucket tokens
          type: integer
    inactivity_timeout_s:
      default: 600
      description: token_buckets inactivity timeout in seconds
      type: integer
    tokens_fill_rate:
      default: 10
      description: token_buckets tokens fill rate
      type: integer
    tokens_fill_time:
      default: second
      description: token_buckets tokens fill time
      type: string
  type: object
system_config.crossbar:
  description: Schema for crossbar system_config
  properties:
    pretty_metrics:
      default: true
      description: crossbar pretty metrics
      type: boolean
    workers:
      default: 100
      description: crossbar workers
      type: integer
    magic_path_patterns:
      default:
        - >-
          /:version/accounts/:account_id/vmboxes/:box_id/messages/:message_id/raw
        - '/:version/accounts/:account_id/faxes/:direction/:fax_id/attachment'
        - '/:version/accounts/:account_id/presence/:reportid'
      description: crossbar magic path patterns
      items:
        type: string
      type: array
    reverse_proxies:
      default:
        - 127.0.0.1
      description: crossbar reverse proxies
      items:
        type: string
      type: array
    default_language:
      default: en-US
      description: crossbar default language
      type: string
    trace_path:
      default: /tmp
      description: crossbar trace path
      type: string
    schema_strict_validation:
      default: false
      description: crossbar schema strict validation
      type: boolean
    maximum_chunk_size:
      default: 50
      description: crossbar maximum_chunk_size
      minimum: 1
      type: integer
    maximum_range:
      default: 2682000
      description: crossbar maximum range
      minimum: 1
      type: integer
    idle_timeout_ms:
      default: 120000
      description: timeout (in milliseconds) when no data is being sent
      type: integer
    max_upload_size:
      default: 8000000
      description: crossbar maximum upload size
      type: integer
    ssl_key:
      description: crossbar ssl key
      type: string
    ip:
      description: crossbar ip
      type: string
    use_ssl:
      default: false
      description: crossbar use ssl
      type: boolean
    use_plaintext:
      default: true
      description: crossbar use plaintext
      type: boolean
    ssl_workers:
      default: 100
      description: crossbar ssl workers
      type: integer
    reset_id_size:
      default: 137
      description: crossbar reset id size
      type: integer
    autoload_modules:
      description: crossbar autoload modules
      items:
        description: name of the crossbar module to load
        type: string
      type: array
    stability_level:
      description: crossbar stability_level
      enum:
        - alpha
        - beta
        - stable
      type: string
    user_auth_tokens:
      default: 35
      description: crossbar user auth tokens
      type: integer
    compress_response_body:
      default: true
      description: crossbar compress response body
      type: boolean
    refresh_app_keys:
      default:
        - name
        - i18n
        - tags
        - author
        - version
        - license
        - price
        - icon
        - screenshots
        - api_url
        - phase
      description: crossbar refresh_app_keys
      items:
        type: string
      type: array
    check_reverse_proxies:
      default: true
      description: 'If request is proxied, should Crossbar check allowed reverse proxies'
      type: boolean
    allow_tracing:
      default: false
      description: crossbar allow tracing
      type: boolean
    default_allow_anonymous_quickcalls:
      default: true
      description: crossbar default allow anonymous quickcalls
      type: boolean
    ssl_password:
      default: ''
      description: crossbar ssl password
      type: string
    request_timeout_ms:
      default: 10000
      description: crossbar request timeout in milliseconds
      type: integer
    ssl_ca_cert:
      description: crossbar ssl ca cert
      type: string
    ensure_valid_schema:
      default: true
      description: crossbar ensure valid schema
      type: boolean
    api_auth_tokens:
      default: 35
      description: crossbar api auth tokens
      type: integer
    pagination_page_size:
      default: 50
      description: crossbar pagination page size
      minimum: 1
      type: integer
    ssl_port:
      default: 8443
      description: crossbar ssl port
      type: integer
    load_view_chunk_size:
      default: 50
      description: crossbar load_view_chunk_size
      minimum: 1
      type: integer
    ssl_cert:
      description: crossbar ssl cert
      type: string
    token_costs:
      default: 1
      description: crossbar token costs
      type: integer
    port:
      default: 8000
      description: crossbar port
      type: integer
  type: object
system_config.number_manager.dash_e911:
  description: Schema for number_manager.dash_e911 system_config
  properties:
    auth_password:
      default: ''
      description: number_manager.dash_e911 auth password
      type: string
    auth_username:
      default: ''
      description: number_manager.dash_e911 auth username
      type: string
    debug:
      default: false
      description: number_manager.dash_e911 debug
      type: boolean
    emergency_provisioning_url:
      default: 'https://service.dashcs.com/dash-api/xml/emergencyprovisioning/v1'
      description: number_manager.dash_e911 emergency provisioning url
      type: string
  type: object
system_config.edr:
  description: Schema for edr system_config
  properties:
    backends:
      default: []
      description: Registered edr backends
      items:
        properties:
          bindings:
            description: The types of events the backend should be notified about
            items:
              description: An edr binding
              properties:
                account_id:
                  anyOf:
                    - description: >-
                        The account id(s) to receive events from. If not
                        specified or * then events for all accounts will be
                        received
                      type: string
                    - items:
                        description: >-
                          The account id(s) to receive events from. If not
                          specified or * then events for all accounts will be
                          received
                        type: string
                      type: array
                  default: '*'
                app_name:
                  default: '*'
                  description: >-
                    Which apps should we receive events from? If not specified
                    or * then events for all apps will be received
                  type: string
                exact_severity:
                  default: false
                  description: >-
                    If true, then only events with severity exactly matching the
                    severity field will be received. If false then more severe
                    events will also be received
                  type: boolean
                exact_verbosity:
                  default: false
                  description: >-
                    If true, then only events with verbosity exactly matching
                    the verbosity field will be received. If false then less
                    verbose events will also be received
                  type: boolean
                include_descendants:
                  default: false
                  description: >-
                    Should we receive events relating to descendant accounts if
                    an account is specified?
                  type: boolean
                severity:
                  anyOf:
                    - description: What severity are we interested in events for?
                      enum:
                        - ok
                        - warning
                        - critical
                      type: string
                    - items:
                        description: What severity are we interested in events for?
                        enum:
                          - ok
                          - warning
                          - critical
                        type: string
                      type: array
                  default: ok
                verbosity:
                  anyOf:
                    - description: What verbosity are we interested in events for?
                      enum:
                        - trace
                        - debug
                        - info
                        - warn
                        - error
                        - fatal
                      type: string
                    - items:
                        description: What verbosity are we interested in events for?
                        enum:
                          - trace
                          - debug
                          - info
                          - warn
                          - error
                          - fatal
                        type: string
                      type: array
                  default: info
              type: object
            type: array
          enabled:
            default: true
            description: Should the backend be started on edr app start?
            type: boolean
          name:
            description: A unique identifier for the backend
            minLength: 1
            type: string
          options:
            description: Options passed on to the backend module. These vary by module
            properties:
              formatter:
                description: >-
                  Output format configuration which is used by some (but not
                  all) backends
                properties:
                  options:
                    description: >-
                      Options passed on to the formatter module. These vary by
                      module
                    type: object
                  type:
                    description: >-
                      The formatter module to be used (e.g. json refers to
                      edr_fmt_json.erl)
                    enum:
                      - json
                    type: string
                type: object
            type: object
          type:
            description: >-
              The backend module to be used (e.g. amqp refers to
              edr_be_amqp.erl)
            enum:
              - amqp
              - file
              - http
            type: string
        required:
          - name
          - type
          - bindings
          - enabled
        type: object
      type: array
  type: object
callflows.intercept:
  description: Validator for the intercept callflow data object
  properties:
    approved_device_id:
      description: Restrict calling device to Device
      type: string
    approved_group_id:
      description: Restrict calling device to Group
      type: string
    approved_user_id:
      description: Restrict calling device to User
      type: string
    device_id:
      description: Device to intercept
      type: string
    group_id:
      description: Group in which to find a call to intercept
      type: string
    user_id:
      description: User in which to find a call to intercept
      type: string
  type: object
callflows.group:
  description: Validator for the group callflow data object
  properties:
    endpoints:
      default: []
      description: List of endpoint (device/user/group) IDs
      items:
        description: ID of the endpoint
        type: string
      type: array
    fail_on_single_reject:
      description: 'If any leg rejects the call, cancel all other legs'
      type: boolean
    id:
      description: Group ID
      type: string
    ignore_forward:
      default: true
      description: Whether to ignore forwarded phones
      type: boolean
    repeats:
      default: 1
      description: How many times to repeat dialing the group
      type: integer
    ringback:
      description: Ringback to use
      type: string
    ringtones:
      properties:
        external:
          description: Ring tone for calls from external sources
          type: string
        internal:
          description: Ring tone for calls from external sources
          type: string
      type: object
    strategy:
      default: simultaneous
      description: How to ring the endpoints
      enum:
        - single
        - simultaneous
      type: string
    timeout:
      default: 20
      description: How long to attempt the group
      type: integer
  type: object
system_config.kapps_controller:
  description: Schema for kapps_controller system_config
  properties:
    kapps:
      default:
        - blackhole
        - callflow
        - cdr
        - conference
        - crossbar
        - fax
        - hangups
        - media_mgr
        - milliwatt
        - omnipresence
        - pivot
        - registrar
        - reorder
        - stepswitch
        - sysconf
        - teletype
        - trunkstore
        - webhooks
      description: kapps_controller kapps
      items:
        type: string
      type: array
  type: object
multi_factor_provider:
  additionalProperties: true
  description: multi factor provider configuration
  properties:
    enabled:
      description: whether or not this configuration is enabled or not
      type: boolean
    name:
      description: A friendly name for the configuration
      type: string
    provider_name:
      description: multi factor provider name
      type: string
    settings:
      description: provider configuration
      type: object
  required:
    - enabled
    - name
    - provider_name
  type: object
system_config.camper:
  description: Schema for camper system_config
  properties:
    stop_after:
      default: 31
      description: camper stop after
      type: integer
    timeout:
      default: 15
      description: camper timeout
      type: integer
    tries:
      default: 10
      description: camper tries
      type: integer
    try_interval:
      default: 3
      description: camper try interval
      type: integer
  type: object
callflows.faxbox:
  description: Validator for the faxbox callflow data object
  properties:
    faxbox_id:
      description: ID of the faxbox
      type: string
    id:
      description: ID of the faxbox
      type: string
    media:
      properties:
        fax_option:
          description: Caller flag for T38 settings
          oneOf:
            - type: boolean
            - enum:
                - auto
                - true
                - false
              type: string
      type: object
  type: object
callflows.action:
  description: >-
    Call flows describe steps to take in order to process a phone call. They are
    trees of information related to a phone call such as "answer, play file,
    record file" etc. that are logically grouped together and ordered.
  properties:
    children:
      description: Children callflows
      type: object
      x-patternProperties:
        .+:
          $ref: '#/components/schemas/callflows.action'
    data:
      default: {}
      description: The data/arguments of the callflow module
      type: object
      x-kazoo-validation: true
    module:
      description: The name of the callflow module to execute at this node
      maxLength: 64
      minLength: 1
      type: string
      x-kazoo-validation: true
  required:
    - data
    - module
  type: object
metaflows.sound_touch:
  description: Pitch-shift and other audio effects
  properties:
    action:
      description: Whether to start or stop touching the sound
      enum:
        - start
        - stop
      type: string
    adjust_in_octaves:
      default: 0
      description: Adjust the pitch in octaves
      maximum: 1.0
      minimum: -1.0
      type: number
    adjust_in_semitones:
      default: 0
      description: Adjust the pitch in semitones
      maximum: 14.0
      minimum: -14.0
      type: number
    hook_dtmf:
      default: false
      description: Enable DTMF control of audio modifications
      type: boolean
    pitch:
      default: 1.0
      description: Set the pitch directly (lower number = lower tone)
      minimum: 1.0
      type: number
    rate:
      default: 1.0
      description: Set the rate directly
      minimum: 1.0
      type: number
    sending_leg:
      default: false
      description: Apply the filter to the sending leg
      type: boolean
    tempo:
      default: 1.0
      description: Set the tempo directly
      minimum: 1.0
      type: number
  type: object
resource_jobs:
  description: Schema for resource jobs (bulk number uploads)
  properties:
    name:
      description: 'A friendly name for the job, if you like'
      maxLength: 128
      minLength: 1
      type: string
    numbers:
      description: The listing of numbers to import to the account
      items:
        description: The number to import
        type: string
      minItems: 1
      type: array
    resource_id:
      description: The Resource ID the numbers are coming from
      type: string
  required:
    - numbers
    - resource_id
  type: object
caller_id:
  description: Defines caller ID settings based on the type of call being made
  properties:
    emergency:
      description: The caller ID used when a resource is flagged as 'emergency'
      properties:
        name:
          description: The caller id name for the object type
          maxLength: 35
          type: string
        number:
          description: The caller id name for the object type
          maxLength: 35
          type: string
      type: object
    external:
      description: The default caller ID used when dialing external numbers
      properties:
        name:
          description: The caller id name for the object type
          maxLength: 35
          type: string
        number:
          description: The caller id name for the object type
          maxLength: 35
          type: string
      type: object
    internal:
      description: The default caller ID used when dialing internal extensions
      properties:
        name:
          description: The caller id name for the object type
          maxLength: 35
          type: string
        number:
          description: The caller id name for the object type
          maxLength: 35
          type: string
      type: object
  type: object
ubiquiti_auth:
  description: Provides an auth-token via Ubiquiti's SSO
  properties:
    password:
      description: Ubiquiti SSO Password
      maxLength: 64
      minLength: 1
      type: string
    username:
      description: Ubiquiti SSO Username
      maxLength: 64
      minLength: 1
      type: string
  required:
    - password
    - username
  type: object
system_config.notify.port_request:
  description: Schema for notify.port_request system_config
  properties:
    default_from:
      description: notify.port_request default from
      type: string
    default_to:
      default: ''
      description: notify.port_request default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
  type: object
system_config.notify.voicemail_full:
  description: Schema for notify.voicemail_full system_config
  properties:
    default_enabled:
      default: false
      description: notify.voicemail_full default enabled
      type: boolean
    default_to:
      description: notify.voicemail_full default to
      oneOf:
        - items:
            format: email
            type: string
          type: array
        - format: email
          type: string
  type: object
system_config.crossbar.braintree:
  description: Schema for crossbar.braintree system_config
  properties:
    max_account_credit:
      default: 500
      description: crossbar.braintree maximum account credit
      type: number
  type: object
callflows.directory:
  description: Validator for the directory callflow data object
  properties:
    id:
      description: Directory ID
      type: string
  type: object
profile:
  description: Defines user extended properties
  properties:
    addresses:
      description: To specify the components of the addresses
      items:
        properties:
          address:
            description: To specify the address
            type: string
          types:
            description: To specify types of the address
            items:
              enum:
                - dom
                - postal
                - intl
                - parcel
                - home
                - work
                - pref
            type: array
        type: object
      type: array
    assistant:
      description: To specify the user's assistant
      type: string
    birthday:
      description: To specify the birth date of the user
      type: string
    nicknames:
      description: To specify the text corresponding to the nickname of the user
      items:
        type: string
      type: array
    note:
      description: >-
        To specify supplemental information or a comment that is associated with
        the user
      type: string
    role:
      description: >-
        To specify the function or part played in a particular situation by the
        user
      type: string
    sort-string:
      description: >-
        To specify the family name or given name text to be used for
        national-language-specific sorting of the FN and N types
      type: string
    title:
      description: To specify the position or job of the user
      type: string
  type: object
system_config.crossbar.token_restrictions:
  description: Schema for crossbar.token_restrictions system_config
  properties:
    _:
      description: 'crossbar.token_restrictions  '
      type: object
    default_priv_level:
      default: admin
      description: crossbar.token_restrictions default priv level
      type: string
  type: object
system_config.speech:
  description: Schema for speech system_config
  properties:
    asr_api_key:
      default: ''
      description: speech asr API key
      type: string
    asr_locale:
      default: en-us
      description: speech asr default locale
      type: string
    asr_mime_type:
      default: application/wav
      description: speech asr mime type
      type: string
    asr_preferred_content_type:
      default: application/wav
      description: speech asr preferred content type
      type: string
    asr_provider:
      default: ispeech
      description: speech asr provider
      type: string
    asr_url:
      default: 'http://api.ispeech.org/api/json'
      description: speech asr url
      type: string
    temporary_storage_path:
      default: /tmp
      description: speech temporary storage path
      type: string
    tts_api_key:
      default: ''
      description: speech tts api key
      type: string
    tts_args_encode:
      default: multipart
      description: speech tts args encode
      type: string
    tts_cache:
      default: 3600000
      description: 'How long, in milliseconds, to cache TTS media files'
      type: integer
    tts_end_padding:
      default: 0
      description: speech tts end padding
      type: integer
    tts_language:
      default: en-us
      description: speech tts language
      type: string
    tts_provider:
      default: flite
      description: speech tts provider
      type: string
    tts_speed:
      default: 0
      description: speech tts speed
      type: integer
    tts_start_padding:
      default: 1
      description: speech tts start padding
      type: integer
    tts_url_ispeech:
      default: 'http://api.ispeech.org/api/json'
      description: speech TTS URL for iSpeech provider
      type: string
    tts_url_voicefabric:
      default: 'https://voicefabric.ru/WSServer/ws/tts'
      description: speech TTS URL for VoiceFabric provider
      type: string
    tts_voice:
      default: male
      description: speech tts voice
      type: string
  type: object
callflows.page_group:
  description: Validator for the page_group callflow data object
  properties:
    audio:
      default: one-way
      description: What kind of audio for the group members
      enum:
        - one-way
        - two-way
      type: string
    barge_calls:
      description: Should the Endpoint be interrupted by this call
      type: boolean
    endpoints:
      description: 'Endpoint IDs (devices, users, etc) included in the ring group'
      items:
        description: 'ID of the endpoint (device, user, etc)'
        properties:
          delay:
            default: 0
            description: 'How long to delay ringing the endpoint, in seconds'
            type: integer
          endpoint_type:
            description: 'The type (device, user, etc) of endpoint'
            enum:
              - device
              - user
              - group
            type: string
          id:
            description: The ID of the endpoint
            maxLength: 128
            minLength: 1
            type: string
          timeout:
            default: 20
            description: 'How long to ring the endpoint, in seconds'
            type: integer
          weight:
            description: 'Weight of endpoint, different usage in various strategies'
            maximum: 100
            minimum: 1
            type: integer
        required:
          - endpoint_type
          - id
        type: object
      minItems: 1
      type: array
    timeout:
      default: 5
      description: 'How long to ring the ring group before continuing, in seconds'
      type: integer
  required:
    - audio
    - endpoints
  type: object
system_config.topup:
  description: Schema for topup system_config
  properties:
    enable:
      default: false
      description: topup enable
      type: boolean
  type: object
metaflows.record_call:
  description: Start a call recording
  properties:
    action:
      default: toggle
      description: Whether to start/stop the recording
      enum:
        - mask
        - unmask
        - start
        - stop
        - toggle
      type: string
    format:
      description: What format to store the recording
      enum:
        - mp3
        - wav
      type: string
    label:
      description: Add a custom label to the recording
      type: string
    media_name:
      description: Name of the recording file
      type: string
    method:
      description: HTTP method if using an HTTP destination
      enum:
        - put
        - post
      type: string
    origin:
      description: Track how the recording was started
      type: string
    record_min_sec:
      description: Minimum number of seconds recorded to consider it a valid recording
      type: integer
    record_on_answer:
      default: false
      description: Whether to start recording when the leg is answered
      type: boolean
    record_on_bridge:
      default: false
      description: Whether to start recording when the leg is bridged
      type: boolean
    record_sample_rate:
      description: Sampling rate for the recording
      type: integer
    time_limit:
      description: 'How long to allow the recording, in seconds'
      type: integer
    url:
      description: HTTP URL to send the finished recording
      type: string
  type: object
callflows.privacy:
  description: Validator for the privacy callflow data object
  properties:
    endpoint_strategy:
      default: overwrite
      description: >-
        whether cf_privacy should overwrite or merge with the caller_id_options
        of the endpoint.
      enum:
        - overwrite
        - merge
      type: string
    mode:
      default: full
      description: >-
        set caller privacy on calls, restricting the presentation some or full
        parts of Caller ID
      enum:
        - full
        - name
        - number
        - yes
      type: string
  type: object
system_config.crossbar.local_resources:
  description: Schema for crossbar.local_resources system_config
  properties:
    allow_peers:
      default: false
      description: crossbar.local_resources allow peers
      type: boolean
  type: object
callflows.language:
  description: Validator for the Language callflow element
  properties:
    language:
      description: The language to default to for the rest of the call
      pattern: '^[A-Za-z]{2}(-[A-Za-z]{2})?$'
      type: string
  required:
    - language
  type: object
system_config.crossbar.auth:
  description: Schema for crossbar.auth system_config
  properties:
    auth_modules:
      additionalProperties: false
      default:
        cb_api_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_ip_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_ubiquiti_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: false
          token_auth_expiry_s: 3600
        cb_user_auth:
          enabled: true
          log_failed_attempts: true
          log_successful_attempts: true
          token_auth_expiry_s: 3600
      description: Default crossbar authentication modules configuration
      properties:
        cb_api_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_ip_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_ubiquiti_auth:
          $ref: '#/components/schemas/auth_module_config'
        cb_user_auth:
          $ref: '#/components/schemas/auth_module_config'
      type: object
    available_auth_methods:
      default:
        - cb_user_auth
        - cb_api_auth
        - cb_auth
        - cb_ip_auth
        - cb_ubiquiti_auth
      description: List of crossbar auth configurable modules
      items:
        type: string
      type: array
    basic_auth_type:
      default: md5
      description: crossbar.auth basic auth type
      enum:
        - md5
        - sha
      type: string
    log_failed_attempts:
      default: false
      description: Should log failed login attempts
      type: boolean
    log_failed_login_attempts:
      default: false
      description: Should log failed login attempts
      type: boolean
    log_successful_attempts:
      default: false
      description: Should log successful login attempts
      type: boolean
    token_auth_expiry_s:
      default: 3600
      description: crossbar token auth expiry in seconds
      type: integer
  type: object
domains:
  description: Domain settings for white-labelling
  properties:
    A:
      description: A records
      type: object
    CNAME:
      $ref: '#/components/schemas/domain_hosts'
      description: CNAME records
      type: object
    MX:
      description: 'MX records, typically for email servers'
      type: object
    NAPTR:
      description: NAPTR records
      type: object
    SRV:
      description: SRV records
      type: object
    TXT:
      description: TXT records
      type: object
system_config.keys:
  description: Schema for DTMF keys system_config
  properties:
    voicemail:
      $ref: '#/components/schemas/voicemail_keys'
      description: DTMF keys for voicemail callflow module
  type: object
metaflows.play:
  description: Skeleton JSON schema
  properties:
    id:
      description: Media ID to play
      type: string
    leg:
      default: both
      description: Leg to play the media to
      enum:
        - self
        - peer
        - both
      type: string
  type: object
notifications:
  description: Notifications templates
  properties:
    bcc:
      description: Bcc email field
      properties:
        email_addresses:
          description: BCC Email Addresses
          items:
            format: email
            type: string
          type: array
        type:
          enum:
            - original
            - specified
            - admins
          maxLength: 253
          minLength: 2
          type: string
      type: object
    category:
      description: 'Category of the template, for grouping purposes'
      minLength: 1
      type: string
    cc:
      description: CC email field
      properties:
        email_addresses:
          description: CC Email Addresses
          items:
            format: email
            type: string
          type: array
        type:
          enum:
            - original
            - specified
            - admins
          type: string
      type: object
    enabled:
      default: true
      description: Enable notification
      type: boolean
    friendly_name:
      description: Friendly name of the template
      minLength: 1
      type: string
    from:
      description: 'From: email address'
      format: email
      type: string
    macros:
      default: {}
      properties: {}
      type: object
    reply_to:
      description: 'Reply-To: email address'
      format: email
      type: string
    subject:
      description: Email subject
      maxLength: 200
      minLength: 1
      type: string
    template_charset:
      default: utf-8
      minLength: 1
      type: string
    to:
      description: To email field
      properties:
        email_addresses:
          items:
            format: email
            type: string
          type: array
        type:
          enum:
            - original
            - specified
            - admins
          maxLength: 253
          minLength: 2
          type: string
      type: object
  required:
    - from
    - subject
    - to
  type: object
system_config.notify.ported:
  description: Schema for notify.ported system_config
  properties:
    default_to:
      default: ''
      description: notify.ported default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    send_from_admin_email:
      default: true
      description: notify.ported send from admin email
      type: boolean
  type: object
callflows:
  description: >-
    Call flows describe steps to take in order to process a phone call. They are
    trees of information related to a phone call such as "answer, play file,
    record file" etc. that are logically grouped together and ordered.
  properties:
    featurecode:
      description: >-
        When the callflow is used as a featurecode this object tracks the
        intended match of the pattern and name of the feature
      properties:
        name:
          maxLength: 128
          minLength: 1
          type: string
        number:
          maxLength: 30
          minLength: 1
          type: string
      type: object
    flow:
      $ref: '#/components/schemas/callflows.action'
      description: >-
        A callflow node defines a module to execute, data to provide to that
        module, and zero or more children to branch to
    metaflow:
      $ref: '#/components/schemas/metaflows'
      description: >-
        Actions applied to a call outside of the normal callflow, initiated by
        the caller(s)
    numbers:
      default: []
      description: A list of static numbers that the callflow should execute for
      items:
        maxLength: 36
        minLength: 1
        type: string
      type: array
      uniqueItems: true
    patterns:
      default: []
      description: >-
        A list of regular expressions that the callflow should execute for, with
        optional capture groups
      items:
        minLength: 1
        type: string
      type: array
  type: object
ips:
  description: IP addresses assigned to the account
  properties:
    ips:
      description: List of IP addresses
      items:
        description: IP address
        type: string
      minItems: 1
      type: array
callflows.lookupcidname:
  description: Validator for the Lookup callflow element
  properties:
    lists:
      default: []
      description: Array of list ids
      items:
        type: string
      type: array
  required:
    - lists
  type: object
callflows.missed_call_alert:
  description: Validator for the missed_call_alert callflow data object
  properties:
    recipients:
      description: >-
        One or more specific email addresses, Kazoo user ids or a combination of
        both
      items:
        properties:
          id:
            description: >-
              The email address/user ID or the list of email addresses/user IDs
              based on specified type
            oneOf:
              - format: email
                type: string
              - items:
                  format: email
                  type: string
                type: array
          type:
            description: >-
              Controls if the ID of this object is a Kazoo user ID or an email
              address
            enum:
              - user
              - email
            type: string
        required:
          - id
          - type
        type: object
      type: array
  required:
    - recipients
  type: object
port_requests:
  description: Schema for a port request
  properties:
    bill:
      description: Billing information of the losing carrier
      properties:
        carrier:
          description: The name of the losing carrier
          type: string
        extended_address:
          description: >-
            The suite/floor/apt of the billing address the losing carrier has on
            record
          type: string
        locality:
          description: >-
            The locality (city) of the billing address the losing carrier has on
            record
          type: string
        name:
          description: The losing carrier billing/account name
          type: string
        postal_code:
          description: >-
            The zip/postal code of the billing address the losing carrier has on
            record
          type: string
        region:
          description: >-
            The region (state) of the billing address the losing carrier has on
            record
          type: string
        street_address:
          description: >-
            The street name of the billing address the losing carrier has on
            record
          type: string
        street_number:
          description: >-
            The street number of the billing address the losing carrier has on
            record
          type: string
        street_type:
          description: >-
            The street type of the billing address the losing carrier has on
            record
          type: string
      type: object
    comments:
      description: The history of comments made on a port request
      items:
        type: object
      type: array
    name:
      description: A friendly name for the port request
      maxLength: 128
      minLength: 1
      type: string
    notifications:
      description: Status notifications
      properties:
        email:
          description: Inbound Email Notifications
          properties:
            send_to:
              description: A list or string of email recipient(s)
              oneOf:
                - format: email
                  type: string
                - items:
                    format: email
                    type: string
                  type: array
          type: object
      type: object
    numbers:
      description: The numbers to port in
      minProperties: 1
      type: object
      x-patternProperties:
        '\+?[0-9]+':
          type: object
    port_state:
      default: unconfirmed
      description: What state the port request is currently in
      enum:
        - unconfirmed
        - pending
        - submitted
        - scheduled
        - completed
        - rejected
        - canceled
      type: string
    signee_name:
      description: >-
        The name of the person authorizing the release of numbers from the
        losing carrier
      type: string
    signing_date:
      description: >-
        The date in Gregorian timestamp on which the document releasing the
        numbers from the losing carrier was signed
      type: integer
    transfer_date:
      description: Requested transfer date in Gregorian timestamp
      type: integer
  required:
    - name
    - numbers
  type: object
callflows.camping_feature:
  description: Validator for the camping_feature callflow data object
  properties: {}
  type: object
callflows.sleep:
  description: Validator for the sleep callflow data object
  properties:
    duration:
      default: 0
      description: How long to pause before continuing the callflow
      maximum: 86400000
      minimum: 0
      type: integer
    unit:
      default: s
      description: What time unit is 'duration' in
      enum:
        - ms
        - s
        - m
        - h
      type: string
  type: object
callflows.set_cid:
  description: Validator for the set_cid callflow data object
  properties:
    caller_id_name:
      default: ''
      description: Set caller ID Name
      type: string
    caller_id_number:
      default: ''
      description: Set caller ID number
      type: string
  type: object
metaflows.resume:
  description: 'Reconnect the two legs of a call, if possible'
  properties: {}
  type: object
system_config.notify.first_occurrence:
  description: Schema for notify.first_occurrence system_config
  properties:
    default_to:
      default: ''
      description: notify.first_occurrence default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.first_occurrence html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.first_occurrence text content transfer encoding
      type: string
  type: object
cdrs:
  additionalProperties: false
  description: Call Detail Records
  properties:
    billing_seconds:
      description: >-
        The number of seconds the call leg can be billed for (typically from
        when the call leg is answered
      type: string
    local_sdp:
      description: The SDP negotiated by the local agent
      type: string
    call_direction:
      description: 'Direction of the call, relative to the media switch'
      enum:
        - inbound
        - outbound
      type: string
    hangup_cause:
      description: The reason for the call leg's termination
      type: string
    digits_dialed:
      description: All the DTMF tones detected on this leg of the call
      type: string
    fax_ecm_used:
      type: string
    app_version:
      description: The internal Kazoo version number of the application that issued the CDR
      type: string
    fax_result_code:
      type: string
    duration_seconds:
      description: 'The duration of the call leg, in seconds'
      type: string
    fax_transfer_rate:
      type: string
    fax_bad_rows:
      type: string
    caller_id_number:
      description: The indicated number of the caller
      type: string
    user_agent:
      description: User agent header from SIP packet
      type: string
    other_leg_call_id:
      description: 'If this leg was bridged, the call-id of the opposite leg'
      type: string
    ringing_seconds:
      description: How many seconds the leg was ringing (pre-answer)
      type: string
    fax_result_text:
      type: string
    timestamp:
      description: 'UTC timestamp, in Gregorian seconds, of when the CDR was generated'
      type: string
    presence_id:
      description: ID used in NOTIFY SIP messages
      type: string
    node:
      description: The ecallmgr which issued the CDR
      type: string
    from_uri:
      description: The From SIP URI
      type: string
    custom_channel_vars:
      additionalProperties:
        type: string
      description: Kazoo-specific key/value pairs set on the channel
      type: object
    fax_success:
      type: string
    other_leg_caller_id_number:
      description: Caller ID number of the bridged leg
      type: string
    callee_id_name:
      description: The indicated name of the callee
      type: string
    fax_transferred_pages:
      type: string
    other_leg_destination_number:
      description: Dialed number of the other leg
      type: string
    app_name:
      description: The Kazoo application that issued the CDR
      type: string
    to_uri:
      description: The To SIP URI
      type: string
    remote_sdp:
      description: The SDP negotiated by the remote agent
      type: string
    hangup_code:
      description: 'The SIP hangup code, if available'
      type: string
    callee_id_number:
      description: The indicated number of the callee
      type: string
    other_leg_caller_id_name:
      description: Caller ID name of the bridged leg
      type: string
    media_server:
      description: The hostname of the media server that processed the call
      type: string
    call_id:
      description: Unique identifier of the call leg
      type: string
    from:
      description: 'Built by Kazoo, depending on direction, to represent the From user'
      type: string
    fax_total_pages:
      type: string
    custom_sip_headers:
      anyOf:
        - $ref: '#/components/schemas/custom_sip_headers'
        - properties:
            in:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls inbound to Kazoo from
                the endpoint
            out:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls outbound from Kazoo to
                the endpoint
      description: A property list of SIP headers
      type: object
    request:
      description: Built by Kazoo this is the processed request URI
      type: string
    other_leg_direction:
      description: 'direction of the other leg, relative to the media server'
      type: string
    to:
      description: 'Built by Kazoo, depending on direction, to represent the To user'
      type: string
    caller_id_name:
      description: The indicated name of the caller
      type: string
    disposition:
      description: Who sent the SIP BYE message
      type: string
  required:
    - call_id
  type: object
callflows.hotdesk:
  description: Validator for the hotdesk callflow data object
  properties:
    action:
      description: The action to take for hotdesking
      enum:
        - logout
        - login
        - toggle
        - bridge
      type: string
    id:
      description: Hotdesk ID
      type: string
    interdigit_timeout:
      description: 'How long, in seconds, to wait between keypresses'
      type: integer
  type: object
callflows.webhook:
  description: Validator for the webhook callflow data object
  properties:
    custom_data:
      description: JSON object of custom data included on the HTTP request
      type: object
    http_verb:
      description: What HTTP verb to use when sending the request
      enum:
        - post
        - get
      type: string
    retries:
      description: How many times to retry the request if the host isn't available
      type: integer
    uri:
      description: The HTTP URI to send the request
      type: string
  type: object
callflows.acdc_wait_time:
  description: Validator for the acdc_wait_time callflow data object
  properties:
    id:
      description: Queue ID
      type: string
    window:
      description: Window over which average wait time is calculated (in seconds)
      type: integer
  type: object
callflows.set_variables:
  description: Validator for the set_variables callflow data object
  properties:
    custom_application_vars:
      default: {}
      description: Key-value pairs to set as custom_application_vars on the channel
      type: object
      x-patternProperties:
        '[a-zA-Z0-9\-_]+':
          type: string
    export:
      description: >-
        When true the provided custom_application_vars are set on the channel
        and any channel bridged to it later
      type: boolean
  required:
    - custom_application_vars
  type: object
system_config.tasks.numbers:
  description: Schema for tasks.numbers system_config
  properties:
    db_page_size:
      default: 1000
      description: maximum count of numbers read from db at once
      type: integer
    import_defaults_to_carrier:
      default: knm_local
      description: carrier module to use if none provided during numbers import
      type: string
  type: object
system_config.kazoo_couch:
  description: Schema for kazoo_couch system_config
  properties:
    admin_port:
      default: 5986
      description: 'The CouchDB API port, typically 5986'
      type: integer
    allow_maintenance_db_delete:
      default: false
      description: kazoo_couch allow maintenance db delete
      type: boolean
    api_port:
      default: 5984
      description: 'The CouchDB API port, typically 5984'
      type: integer
    compact_automatically:
      default: false
      description: kazoo_couch compact automatically
      type: boolean
    default_chunk_size:
      default: 1000
      description: kazoo_couch default chunk size
      type: integer
    max_compacting_shards:
      default: 2
      description: kazoo_couch maximum compacting shards
      type: integer
    max_compacting_views:
      default: 2
      description: kazoo_couch maximum compacting views
      type: integer
    max_concurrent_docs_to_archive:
      default: 500
      description: kazoo_couch maximum concurrent docs to archive
      type: integer
    max_wait_for_compaction_pids:
      default: 360000
      description: kazoo_couch maximum wait for compaction pids
      type: integer
    min_data_size:
      default: 131072
      description: kazoo_couch minimum data size
      type: integer
    min_ratio:
      default: 1.2
      description: kazoo_couch minimum ratio
      type: number
    sleep_between_poll:
      default: 3000
      description: kazoo_couch sleep between poll
      type: integer
    use_bigcouch_direct:
      default: true
      description: kazoo_couch use bigcouch direct
      type: boolean
  type: object
account_config.privacy:
  description: Schema for privacy account_config
  properties:
    block_anonymous_caller_id:
      default: false
      description: Controls blocking of anonymous calls
      type: boolean
    privacy_mode:
      default: kazoo
      description: Default privacy mode for anonymous calls
      type: string
  type: object
system_config.ledgers:
  description: Schema for ledgers system_config
  properties:
    registered_ledgers:
      default:
        - friendly_name: Per Minute VoIP
          name: per-minute-voip
        - friendly_name: Mobile Data (100mB)
          name: mobile_data
        - friendly_name: Support
          name: support
      description: ledgers registered_ledgers
      items:
        type: object
      type: array
  type: object
system_config.notify.fax:
  description: Schema for notify.fax system_config
  properties:
    attachment_format:
      default: pdf
      description: notify.fax attachment format
      type: string
    tiff_to_pdf_conversion_command:
      default: tiff2pdf -o ~s ~s &> /dev/null && echo -n "success"
      description: notify.fax tiff to pdf conversion command
      type: string
  type: object
tasks:
  additionalProperties: true
  description: Input data to go through as part of a background task
  properties:
    file_name:
      description: Human-readable name of a task's input file
      type: string
    records:
      description: List the rows of input data
      items:
        type: object
      minItems: 1
      type: array
  type: object
system_config.accounts:
  description: Schema for accounts system_config
  properties:
    allow_subaccounts_for_direct:
      default: true
      description: accounts allow subaccounts for direct
      type: boolean
    default_timezone:
      default: America/Los_Angeles
      description: accounts default timezone
      type: string
    master_account_id:
      description: accounts master account id
      type: string
  type: object
system_config.privacy:
  description: Schema for privacy system_config
  properties:
    anonymous_cid_names:
      default:
        - anonymous
        - restricted
      description: Additional CID name patterns to match for anonymous call rejection
      items:
        type: string
      type: array
    anonymous_cid_numbers:
      default:
        - anonymous
        - restricted
      description: >-
        Additional CID number/userpart patterns to match for anonymous call
        rejection
      items:
        type: string
      type: array
    block_anonymous_caller_id:
      default: false
      description: Controls blocking of anonymous calls
      type: boolean
    check_additional_anonymous_cid_names:
      default: false
      description: use the anonymous_cid_names values to check if a number is anonymous
      type: boolean
    check_additional_anonymous_cid_numbers:
      default: false
      description: use the anonymous_cid_numbers values to check if a name is anonymous
      type: boolean
    privacy_mode:
      default: kazoo
      description: Default privacy mode for anonymous calls
      type: string
    privacy_name:
      default: anonymous
      description: Default Caller ID Name should be shown for anonymous calls
      type: string
    privacy_number:
      default: 0000000000
      description: Default Caller ID Number should be shown for anonymous calls
      type: string
  type: object
callflows.acdc_queue:
  description: Validator for the acdc_queue callflow data object
  properties:
    action:
      description: What action to perform on the agent for this queue
      enum:
        - login
        - logout
      type: string
    id:
      description: Queue ID
      type: string
  type: object
callflows.resources:
  description: Validator for the resources callflow data object
  properties:
    bypass_e164:
      description: Use the original requested number instead of normalizing to E164
      type: boolean
    caller_id_type:
      default: external
      description: Which configured caller-id to use (key in the 'caller_id' object)
      type: string
    custom_sip_headers:
      anyOf:
        - $ref: '#/components/schemas/custom_sip_headers'
        - properties:
            in:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls inbound to Kazoo from
                the endpoint
            out:
              $ref: '#/components/schemas/custom_sip_headers'
              description: >-
                Custom SIP Headers to be applied to calls outbound from Kazoo to
                the endpoint
      description: A property list of SIP headers
      type: object
    do_not_normalize:
      description: >-
        Use the original requested number instead of normalizing; otherwise try
        to apply the endpoint's dialplan to the requested number
      type: boolean
    dynamic_flags:
      description: >-
        List of function names (or 'zone') that are called on the Call record to
        populate the 'flags' array sent to the resource(s) for matching
      items:
        type: string
      type: array
    emit_account_id:
      description: Toggles whether to put the account id in the SIP packets
      type: boolean
    format_from_uri:
      description: 'If true, puts the account realm in the From header'
      type: boolean
    from_uri_realm:
      description: Override the From realm in the SIP packets
      type: string
    hunt_account_id:
      description: >-
        When using local resources, use this account instead of the account
        making the call (useful for resellers)
      type: string
    ignore_early_media:
      default: false
      description: Toggle whether to ignore early media
      type: boolean
    outbound_flags:
      default: []
      description: List of flags to use when matching resources to route the call
      items:
        type: string
      type: array
    ringback:
      description: Tone or file to play while waiting for the leg to be answered
      type: string
    timeout:
      description: 'How long, in seconds, to wait for the call to be answered'
      type: integer
    to_did:
      description: Statically set the DID to dial
      type: string
    use_local_resources:
      default: true
      description: >-
        Toggle whether to use the account's (or hunt_account_id's) resources vs
        the system resources
      type: boolean
  type: object
system_config.kapps_maintenance:
  description: Schema for kapps_maintenance system_config
  properties:
    migrate_current_version:
      default: 3.22
      description: kapps_maintenance migrate current version
      type: string
  type: object
callflows.group_pickup_feature:
  description: Validator for the group_pickup_feature callflow data object
  properties:
    type:
      description: The type of collection to pickup
      enum:
        - group
        - user
        - device
        - extension
      type: string
  type: object
auth.app:
  additionalProperties: true
  description: application description for authentication providers
  properties:
    client_id:
      description: 'client_id, usually application id for OAuth providers'
      type: string
    email:
      description: email for application
      type: string
    provider:
      description: provider
      type: string
    secret:
      description: secret for application
      type: string
  required:
    - client_id
    - provider
    - secret
  type: object
voicemail_keys.dtmf_key:
  enum:
    - 1
    - 2
    - 3
    - 4
    - 5
    - 6
    - 7
    - 8
    - 9
    - 0
    - '*'
    - '#'
  maxLength: 1
  minLength: 1
  type: string
callflows.notification:
  description: Validator for the 'notification' callflow's data object
  properties:
    comments:
      description: Text message that need to include into notification
      type: string
    notification_media:
      description: What is media need to use for notification
      items:
        enum:
          - email
          - sms
        type: string
      type: array
    recipients:
      description: >-
        One or more specific email addresses, Kazoo user ids or a combination of
        both
      items:
        properties:
          id:
            description: >-
              The email address/user ID or the list of email addresses/user IDs
              based on specified type
            oneOf:
              - format: email
                type: string
              - items:
                  format: email
                  type: string
                type: array
          type:
            description: >-
              Controls if the ID of this object is a Kazoo user ID or an email
              address
            enum:
              - user
              - email
            type: string
        required:
          - id
          - type
        type: object
      type: array
    send_at:
      default: channel_destroy
      description: >-
        Defines when send customer defined notification. For `callflow_exec`
        value notifications is send during callflow execution. For
        `channel_destroy` value notification is send after channel(bridge) is
        destroyed
      enum:
        - callflow_exec
        - channel_destroy
      type: string
    template_id:
      description: Template ID of account defined notification
      type: string
  required:
    - recipients
  type: object
callflows.dynamic_cid:
  description: Validator for the dynamic_cid callflow data object
  properties:
    action:
      description: What action to perform
      enum:
        - list
        - lists
        - manual
        - static
      type: string
    caller_id:
      description: Static Caller ID settings
      properties:
        name:
          description: Caller ID Name
          type: string
        number:
          description: Caller ID Number
          type: string
      type: object
    enforce_call_restriction:
      default: true
      description: Check classification restrictions against endpoint
      type: boolean
    id:
      description: List ID for caller IDs when 'action' is 'list'
      type: string
    idx_name:
      description: Named capture group to use
      type: string
    interdigit_timeout:
      description: 'How long, in seconds, to wait for keypresses'
      type: integer
    max_digits:
      description: Max number of digits allowed when collecting Caller ID Number
      type: integer
    media_id:
      description: Prompt to play to caller to enter Caller ID Number
      type: string
    min_digits:
      description: Minimum number of digits that must match the regex to collected DTMF
      type: integer
    whitelist_regex:
      description: Regex to match collected Caller ID Number
      type: string
  type: object
auth_module_config:
  description: crossbar authenticator module configuration
  properties:
    enabled:
      description: whether or not this authenticator module is enabled
      type: boolean
    log_failed_attempts:
      description: should log failed logging attempts
      type: boolean
    log_successful_attempts:
      description: should log successful logging attempts
      type: boolean
    multi_factor:
      additionalProperties: false
      description: control multi factor authentications for this module
      properties:
        account_id:
          description: ID of the account that contains the multi factor configuration
          type: string
        configuration_id:
          description: document ID that contains the multi factor configuration
          type: string
        enabled:
          description: turn on/off multi factor authentications for this module
          type: boolean
        include_subaccounts:
          description: >-
            should this multi factor authentication settings be applied when
            used by sub-accounts
          type: boolean
      type: object
    token_auth_expiry_s:
      description: expiration period of the JWT token (seconds)
      type: integer
  type: object
media:
  description: Schema for media
  properties:
    content_length:
      description: 'Length, in bytes, of the file'
      maximum: 5242880
      minimum: 1
      type: integer
      x-support_level: supported
    content_type:
      description: Used to override the automatic upload type
      enum:
        - audio/mp3
        - audio/mpeg
        - audio/mpeg3
        - audio/x-wav
        - audio/wav
        - audio/ogg
        - video/x-flv
        - video/h264
        - video/mpeg
        - video/quicktime
        - video/mp4
        - video/webm
      type: string
      x-support_level: supported
    description:
      description: 'A brief description of the media update, usually the original file name'
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    language:
      default: en-us
      description: The language of the media file or text
      type: string
      x-support_level: supported
    media_source:
      default: upload
      description: Defines the source of the media
      enum:
        - recording
        - upload
        - tts
      type: string
      x-support_level: supported
    name:
      description: A friendly name for the media
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    prompt_id:
      description: The prompt this media file represents
      type: string
    source_id:
      description: >-
        If the media was generated from a callflow module, this is ID of the
        properties
      maxLength: 32
      minLength: 32
      type: string
      x-support_level: beta
    source_type:
      description: >-
        If the media was generated from a callflow module, this is the module
        name
      type: string
      x-support_level: beta
    streamable:
      default: true
      description: Determines if the media can be streamed
      type: boolean
      x-support_level: supported
    tts:
      default: {}
      description: Text-to-speech options used to create audio files from text
      properties:
        text:
          description: The text to be converted into audio
          minLength: 1
          type: string
          x-support_level: supported
        voice:
          default: female/en-US
          description: The voice to be used during the conversion
          enum:
            - female/en-US
            - male/en-US
            - female/en-CA
            - female/en-AU
            - female/en-GB
            - male/en-GB
            - female/es-US
            - male/es-US
            - female/us-US
            - female/zh-CN
            - male/zh-CN
            - female/zh-HK
            - female/zh-TW
            - female/ja-JP
            - male/ja-JP
            - female/ko-KR
            - male/ko-KR
            - female/da-DK
            - female/de-DE
            - male/de-DE
            - female/ca-ES
            - female/es-ES
            - male/es-ES
            - female/fi-FI
            - female/fr-CA
            - male/fr-CA
            - female/fr-FR
            - male/fr-FR
            - female/it-IT
            - male/it-IT
            - female/nb-NO
            - female/nl-NL
            - female/pl-PL
            - female/pt-BR
            - female/pt-PT
            - male/pt-PT
            - female/ru-RU
            - male/ru-RU
            - female/sv-SE
            - female/hu-HU
            - female/cs-CZ
            - female/tr-TR
            - male/tr-TR
            - male/ru-RU/Vladimir
            - female/ru-RU/Julia
            - female/ru-RU/Anna
            - female/ru-RU/Viktoria
            - male/ru-RU/Alexander
            - female/ru-RU/Maria
            - female/ru-RU/Lidia
            - es-ES-Standard-A
            - it-IT-Standard-A
            - ja-JP-Standard-A
            - ko-KR-Standard-A
            - pt-BR-Standard-A
            - tr-TR-Standard-A
            - sv-SE-Standard-A
            - nl-NL-Standard-A
            - en-US-Wavenet-D
            - de-DE-Wavenet-A
            - de-DE-Wavenet-B
            - de-DE-Wavenet-C
            - de-DE-Wavenet-D
            - en-AU-Wavenet-A
            - en-AU-Wavenet-B
            - en-AU-Wavenet-C
            - en-AU-Wavenet-D
            - en-GB-Wavenet-A
            - en-GB-Wavenet-B
            - en-GB-Wavenet-C
            - en-GB-Wavenet-D
            - en-US-Wavenet-A
            - en-US-Wavenet-B
            - en-US-Wavenet-C
            - en-US-Wavenet-E
            - en-US-Wavenet-F
            - fr-FR-Wavenet-A
            - fr-FR-Wavenet-B
            - fr-FR-Wavenet-C
            - fr-FR-Wavenet-D
            - it-IT-Wavenet-A
            - ja-JP-Wavenet-A
            - nl-NL-Wavenet-A
            - en-GB-Standard-A
            - en-GB-Standard-B
            - en-GB-Standard-C
            - en-GB-Standard-D
            - en-US-Standard-B
            - en-US-Standard-C
            - en-US-Standard-D
            - en-US-Standard-E
            - de-DE-Standard-A
            - de-DE-Standard-B
            - en-AU-Standard-A
            - en-AU-Standard-B
            - en-AU-Standard-C
            - en-AU-Standard-D
            - fr-CA-Standard-A
            - fr-CA-Standard-B
            - fr-CA-Standard-C
            - fr-CA-Standard-D
            - fr-FR-Standard-A
            - fr-FR-Standard-B
            - fr-FR-Standard-C
            - fr-FR-Standard-D
          type: string
          x-support_level: supported
      type: object
      x-support_level: supported
  required:
    - media_source
    - name
  type: object
account_config.media:
  description: Schema for media account_config
  properties:
    call_recording:
      properties:
        extension:
          default: mp3
          description: Default media file format
          type: string
        storage_retry_times:
          default: 5
          description: media storage retry times
          type: integer
  type: object
callflows.temporal_route:
  description: Validator for the temporal_route callflow data object
  properties:
    action:
      description: What action to perform
      enum:
        - menu
        - enable
        - disable
        - reset
      type: string
    interdigit_timeout:
      description: 'How long, in milliseconds, to wait for the next keypress'
      type: integer
    rule_set:
      description: ID of the rule set
      type: string
    rules:
      default: []
      description: List of rule IDs to use
      items:
        description: ID of the temporal rule set to use
        type: string
      type: array
    timezone:
      description: Timezone to use when processing temporal rules
      type: string
  type: object
rates:
  description: Defines a rate for a given prefix
  properties:
    account_id:
      description: Reseller's account ID
      type: string
    caller_id_numbers:
      description: 'String of caller id prefixes separated by '':'''
      type: string
    carrier:
      description: Friendly name for the carrier providing this rate
      type: string
    description:
      description: Friendly description of the rate
      type: string
    direction:
      description: >-
        Apply this rate based on the direction of the call (relative to
        FreeSWITCH)
      items:
        enum:
          - inbound
          - outbound
        type: string
      type: array
    internal_rate_cost:
      description: The per-min rate charged by the upstream provider
      minimum: 0
      type: number
    iso_country_code:
      description: Country code this rate applies to
      type: string
    options:
      description: >-
        List of options this rate is good for, to be matched against a
        customer's options
      items:
        type: string
      type: array
    prefix:
      description: E.164 prefix (ignoring the +)
      type: integer
    rate_cost:
      description: The per-min rate charged to the downstream customer
      minimum: 0
      type: number
    rate_increment:
      description: 'The time slice, in seconds, to bill in.'
      minimum: 1
      type: integer
    rate_minimum:
      description: 'The minimum time slice, in seconds to bill a call'
      minimum: 1
      type: integer
    rate_name:
      description: Friendly name of the rate
      type: string
    rate_nocharge_time:
      description: >-
        If the call duration is shorter than this threshold (seconds), the call
        is not billed
      minimum: 0
      type: integer
    rate_suffix:
      description: Suffix applied to rate name
      type: string
    rate_surcharge:
      description: The upfront cost of connecting the call
      minimum: 0
      type: number
    rate_version:
      description: Rate version
      type: string
    ratedeck_id:
      description: ID of the ratedeck this rate belongs to
      type: string
    routes:
      description: List of regexps that match valid DIDs for this rate
      items:
        type: string
      type: array
    weight:
      description: >-
        Ordering against other rates, 1 being most preferred, 100 being least
        preferred
      maximum: 100
      minimum: 1
      type: integer
  required:
    - prefix
    - rate_cost
  type: object
system_config.callflow.resources:
  description: Schema for callflow.resources system_config
  properties:
    default_emit_account_id:
      default: false
      description: callflow.resources default emit account id
      type: boolean
  type: object
system_config.reorder:
  description: Schema for reorder system_config
  properties:
    assume_inbound_e164:
      default: false
      description: reorder assume inbound e164
      type: boolean
    known_number:
      description: setting for how to response if the number is known but unconfigured
      properties:
        action:
          default: respond
          description: the action to take for unconfigured numbers
          enum:
            - respond
            - transfer
            - bridge
          type: string
        bridge_account_id:
          description: the account id that the bridge_device_id belongs to
          type: string
        bridge_device_id:
          description: the device id to bridge unconfigured numbers to
          type: string
        response_code:
          default: 686
          description: reorder code for replies to unconfigured numbers
          type: string
        response_message:
          default: PICNIC
          description: reorder message for replies to unconfigured numbers
          type: string
        transfer_target:
          description: on-net phone number to transfer unconfigured numbers to
          type: string
      type: object
    unknown_number:
      description: setting for how to response if the number is not in the numbers database
      properties:
        action:
          default: respond
          description: the action to take for unknown numbers
          enum:
            - respond
            - transfer
            - bridge
          type: string
        bridge_account_id:
          description: the account id that the bridge_device_id belongs to
          type: string
        bridge_device_id:
          description: the device id to bridge unknown numbers to
          type: string
        response_code:
          default: 604
          description: reorder code for replies to unknown numbers
          type: string
        response_message:
          default: Nope Nope Nope
          description: reorder message for replies to unknown numbers
          type: string
        transfer_target:
          description: on-net phone number to transfer unknown numbers to
          type: string
      type: object
  type: object
system_config.registrar:
  description: Schema for registrar system_config
  properties:
    device_enabled_default:
      default: true
      description: registrar device enabled default
      type: boolean
    listeners:
      default: 1
      description: registrar listeners
      type: integer
    owner_enabled_default:
      default: true
      description: registrar owner enabled default
      type: boolean
    use_aggregate:
      default: true
      description: registrar use aggregate
      type: boolean
  type: object
system_config.omnipresence:
  description: Schema for omnipresence system_config
  properties:
    dialog_subscribed_mwi_prefix:
      default: '*98'
      description: prefix used when subscribing vm updates for dialog
      type: string
    expire_check_ms:
      default: 1000
      description: omnipresence expire check in milliseconds
      type: integer
    expires_fudge_s:
      default: 20
      description: omnipresence expires fudge in seconds
      type: integer
    subscriptions_sync_enabled:
      default: false
      description: omnipresence subscriptions sync enabled
      type: boolean
  type: object
system_config.notify.system_alert:
  description: Schema for notify.system_alert system_config
  properties:
    default_to:
      default: ''
      description: notify.system_alert default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    enable_email_alerts:
      default: true
      description: notify.system_alert enable email alerts
      type: boolean
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.system_alert html content transfer encoding
      type: string
    subscriber_url:
      description: notify.system_alert subscriber url
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.system_alert text content transfer encoding
      type: string
  type: object
system_config.callflow.dynamic_cid:
  description: Schema for callflow.dynamic_cid system_config
  properties:
    accept_prompt:
      default: 'tone_stream://%(250,50,440)'
      description: callflow.dynamic_cid accept prompt
      type: string
    default_prompt:
      default: dynamic-cid-enter_cid
      description: callflow.dynamic_cid default prompt
      type: string
    max_digits:
      default: 10
      description: callflow.dynamic_cid max digits
      type: integer
    min_digits:
      default: 10
      description: callflow.dynamic_cid min digits
      type: integer
    reject_prompt:
      default: dynamic-cid-invalid_using_default
      description: callflow.dynamic_cid reject prompt
      type: string
    whitelist_regex:
      default: \d+
      description: callflow.dynamic_cid whitelist regex
      type: string
  type: object
api_auth:
  additionalProperties: false
  description: Provides an auth-token via an Account API key
  properties:
    api_key:
      description: The Accounts API key
      maxLength: 64
      minLength: 64
      type: string
  required:
    - api_key
  type: object
system_config.datamgr:
  description: Schema for datamgr system_config
  properties:
    cache_policy:
      default:
        account: 900
        aggregate: 900
        deprecated: 900
        modb: 900
        numbers: 900
        system: 900
        system_config: infinity
        system_data: infinity
      description: datamgr cache policy
      type: object
    default_archive_folder:
      default: /tmp
      description: datamgr default archive folder
      type: string
    max_bulk_insert:
      default: 2000
      description: maximum number of documents that will be inserted in a single request
      minimum: 1
      type: integer
    max_bulk_read:
      default: 2000
      description: maximum number of documents that will be read in a single request
      minimum: 1
      type: integer
    no_caching_doc_types:
      default:
        - media
        - private_media
        - call_recording
        - fax
        - mailbox_message
      description: datamgr no caching doc types
      items:
        type: string
      type: array
    performance:
      description: datamgr performance
      type: object
  type: object
system_config.stepswitch.cnam:
  description: Schema for stepswitch.cnam system_config
  properties:
    cnam_expires:
      default: 900
      description: stepswitch.cnam cnam expires
      type: integer
    disable_normalize:
      default: false
      description: stepswitch.cnam disable normalize
      type: boolean
    http_accept_header:
      default: 'text/pbx,text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'
      description: stepswitch.cnam http accept header
      type: string
    http_basic_auth_password:
      default: ''
      description: stepswitch.cnam http basic auth password
      type: string
    http_basic_auth_username:
      default: ''
      description: stepswitch.cnam http basic auth username
      type: string
    http_body:
      default: ''
      description: stepswitch.cnam http body
      type: string
    http_connect_timeout_ms:
      default: 500
      description: stepswitch.cnam http connect timeout in milliseconds
      type: integer
    http_content_type_header:
      default: application/json
      description: stepswitch.cnam http content type header
      type: string
    http_method:
      default: get
      description: stepswitch.cnam http method
      type: string
    http_token_auth_token:
      default: ''
      description: stepswitch cnam http_token_auth_token
      type: string
    http_url:
      default: 'https://api.opencnam.com/v2/phone/{{phone_number}}'
      description: stepswitch.cnam http url
      type: string
    http_user_agent_header:
      default: Kazoo Stepswitch CNAM
      description: stepswitch.cnam http user agent header
      type: string
  type: object
system_config.kazoo.pdf:
  description: Schema for kazoo.pdf system_config
  properties:
    html2pdf:
      default: /usr/bin/htmldoc --quiet --webpage -f $pdf$ $html$
      description: kazoo.pdf html2pdf
      type: string
  type: object
system_config.crossbar.call_inspector:
  description: Schema for crossbar.call_inspector system_config
  properties:
    maximum_bulk:
      default: 50
      description: crossbar call_inspector maximum_bulk
      minimum: 1
      type: integer
  type: object
callflows.intercom:
  description: Validator for the intercom callflow data object
  properties:
    barge_calls:
      description: Whether to barge in on the callee
      type: boolean
  type: object
system_config.blackhole:
  description: Schema for blackhole system_config
  properties:
    acceptors:
      default: 100
      description: blackhole acceptors
      type: integer
    autoload_modules:
      default:
        - bh_token_auth
        - bh_call
        - bh_object
        - bh_fax
        - bh_conference
        - bh_events
        - bh_authz_subscribe
      description: blackhole autoload modules
      items:
        type: string
      type: array
    bindings:
      description: blackhole bindings
      type: object
      x-patternProperties:
        '[a-z_]+':
          description: Patterns for the bindings exposed by the various modules
          items:
            type: string
          type: array
    compress_response_body:
      default: true
      description: blackhole compress_response_body
      type: boolean
    ip:
      description: blackhole ip
      type: string
    port:
      default: 5555
      description: blackhole port
      type: integer
    request_timeout_ms:
      default: 10000
      description: blackhole request_timeout_ms
      type: integer
    ssl_ca_cert:
      description: blackhole ssl_ca_cert
      type: string
    ssl_cert:
      description: blackhole ssl_cert
      type: string
    ssl_key:
      description: blackhole ssl_key
      type: string
    ssl_password:
      default: ''
      description: blackhole ssl_password
      type: string
    ssl_port:
      default: 5556
      description: blackhole ssl_port
      type: integer
    ssl_workers:
      default: 100
      description: blackhole ssl_workers
      type: integer
    use_plaintext:
      default: true
      description: blackhole use_plaintext
      type: boolean
    use_ssl:
      default: false
      description: blackhole use_ssl
      type: boolean
  type: object
system_config.number_manager:
  description: Schema for number_manager system_config
  properties:
    allow_port_transition_from_submitted_to_scheduled:
      default: false
      description: >-
        should number ports be allowed to transition from submitted to
        scheduled?
      type: boolean
    available_module_name:
      default: knm_local
      description: default carrier module name to use when creating a number
      type: string
    carrier_modules:
      default:
        - knm_local
      description: carrier modules to perform number search & ordering from
      items:
        type: string
      type: array
    classifiers:
      default:
        caribbean:
          friendly_name: Caribbean
          pretty_print: 'SS(###) ### - ####'
          regex: >-
            ^\+?1((?:684|264|268|242|246|441|284|345|767|809|829|849|473|671|876|664|670|787|939|869|758|784|721|868|649|340)\d{7})$
        did_us:
          friendly_name: US DID
          pretty_print: 'SS(###) ### - ####'
          regex: '^(\+?1)?([2-9][0-9]{2}[2-9][0-9]{6})$'
        emergency:
          emergency: true
          friendly_name: Emergency Dispatcher
          regex: ^(911|922|933|833|811|711|999)$
        international:
          friendly_name: International
          regex: '^\+([2-9]\d{7,})$'
        toll_us:
          friendly_name: US Toll
          pretty_print: 'SS(###) ### - ####'
          regex: '^\+1(900\d{7})$'
        tollfree_us:
          friendly_name: US Tollfree
          pretty_print: 'SS(###) ### - ####'
          regex: '^\+1((?:800|88\d|877|866|855|844|833|822)\d{7})$'
        unknown:
          friendly_name: Unknown
          regex: ^(.*)$
      description: regular expressions & billing names for numbers
      type: object
    converters:
      default:
        - regex
      description: >-
        suffix for the KNM module to use for E164, NPAN and 1NPAN normalization
        of numbers
      items:
        type: string
      type: array
    default_force_outbound:
      default: false
      description: should we 'force_outbound' when this feature is not set on the number?
      type: boolean
    e164_converters:
      default:
        '^(\+?1)?([2-9][0-9]{2}[2-9][0-9]{6})$':
          prefix: +1
        '^011(\d{5,})$|^00(\d{5,})$':
          prefix: +
        '^[2-9]\d{7,}$':
          prefix: +
      description: regular expressions to convert numbers to E164 format
      type: object
    features:
      properties:
        allow:
          description: number features a number is allowed to edit
          items:
            type: string
          type: array
    fetch_account_from_ports:
      default: true
      description: should we also search ports when trying to `/identify` a number?
      type: boolean
    force_local_outbound:
      default: true
      description: default value for 'force_outbound' for local numbers only
      type: boolean
    force_port_in_outbound:
      default: true
      description: default value for 'force_outbound' for port_in numbers only
      type: boolean
    force_port_out_outbound:
      default: true
      description: default value for 'force_outbound' for port_out numbers only
      type: boolean
    local_feature_override:
      default: false
      description: overrides the filtering of external features for local numbers
      type: boolean
    maximum_search_quantity:
      default: 500
      description: maximum number of returned DIDs in a search query
      minimum: 1
      type: integer
    number_search_timeout_ms:
      default: 5000
      description: number manager number search timeout in milliseconds
      minimum: 1
      type: integer
    parallel_jobs_count:
      default: 1
      description: >-
        number of concurrent workers that can process a migration at the same
        time (1=non parallel behavior, MUST be >0)
      minimum: 1
      type: integer
    port_in_module_name:
      default: knm_local
      description: >-
        completed port requests will create numbers with this carrier module
        name
      type: string
    providers:
      description: legacy value for number_manager.features.allow
      items:
        type: string
      type: array
    reconcile_regex:
      default: '^(\+?1)?\d{10}$|^\+[2-9]\d{7,}$|^011\d*$|^00\d*$'
      description: if a number matches this regular expression then it is reconcilable
      type: string
    released_state:
      default: available
      description: >-
        state to put numbers in when they are being released and their reserve
        history is empty
      type: string
    should_age:
      default: false
      description: Should numbers go through an aging period before being available?
      type: boolean
    should_permanently_delete:
      default: false
      description: >-
        when disconnecting numbers, if this flag is true they will be deleted
        otherwise they will go back to a pool. Local numbers are not affected by
        this flag
      type: boolean
    time_between_accounts_ms:
      default: 1000
      description: time to pause in between the processing of accounts in milliseconds
      minimum: 1
      type: integer
    time_between_numbers_ms:
      default: 1000
      description: time to pause in between the processing of numbers in milliseconds
      minimum: 1
      type: integer
    unauthorized_numbers_lookup:
      default: false
      description: should number search be allowed for unauthenticated API requests?
      type: boolean
  type: object
system_config.number_manager.locality:
  description: Schema for number_manager.locality system_config
  properties:
    url:
      description: number_manager.locality url
      type: string
  type: object
callflows.manual_presence:
  description: Validator for the Manual Presence callflow action
  properties:
    presence_id:
      description: The Presence ID to send a presence notification about
      type: string
    status:
      default: idle
      description: The status to update to
      enum:
        - idle
        - ringing
        - busy
      type: string
  required:
    - presence_id
  type: object
token_restrictions:
  description: Schema for token restrictions
  properties:
    restrictions:
      type: object
      x-patternProperties:
        ^\w+$:
          description: >-
            Name of authentication method used when creating token. '_' matches
            any auth method
          type: object
          x-patternProperties:
            ^\w+$:
              description: Level of user privilege. '_' matches any priv level
              type: object
              x-patternProperties:
                ^\w+$:
                  items:
                    description: >-
                      Endpoint (first path token) to which to apply
                      restrictions. '_' matches any endpoint
                    properties:
                      allowed_accounts:
                        description: Account allowed to match this item
                        items:
                          type: string
                        type: array
                        uniqueItems: true
                      rules:
                        description: Rules applied to endpoint parameters
                        type: object
                        x-patternProperties:
                          '^[\w/#*]+$':
                            description: verbs
                            items:
                              enum:
                                - GET
                                - PUT
                                - POST
                                - PATCH
                                - DELETE
                                - _
                              type: string
                            type: array
                            uniqueItems: true
                    type: object
                  type: array
  type: object
callflows.branch_variable:
  description: Validator for the branch_variable callflow data object
  properties:
    scope:
      default: custom_channel_vars
      description: specifies where the variable is defined
      enum:
        - account
        - custom_channel_vars
        - device
        - merged
        - user
      type: string
    variable:
      default: ''
      description: specifies the name of variable/property that should be looked up
      type: string
  required:
    - variable
  type: object
metaflows.intercept:
  description: Skeleton JSON schema
  properties:
    auto_answer:
      default: false
      description: Auto-answer the leg
      type: boolean
    can_call_self:
      default: true
      description: Can intercept devices of the same targeted user
      type: boolean
    target_id:
      description: ID of the target (device or user)
      type: string
    target_type:
      description: Type of entity of the target
      enum:
        - device
        - user
        - number
      type: string
    unbridged_only:
      default: true
      description: Only intercept if the a-leg is unbridged
      type: boolean
  type: object
callflows.cidlistmatch:
  description: Validator for the cidlistmatch callflow data object
  properties:
    id:
      description: CallerID List ID
      type: string
  type: object
system_config.call_command:
  description: Schema for call_command system_config
  properties:
    application_timeout:
      default: 500000
      description: call_command application timeout
      type: integer
    bridge_timeout_extended_ms:
      default: 20000
      description: call_command extended bridge timeout in ms
      type: integer
    collect_timeout:
      default: 5000
      description: call_command collect timeout
      type: integer
    digit_timeout:
      default: 3000
      description: call_command digit timeout
      type: integer
    export_bridge_variables:
      default:
        - hold_music
      description: call_command export_bridge_variables
      items:
        type: string
      type: array
    interdigit_timeout:
      default: 2000
      description: call_command interdigit timeout
      type: integer
    message_timeout:
      default: 5000
      description: call_command message timeout
      type: integer
    reserved_ccv_keys:
      default:
        - Account-ID
        - Account-Name
        - Account-Realm
        - Authorizing-ID
        - Authorizing-Type
        - Auto-Answer
        - Call-Forward
        - Call-Waiting-Disabled
        - Confirm-Cancel-Timeout
        - Confirm-File
        - Confirm-Key
        - Fax-Enabled
        - Loopback-Bowout
        - Media-Encryption-Enforce-Security
        - Media-Webrtc
        - Owner-ID
        - Presence-ID
        - RTCP-MUX
        - Realm
        - Require-Ignore-Early-Media
        - Retain-CID
        - SIP-Invite-Domain
        - Simplify-Loopback
        - Username
      description: call_command reserved_ccv_keys
      items:
        type: string
      type: array
    unknown_cid_name:
      default: unknown
      description: the value to use when a caller ID name is required but unknown
      type: string
  type: object
callflows.audio_macro.say:
  description: Validator for executing say commands
  properties:
    gender:
      description: The gender of the speaker
      enum:
        - masculine
        - feminine
        - neuter
      type: string
    language:
      description: The language of the speaker
      type: string
    method:
      description: The method to use when saying the text
      enum:
        - none
        - pronounced
        - iterated
        - counted
      type: string
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate playback of the audio
      items:
        type: string
      type: array
    text:
      description: Text to say
      type: string
    type:
      description: The type to use when saying the text
      enum:
        - number
        - items
        - persons
        - messages
        - currency
        - time_measurement
        - current_date
        - current_time
        - current_date_time
        - telephone_number
        - telephone_extension
        - url
        - ip_address
        - e-mail_address
        - postal_address
        - account_number
        - name_spelled
        - name_phonetic
        - short_date_time
      type: string
  type: object
system_config.crossbar.phone_numbers:
  description: Schema for crossbar.phone_numbers system_config
  properties:
    default_country:
      default: US
      description: crossbar.phone_numbers default country
      type: string
    phonebook_url:
      description: crossbar.phone_numbers phonebook url
      type: string
  type: object
system_config.crossbar.ubiquiti:
  description: Schema for crossbar.ubiquiti system_config
  properties:
    api_secret:
      description: crossbar.ubiquiti api secret
      type: string
    api_token_expires_s:
      default: 1800
      description: crossbar.ubiquiti api token expires in seconds
      type: integer
    production:
      properties:
        sso_url:
          default: 'https://sso.ubnt.com/api/sso/v1/'
          description: crossbar.ubiquiti sso url
          type: string
    salt_length:
      default: 20
      description: crossbar.ubiquiti salt length
      type: integer
    sso_environment:
      default: staging
      description: crossbar.ubiquiti sso environment
      type: string
    sso_provider_id:
      description: crossbar.ubiquiti sso provider id
      type: string
    staging:
      properties:
        sso_url:
          default: 'https://sso-stage.ubnt.com/api/sso/v1/'
          description: crossbar.ubiquiti sso url
          type: string
    tokens_per_request:
      default: 35
      description: crossbar.ubiquiti tokens per request
      type: integer
  type: object
system_config.number_manager.telnyx:
  description: Schema for number_manager.telnyx system_config
  properties:
    debug:
      default: false
      description: number_manager.telnyx debug
      type: boolean
    enable_provisioning:
      default: true
      description: number_manager.telnyx enable provisioning
      type: boolean
    monthly_recurring_cost:
      default: 1.0
      description: number_manager.telnyx monthly recurring cost
      type: number
    sandbox_provisioning:
      default: false
      description: number_manager.telnyx sandbox provisioning
      type: boolean
    should_filter_rates:
      default: false
      description: should search results be filtered based on configured allowed cost?
      type: boolean
    should_keep_best_effort:
      default: false
      description: should search results also contain 'best effort' results?
      type: boolean
    token:
      description: number_manager.telnyx token
      type: string
    upfront_cost:
      default: 1.0
      description: allowed upfront cost when acquiring number
      type: number
    user:
      description: number_manager.telnyx user
      type: string
  type: object
system_config.callflow.hotdesk:
  description: Schema for callflow.hotdesk system_config
  properties:
    max_hotdesk_id_length:
      default: 10
      description: callflow.hotdesk maximum hotdesk id length
      type: integer
    max_login_attempts:
      default: 3
      description: callflow.hotdesk maximum login attempts
      type: integer
    max_pin_length:
      default: 6
      description: callflow.hotdesk maximum pin length
      type: integer
  type: object
system_config.notify.port_cancel:
  description: Schema for notify.port_cancel system_config
  properties:
    default_from:
      description: notify.port_cancel default from
      type: string
    default_to:
      default: ''
      description: notify.port_cancel default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
  type: object
shared_auth:
  additionalProperties: false
  description: Provides a local auth-token via a shared auth-token
  properties:
    shared_auth:
      description: The shared token
      maxLength: 64
      minLength: 64
      type: string
  required:
    - shared_auth
  type: object
system_configs:
  description: Schema for system_config documents
  properties:
    default:
      default: {}
      description: default settings that apply to all nodes/zones if not defined
      type: object
  type: object
  x-patternProperties:
    $.+@.+^:
      description: Node-specific settings - these take highest precedence
      name: node
      type: object
    '$[a-zA-Z0-9.]+^':
      description: >-
        Zone-specific settings - these are checked if a node-specific setting is
        not defined
      name: zone
      type: object
groups:
  description: Validator for the group
  properties:
    endpoints:
      default: {}
      description: Endpoints included into group
      type: object
      x-support_level: supported
    music_on_hold:
      default: {}
      description: The music on hold parameters
      properties:
        media_id:
          description: The ID of a media object that should be used as music on hold
          maxLength: 128
          type: string
      type: object
      x-support_level: beta
    name:
      description: A friendly name for the group
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
  required:
    - endpoints
    - name
  type: object
custom_sip_headers:
  additionalProperties: false
  description: Custom SIP headers applied to an INVITE
  type: object
  x-patternProperties:
    '^[a-zA-z0-9_\-]+$':
      description: The SIP header to add
      type: string
metaflows.say:
  description: Say the provided text
  properties:
    gender:
      description: The gender of the voice to say the text
      enum:
        - feminine
        - masculine
        - neuter
      type: string
    language:
      description: Language of the text
      type: string
    method:
      description: Toggle the way the text is read to the caller
      enum:
        - pronounced
        - iterated
        - counted
      type: string
    text:
      description: The text to say to the caller
      type: string
    type:
      description: The type of text to say
      enum:
        - account_number
        - currency
        - current_date
        - current_date_time
        - current_time
        - email_address
        - ip_address
        - items
        - messages
        - name_phonetic
        - name_spelled
        - number
        - persons
        - postal_address
        - short_date_time
        - telephone_extension
        - telephone_number
        - time_measurement
        - url
      type: string
  type: object
domain_hosts:
  additionalProperties: false
  description: Domain host settings for white-labelling
  x-patternProperties:
    '.*[\{]{2}domain[\}]{2}.*':
      description: White-label template for hostname
      properties:
        mapping:
          description: List of hosts or IPs this host should resolve to
          items:
            type: string
          minItems: 1
          type: array
        name:
          description: Human-friendly name of the Host
          type: string
      required:
        - mapping
        - name
      type: object
callflows.ring_group:
  description: Validator for the Ring Group callflow element
  properties:
    endpoints:
      description: 'Endpoint IDs (devices, users, etc) included in the ring group'
      items:
        description: 'ID of the endpoint (device, user, etc)'
        properties:
          delay:
            default: 0
            description: 'How long to delay ringing the endpoint, in seconds'
            type: integer
          endpoint_type:
            description: 'The type (device, user, etc) of endpoint'
            enum:
              - device
              - user
              - group
            type: string
          id:
            description: The ID of the endpoint
            maxLength: 128
            minLength: 1
            type: string
          timeout:
            default: 20
            description: 'How long to ring the endpoint, in seconds'
            type: integer
          weight:
            description: 'Weight of endpoint, different usage in various strategies'
            maximum: 100
            minimum: 1
            type: integer
        required:
          - endpoint_type
          - id
        type: object
      minItems: 1
      type: array
    fail_on_single_reject:
      description: 'If any leg rejects the call, cancel all other legs'
      type: boolean
    ignore_forward:
      default: true
      description: 'If true, will ignore SIP redirect requests for call-forwarded devices'
      type: boolean
    repeats:
      default: 1
      description: How many times to retry the ring group
      minimum: 1
      type: integer
    ringback:
      description: Ringback to use
      type: string
    ringtones:
      properties:
        external:
          description: Ring tone for calls from external sources
          type: string
        internal:
          description: Ring tone for calls from external sources
          type: string
      type: object
    strategy:
      default: simultaneous
      description: How to ring the members of the group
      enum:
        - simultaneous
        - single
        - weighted_random
      type: string
    timeout:
      default: 20
      description: 'How long to ring the ring group before continuing, in seconds'
      type: integer
  required:
    - endpoints
  type: object
account_config.fax:
  description: Schema for fax account_config
  properties:
    default_smtp_domain:
      default: fax.kazoo.io
      description: fax defaultsmtp domain
      type: string
    log_faxbox_errors:
      default: true
      description: fax log faxbox errors
      type: boolean
    max_outbound:
      default: 10
      description: fax max outbound
      type: integer
  type: object
system_config.tasks.notify_resend:
  description: Schema for tasks.notify_resend system_config
  properties:
    cycle_delay_time_ms:
      default: 300000
      description: Timeout in milliseconds between each cycle
      type: integer
    max_doc_read:
      default: 20
      description: Max number of notifications to read from database for each cycle
      type: integer
    max_retries:
      default: 3
      description: Default max retries to re-publish
      type: integer
    publish_timeout_ms:
      default: 10000
      description: Timeout in milliseconds for publishing notification
      minimum: 1
      type: integer
    reschedule_rules:
      default:
        voicemail_new:
          rules:
            after_15_mins:
              attempt: 1
              retries: 4
              retry_after_s: 900
            after_45_mins:
              attempt: 2
              retries: 4
              retry_after_s: 2700
            after_one_day:
              attempt: 4
              retries: 4
              retry_after_s: 86400
            after_two_hours:
              attempt: 3
              retries: 4
              retry_after_s: 7200
      description: Re-schedule rules for each notification type to apply
      type: object
    retry_after_fudge_s:
      default: 600000
      description: >-
        Constant time in seconds which would be multiplied with attempts to set
        retry time
      type: integer
  type: object
system_config.qubicle:
  description: Schema for qubicle system_config
  properties:
    enable_event_call_props:
      default: false
      description: qubicle enable_event_call_props
      type: boolean
  type: object
system_config.pusher:
  description: Schema for pusher system_config
  properties:
    User-Agents:
      default: {}
      description: pusher User-Agents
      type: object
    apple:
      default: {}
      description: pusher apple
      properties:
        apns_topic:
          description: APNs topic for push notifications payload
          type: string
        certificate:
          description: PEM-encoded key and certificate
          type: string
        extra_headers:
          default: {}
          description: Additional headers for INVITEs sent to push devices in the UA
          properties:
            Invite-Format:
              description: >-
                When set to push_and_invite, sets the
                X-KAZOO-PUSHER-Invite-Format header to push_and_invite,
                resulting in both a push notification and a SIP INVITE being
                sent to the endpoint.
              enum:
                - invite
                - push
                - push_and_invite
              type: string
          type: object
        host:
          default: api.push.apple.com
          description: APNs server host
          type: string
      type: object
    google:
      description: pusher google
      type: string
    modules:
      default: []
      description: pusher modules
      items:
        type: string
      type: array
  type: object
callflows.park:
  description: Validator for the park callflow data object
  properties:
    action:
      default: park
      description: Action to take for the caller
      enum:
        - direct_park
        - park
        - retrieve
        - auto
      type: string
    custom_presence_id:
      default: false
      description: use configured presence_id and fallback to request
      type: boolean
    default_callback_timeout:
      description: 'How long, in seconds, to wait before calling back the parker'
      type: integer
    default_presence_type:
      description: Type of presence to update
      enum:
        - early
        - terminated
        - confirmed
      type: string
    default_ringback_timeout:
      description: 'How long, in milliseconds, before ringing back'
      type: integer
    presence_id:
      description: use this presence_id
      type: string
    slot:
      description: Static slot number to use
      type: string
    slots:
      default: {}
      description: Statically define slots and their configuration
      type: object
  type: object
metaflows:
  description: >-
    Actions applied to a call outside of the normal callflow, initiated by the
    caller(s)
  properties:
    binding_digit:
      default: '*'
      description: >-
        What DTMF will trigger the collection and analysis of the subsequent
        DTMF sequence
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - 0
        - '*'
        - '#'
      maxLength: 1
      minLength: 1
      type: string
    digit_timeout:
      description: >-
        How long to wait between DTMF presses before processing the collected
        sequence (milliseconds)
      minimum: 0
      type: integer
    listen_on:
      description: Which leg(s) of the call to listen for DTMF
      enum:
        - both
        - self
        - peer
      type: string
    numbers:
      additionalProperties: false
      description: A list of static numbers with their flows
      type: object
      x-patternProperties:
        '^[0-9]+$':
          $ref: '#/components/schemas/metaflow'
    patterns:
      additionalProperties: false
      description: A list of patterns with their flows
      type: object
      x-patternProperties:
        .+:
          $ref: '#/components/schemas/metaflow'
  type: object
metaflows.hangup:
  description: Hangup the call leg immediately
  properties: {}
  type: object
metaflows.callflow:
  description: Run a callflow on an active call
  properties:
    captures:
      description: Callflow extension
      type: string
    collected:
      description: Callflow extension
      type: string
    flow:
      $ref: '#/components/schemas/callflows.action'
      description: include the flow you'd like to run (Pivot without the HTTP interaction)
      type: object
    id:
      description: The callflow ID to run
      type: string
  type: object
callflows.edr:
  description: Validator for the edr callflow data object
  properties: {}
  type: object
access_lists:
  additionalProperties: true
  description: Access Control List entries for device or account
  properties:
    cidrs:
      description: Classless Inter-Domain Routing IP notation for use on the access lists
      items:
        description: CIDR IP to use on access lists
        type: string
      type: array
    order:
      description: Allow-Deny or Deny-Allow?
      enum:
        - 'allow,deny'
        - 'deny,allow'
      type: string
    user_agent:
      description: Regexp to match valid user agent strings
      type: string
  required:
    - cidrs
    - order
  type: object
account_config.number_manager:
  description: Schema for number_manager account_config
  properties:
    unauthorized_numbers_lookup:
      default: false
      description: number_manager unauthorized numbers lookup
      type: boolean
  type: object
callflows.audio_macro.prompt:
  description: Validator for playing prompts
  properties:
    id:
      description: Prompt ID
      type: string
    language:
      description: The language of the speaker
      type: string
    terminators:
      default:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
        - 7
        - 8
        - 9
        - '*'
        - 0
        - '#'
      description: What DTMF can terminate playback of the audio
      items:
        type: string
      type: array
  type: object
callflows.set:
  description: Validator for the set callflow data object
  properties: {}
  type: object
webhooks:
  description: >-
    Web Hooks are subscriptions to allowed events that, when the event occurs,
    the event data is sent to the uri set in the Web Hook document.
  properties:
    custom_data:
      additionalProperties:
        type: string
      description: >-
        These properties will be added to the event and will overwrite existing
        values.
      type: object
    enabled:
      default: true
      description: Is the webhook enabled and running
      type: boolean
    hook:
      description: The trigger event for a request being made to 'callback_uri'.
      type: string
      x-support_level: supported
    http_verb:
      default: post
      description: What HTTP method to use when contacting the server
      enum:
        - get
        - post
      type: string
      x-support_level: supported
    include_internal_legs:
      default: true
      description: >-
        Whether to filter out call legs that are internal to the system
        (loopback)
      type: boolean
    include_subaccounts:
      description: Should the webhook be fired for subaccount events.
      type: boolean
      x-support_level: supported
    name:
      description: A friendly name for the webhook
      type: string
      x-support_level: supported
    retries:
      default: 2
      description: Retry the request this many times (if it fails)
      maximum: 4
      minimum: 0
      type: integer
      x-support_level: supported
    uri:
      description: The 3rd party URI to call out to an event
      format: uri
      type: string
      x-support_level: supported
  required:
    - hook
    - name
    - uri
  type: object
system_config.crossbar.voicemail:
  description: Schema for crossbar.voicemail system_config
  properties:
    normalization_format:
      default: mp3
      description: Voicemail default audio format
      type: string
    normalize_media:
      default: false
      description: Whether or not normalize voicemail audio file
      type: boolean
  type: object
system_config.teletype:
  description: Schema for teletype system_config
  properties:
    iterate_over_bcc:
      default: true
      description: teletype iterate over bcc
      type: boolean
    notice_enabled_by_default:
      default: true
      description: >-
        Specify if template is considered enabled by default when teletype tries
        to process that notification
      type: boolean
    render_farm_workers:
      default: 50
      description: teletype render farm workers
      type: integer
  type: object
system_config.stepswitch:
  description: Schema for stepswitch system_config
  properties:
    assume_inbound_e164:
      default: false
      description: stepswitch assume inbound e164
      type: boolean
    cid_rules_honor_diversions:
      default: false
      description: stepswitch cid rules honor diversions
      type: boolean
    default_audio_codecs:
      default: []
      description: stepswitch default audio codecs
      items:
        type: string
      type: array
    default_bypass_media:
      default: false
      description: stepswitch default bypass media
      type: boolean
    default_caller_id_type:
      default: external
      description: stepswitch default caller id type
      type: string
    default_codecs:
      default: []
      description: stepswitch default codecs
      items:
        type: string
      type: array
    default_emergency_cid_number:
      description: stepswitch default emergency cid number
      type: string
    default_formatters:
      description: stepswitch default formatters
      items:
        $ref: '#/components/schemas/formatters'
        description: default formatter
        type: object
      type: array
    default_prefix:
      default: ''
      description: stepswitch default prefix
      type: string
    default_progress_timeout:
      default: 8
      description: stepswitch default progress timeout
      type: integer
    default_route:
      description: stepswitch default route
      type: string
    default_rtcp_mux:
      description: RTCP protocol messages mixed with RTP data
      type: string
    default_suffix:
      default: ''
      description: stepswitch default suffix
      type: string
    default_video_codecs:
      default: []
      description: stepswitch default video codecs
      items:
        type: string
      type: array
    default_weight:
      default: 3
      description: stepswitch default weight
      type: integer
    deny_emergency_bridge_cause:
      default: Emergency service not configured
      description: stepswitch deny emergency bridge cause
      type: string
    deny_emergency_bridge_code:
      default: 486
      description: stepswitch deny emergency bridge code
      type: integer
    deny_emergency_bridge_media:
      default: 'prompt://system_media/stepswitch-emergency_not_configured/'
      description: stepswitch deny emergency bridge media
      type: string
    deny_invalid_emergency_cid:
      default: false
      description: stepswitch deny invalid emergency cid
      type: boolean
    ensure_valid_emergency_cid:
      default: false
      description: stepswitch ensure valid emergency cid
      type: boolean
    fixed_length_shortdial_correction:
      description: stepswitch fixed_length_shortdial_correction
      minimum: 1
      type: integer
    format_from_uri:
      default: false
      description: stepswitch format from uri
      type: boolean
    max_shortdial_correction:
      default: 5
      description: stepswitch maximum shortdial correction
      minimum: 1
      type: integer
    min_shortdial_correction:
      default: 2
      description: stepswitch minimum shortdial correction
      minimum: 1
      type: integer
    route_by:
      default: stepswitch_resources
      description: stepswitch route by
      type: string
    use_first_dedicated_proxy_only:
      default: true
      description: >-
        If gateways are generated for assigned dedicated IPs, only generate one
        for the first IP (usually local to the call).
      type: boolean
  type: object
metaflows.pivot:
  description: Validator for the Pivot metaflow element
  properties:
    cdr_url:
      description: Optional URL to send the CDR to at the end of the call
      pattern: '^https?://'
      type: string
    debug:
      default: false
      description: Store debug logs related to processing this Pivot call
      type: boolean
    method:
      default: get
      description: What HTTP verb to send the request(s) with
      enum:
        - get
        - post
        - GET
        - POST
      type: string
    req_format:
      default: kazoo
      description: What format of Pivot will the your server respond with
      enum:
        - kazoo
        - twiml
      type: string
    voice_url:
      description: What URL to request the initial Pivot callflow
      pattern: '^https?://'
      type: string
  required:
    - voice_url
  type: object
system_config.hangups:
  description: Schema for hangups system_config
  properties:
    hangups_to_monitor:
      default:
        - CALL_REJECTED
        - MANDATORY_IE_MISSING
        - NO_ROUTE_DESTINATION
        - PROGRESS_TIMEOUT
        - RECOVERY_ON_TIMER_EXPIRE
        - WRONG_CALL_STATE
      description: hangups hangups to monitor
      items:
        type: string
      type: array
    ignore_hangup_causes:
      default:
        - ALLOTTED_TIMEOUT
        - ATTENDED_TRANSFER
        - LOSE_RACE
        - NORMAL_CLEARING
        - NO_ANSWER
        - NO_USER_RESPONSE
        - ORIGINATOR_CANCEL
        - USER_BUSY
        - PICKED_OFF
      description: hangups ignore hangup causes
      items:
        type: string
      type: array
  type: object
find_numbers:
  properties:
    country:
      default: US
      maxLength: 2
      minLength: 2
      type: string
    prefix:
      maxLength: 10
      minLength: 3
      type: string
    quantity:
      default: 1
      minimum: 1
      type: integer
  required:
    - prefix
system_config.crossbar.media:
  description: Schema for crossbar.media system_config
  properties:
    normalization_format:
      default: mp3
      description: crossbar.media normalization format
      type: string
    normalize_media:
      default: false
      description: crossbar.media normalize media
      type: boolean
  type: object
callflows.device:
  properties:
    can_call_self:
      description: Toggle whether devices of the same owner can call each other
      type: boolean
      x-support_level: supported
    can_text_self:
      description: Toggle whether devices of the same owner can text each other
      type: boolean
      x-support_level: alpha
    delay:
      default: 0
      description: 'How long to delay ringing the device, in seconds'
      type: integer
    dial_strategy:
      default: simultaneous
      description: Dial strategy for the device
      enum:
        - simultaneous
        - single
      type: string
    id:
      description: Device ID
      type: string
    static_invite:
      description: Override the SIP Username
      type: string
    suppress_clid:
      description: Suppress sending caller ID
      type: boolean
    timeout:
      default: 0
      description: 'Time, in seconds, to wait for device to bridge'
      type: integer
  type: object
system_config.conferences:
  description: Schema for conferences system_config
  properties:
    bridge_password:
      description: conferences bridge password
      type: string
    bridge_username:
      description: conferences bridge username
      type: string
    controls:
      properties:
        default:
          description: conferences controls default
          items:
            properties:
              action:
                description: what action to assign to the star-code
                type: string
              digits:
                description: what digit sequence to bind the action to
                type: string
            type: object
          type: array
        page:
          description: conferences controls page
          items:
            properties:
              action:
                description: what action to assign to the star-code
                type: string
              digits:
                description: what digit sequence to bind the action to
                type: string
            type: object
          type: array
    entry_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,659);v=-7;>=3;+=.1;%(800,0,659,783)
      description: conferences entry tone
      type: string
    exit_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,440);v=-7;>=3;+=.1;%(800,0,349,440)
      description: conferences exit tone
      type: string
    moderator_entry_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,659);v=-7;>=3;+=.1;%(800,0,659,783)
      description: conferences moderator entry tone
      type: string
    moderator_exit_tone:
      default: >-
        tone_stream://v=-7;>=2;+=.1;%(300,0,523,440);v=-7;>=3;+=.1;%(800,0,349,440)
      description: conferences moderator exit tone
      type: string
    number_timeout:
      default: 5000
      description: conferences number timeout
      type: integer
    participant_sanity_check_ms:
      default: 60000
      description: conferences participant_sanity_check_ms
      type: integer
    pin_timeout:
      default: 5000
      description: conferences pin timeout
      type: integer
    profiles:
      default: {}
      properties:
        default:
          default:
            alone-sound: 'prompt://system_media/conf-alone/en-us'
            caller-controls: default
            comfort-noise: 1000
            deaf-sound: 'prompt://system_media/conf-deaf/en-us'
            energy-level: 20
            enter-sound: >-
              tone_stream://v=-7;>=2;+=.1;%(300,0,523,659);v=-7;>=3;+=.1;%(800,0,659,783)
            exit-sound: >-
              tone_stream://v=-7;>=2;+=.1;%(300,0,523,440);v=-7;>=3;+=.1;%(800,0,349,440)
            interval: 20
            locked-sound: 'prompt://system_media/conf-max_participants/en-us'
            max-members-sound: 'prompt://system_media/conf-max_participants/en-us'
            member-enter-sound: 'prompt://system_media/conf-joining_conference/en-us'
            moderator-controls: default
            moh-sound: '$${hold_music}'
            muted-sound: 'prompt://system_media/conf-muted/en-us'
            rate: 16000
            undeaf-sound: 'prompt://system_media/conf-undeaf/en-us'
            unmuted-sound: 'prompt://system_media/conf-unmuted/en-us'
          description: conferences default
          type: object
        page:
          default:
            caller-controls: paging
            comfort-noise: 1000
            energy-level: 20
            enter-sound: 'silence_stream://1'
            exit-sound: 'silence_stream://1'
            interval: 20
            moh-sound: 'silence_stream://1'
            rate: 8000
          description: conferences page
          type: object
      type: object
    review_name:
      default: false
      description: conferences review name
      type: boolean
    route_win_timeout:
      default: 3000
      description: conferences route win timeout
      type: integer
    support_name_announcement:
      default: true
      description: conferences support name announcement
      type: boolean
  type: object
callflows.group_pickup:
  description: Validator for the group_pickup callflow data object
  properties:
    approved_device_id:
      description: Restrict calling device to Device
      type: string
    approved_group_id:
      description: Restrict calling device to Group
      type: string
    approved_user_id:
      description: Restrict calling device to User
      type: string
    device_id:
      description: Device to pickup
      type: string
    group_id:
      description: Group in which to find a call to pickup
      type: string
    user_id:
      description: User in which to find a call to pickup
      type: string
  type: object
port_requests.to_scheduled:
  description: Schema for a port request to be transitioned to the 'scheduled' state
  oneOf:
    - required:
        - scheduled_date
    - required:
        - schedule_on
  properties:
    schedule_on:
      description: date-time at which to perform the porting
      properties:
        date_time:
          pattern: '^2\d\d\d-\d\d-\d\d \d\d:\d\d$'
          type: string
        timezone:
          enum:
            - Africa/Abidjan
            - Africa/Accra
            - Africa/Addis_Ababa
            - Africa/Algiers
            - Africa/Asmara
            - Africa/Asmera
            - Africa/Bamako
            - Africa/Bangui
            - Africa/Banjul
            - Africa/Bissau
            - Africa/Blantyre
            - Africa/Brazzaville
            - Africa/Bujumbura
            - Africa/Cairo
            - Africa/Casablanca
            - Africa/Ceuta
            - Africa/Conakry
            - Africa/Dakar
            - Africa/Dar_es_Salaam
            - Africa/Djibouti
            - Africa/Douala
            - Africa/El_Aaiun
            - Africa/Freetown
            - Africa/Gaborone
            - Africa/Harare
            - Africa/Johannesburg
            - Africa/Juba
            - Africa/Kampala
            - Africa/Khartoum
            - Africa/Kigali
            - Africa/Kinshasa
            - Africa/Lagos
            - Africa/Libreville
            - Africa/Lome
            - Africa/Luanda
            - Africa/Lubumbashi
            - Africa/Lusaka
            - Africa/Malabo
            - Africa/Maputo
            - Africa/Maseru
            - Africa/Mbabane
            - Africa/Mogadishu
            - Africa/Monrovia
            - Africa/Nairobi
            - Africa/Ndjamena
            - Africa/Niamey
            - Africa/Nouakchott
            - Africa/Ouagadougou
            - Africa/Porto-Novo
            - Africa/Sao_Tome
            - Africa/Timbuktu
            - Africa/Tripoli
            - Africa/Tunis
            - Africa/Windhoek
            - America/Adak
            - America/Anchorage
            - America/Anguilla
            - America/Antigua
            - America/Araguaina
            - America/Argentina/Buenos_Aires
            - America/Argentina/Catamarca
            - America/Argentina/ComodRivadavia
            - America/Argentina/Cordoba
            - America/Argentina/Jujuy
            - America/Argentina/La_Rioja
            - America/Argentina/Mendoza
            - America/Argentina/Rio_Gallegos
            - America/Argentina/Salta
            - America/Argentina/San_Juan
            - America/Argentina/San_Luis
            - America/Argentina/Tucuman
            - America/Argentina/Ushuaia
            - America/Aruba
            - America/Asuncion
            - America/Atikokan
            - America/Atka
            - America/Bahia
            - America/Bahia_Banderas
            - America/Barbados
            - America/Belem
            - America/Belize
            - America/Blanc-Sablon
            - America/Boa_Vista
            - America/Bogota
            - America/Boise
            - America/Buenos_Aires
            - America/Cambridge_Bay
            - America/Campo_Grande
            - America/Cancun
            - America/Caracas
            - America/Catamarca
            - America/Cayenne
            - America/Cayman
            - America/Chicago
            - America/Chihuahua
            - America/Coral_Harbour
            - America/Cordoba
            - America/Costa_Rica
            - America/Creston
            - America/Cuiaba
            - America/Curacao
            - America/Danmarkshavn
            - America/Dawson
            - America/Dawson_Creek
            - America/Denver
            - America/Detroit
            - America/Dominica
            - America/Edmonton
            - America/Eirunepe
            - America/El_Salvador
            - America/Ensenada
            - America/Fort_Wayne
            - America/Fortaleza
            - America/Glace_Bay
            - America/Godthab
            - America/Goose_Bay
            - America/Grand_Turk
            - America/Grenada
            - America/Guadeloupe
            - America/Guatemala
            - America/Guayaquil
            - America/Guyana
            - America/Halifax
            - America/Havana
            - America/Hermosillo
            - America/Indiana/Indianapolis
            - America/Indiana/Knox
            - America/Indiana/Marengo
            - America/Indiana/Petersburg
            - America/Indiana/Tell_City
            - America/Indiana/Vevay
            - America/Indiana/Vincennes
            - America/Indiana/Winamac
            - America/Indianapolis
            - America/Inuvik
            - America/Iqaluit
            - America/Jamaica
            - America/Jujuy
            - America/Juneau
            - America/Kentucky/Louisville
            - America/Kentucky/Monticello
            - America/Knox_IN
            - America/Kralendijk
            - America/La_Paz
            - America/Lima
            - America/Los_Angeles
            - America/Louisville
            - America/Lower_Princes
            - America/Maceio
            - America/Managua
            - America/Manaus
            - America/Marigot
            - America/Martinique
            - America/Matamoros
            - America/Mazatlan
            - America/Mendoza
            - America/Menominee
            - America/Merida
            - America/Metlakatla
            - America/Mexico_City
            - America/Miquelon
            - America/Moncton
            - America/Monterrey
            - America/Montevideo
            - America/Montreal
            - America/Montserrat
            - America/Nassau
            - America/New_York
            - America/Nipigon
            - America/Nome
            - America/Noronha
            - America/North_Dakota/Beulah
            - America/North_Dakota/Center
            - America/North_Dakota/New_Salem
            - America/Ojinaga
            - America/Panama
            - America/Pangnirtung
            - America/Paramaribo
            - America/Phoenix
            - America/Port-au-Prince
            - America/Port_of_Spain
            - America/Porto_Acre
            - America/Porto_Velho
            - America/Puerto_Rico
            - America/Rainy_River
            - America/Rankin_Inlet
            - America/Recife
            - America/Regina
            - America/Resolute
            - America/Rio_Branco
            - America/Rosario
            - America/Santa_Isabel
            - America/Santarem
            - America/Santiago
            - America/Santo_Domingo
            - America/Sao_Paulo
            - America/Scoresbysund
            - America/Shiprock
            - America/Sitka
            - America/St_Barthelemy
            - America/St_Johns
            - America/St_Kitts
            - America/St_Lucia
            - America/St_Thomas
            - America/St_Vincent
            - America/Swift_Current
            - America/Tegucigalpa
            - America/Thule
            - America/Thunder_Bay
            - America/Tijuana
            - America/Toronto
            - America/Tortola
            - America/Vancouver
            - America/Virgin
            - America/Whitehorse
            - America/Winnipeg
            - America/Yakutat
            - America/Yellowknife
            - Antarctica/Casey
            - Antarctica/Davis
            - Antarctica/DumontDUrville
            - Antarctica/Macquarie
            - Antarctica/Mawson
            - Antarctica/McMurdo
            - Antarctica/Palmer
            - Antarctica/Rothera
            - Antarctica/South_Pole
            - Antarctica/Syowa
            - Antarctica/Vostok
            - Arctic/Longyearbyen
            - Asia/Aden
            - Asia/Almaty
            - Asia/Amman
            - Asia/Anadyr
            - Asia/Aqtau
            - Asia/Aqtobe
            - Asia/Ashgabat
            - Asia/Ashkhabad
            - Asia/Baghdad
            - Asia/Bahrain
            - Asia/Baku
            - Asia/Bangkok
            - Asia/Beirut
            - Asia/Bishkek
            - Asia/Brunei
            - Asia/Calcutta
            - Asia/Choibalsan
            - Asia/Chongqing
            - Asia/Chungking
            - Asia/Colombo
            - Asia/Dacca
            - Asia/Damascus
            - Asia/Dhaka
            - Asia/Dili
            - Asia/Dubai
            - Asia/Dushanbe
            - Asia/Gaza
            - Asia/Harbin
            - Asia/Hebron
            - Asia/Ho_Chi_Minh
            - Asia/Hong_Kong
            - Asia/Hovd
            - Asia/Irkutsk
            - Asia/Istanbul
            - Asia/Jakarta
            - Asia/Jayapura
            - Asia/Jerusalem
            - Asia/Kabul
            - Asia/Kamchatka
            - Asia/Karachi
            - Asia/Kashgar
            - Asia/Kathmandu
            - Asia/Katmandu
            - Asia/Khandyga
            - Asia/Kolkata
            - Asia/Krasnoyarsk
            - Asia/Kuala_Lumpur
            - Asia/Kuching
            - Asia/Kuwait
            - Asia/Macao
            - Asia/Macau
            - Asia/Magadan
            - Asia/Makassar
            - Asia/Manila
            - Asia/Muscat
            - Asia/Nicosia
            - Asia/Novokuznetsk
            - Asia/Novosibirsk
            - Asia/Omsk
            - Asia/Oral
            - Asia/Phnom_Penh
            - Asia/Pontianak
            - Asia/Pyongyang
            - Asia/Qatar
            - Asia/Qyzylorda
            - Asia/Rangoon
            - Asia/Riyadh
            - Asia/Saigon
            - Asia/Sakhalin
            - Asia/Samarkand
            - Asia/Seoul
            - Asia/Shanghai
            - Asia/Singapore
            - Asia/Taipei
            - Asia/Tashkent
            - Asia/Tbilisi
            - Asia/Tehran
            - Asia/Tel_Aviv
            - Asia/Thimbu
            - Asia/Thimphu
            - Asia/Tokyo
            - Asia/Ujung_Pandang
            - Asia/Ulaanbaatar
            - Asia/Ulan_Bator
            - Asia/Urumqi
            - Asia/Ust-Nera
            - Asia/Vientiane
            - Asia/Vladivostok
            - Asia/Yakutsk
            - Asia/Yekaterinburg
            - Asia/Yerevan
            - Atlantic/Azores
            - Atlantic/Bermuda
            - Atlantic/Canary
            - Atlantic/Cape_Verde
            - Atlantic/Faeroe
            - Atlantic/Faroe
            - Atlantic/Jan_Mayen
            - Atlantic/Madeira
            - Atlantic/Reykjavik
            - Atlantic/South_Georgia
            - Atlantic/St_Helena
            - Atlantic/Stanley
            - Australia/ACT
            - Australia/Adelaide
            - Australia/Brisbane
            - Australia/Broken_Hill
            - Australia/Canberra
            - Australia/Currie
            - Australia/Darwin
            - Australia/Eucla
            - Australia/Hobart
            - Australia/LHI
            - Australia/Lindeman
            - Australia/Lord_Howe
            - Australia/Melbourne
            - Australia/NSW
            - Australia/North
            - Australia/Perth
            - Australia/Queensland
            - Australia/South
            - Australia/Sydney
            - Australia/Tasmania
            - Australia/Victoria
            - Australia/West
            - Australia/Yancowinna
            - Brazil/Acre
            - Brazil/DeNoronha
            - Brazil/East
            - Brazil/West
            - CET
            - CST6CDT
            - Canada/Atlantic
            - Canada/Central
            - Canada/East-Saskatchewan
            - Canada/Eastern
            - Canada/Mountain
            - Canada/Newfoundland
            - Canada/Pacific
            - Canada/Saskatchewan
            - Canada/Yukon
            - Chile/Continental
            - Chile/EasterIsland
            - Cuba
            - EET
            - EST
            - EST5EDT
            - Egypt
            - Eire
            - Etc/GMT
            - Etc/GMT+0
            - Etc/GMT+1
            - Etc/GMT+10
            - Etc/GMT+11
            - Etc/GMT+12
            - Etc/GMT+2
            - Etc/GMT+3
            - Etc/GMT+4
            - Etc/GMT+5
            - Etc/GMT+6
            - Etc/GMT+7
            - Etc/GMT+8
            - Etc/GMT+9
            - Etc/GMT-0
            - Etc/GMT-1
            - Etc/GMT-10
            - Etc/GMT-11
            - Etc/GMT-12
            - Etc/GMT-13
            - Etc/GMT-14
            - Etc/GMT-2
            - Etc/GMT-3
            - Etc/GMT-4
            - Etc/GMT-5
            - Etc/GMT-6
            - Etc/GMT-7
            - Etc/GMT-8
            - Etc/GMT-9
            - Etc/GMT0
            - Etc/Greenwich
            - Etc/UCT
            - Etc/UTC
            - Etc/Universal
            - Etc/Zulu
            - Europe/Amsterdam
            - Europe/Andorra
            - Europe/Athens
            - Europe/Belfast
            - Europe/Belgrade
            - Europe/Berlin
            - Europe/Bratislava
            - Europe/Brussels
            - Europe/Bucharest
            - Europe/Budapest
            - Europe/Busingen
            - Europe/Chisinau
            - Europe/Copenhagen
            - Europe/Dublin
            - Europe/Gibraltar
            - Europe/Guernsey
            - Europe/Helsinki
            - Europe/Isle_of_Man
            - Europe/Istanbul
            - Europe/Jersey
            - Europe/Kaliningrad
            - Europe/Kiev
            - Europe/Lisbon
            - Europe/Ljubljana
            - Europe/London
            - Europe/Luxembourg
            - Europe/Madrid
            - Europe/Malta
            - Europe/Mariehamn
            - Europe/Minsk
            - Europe/Monaco
            - Europe/Moscow
            - Europe/Nicosia
            - Europe/Oslo
            - Europe/Paris
            - Europe/Podgorica
            - Europe/Prague
            - Europe/Riga
            - Europe/Rome
            - Europe/Samara
            - Europe/San_Marino
            - Europe/Sarajevo
            - Europe/Simferopol
            - Europe/Skopje
            - Europe/Sofia
            - Europe/Stockholm
            - Europe/Tallinn
            - Europe/Tirane
            - Europe/Tiraspol
            - Europe/Uzhgorod
            - Europe/Vaduz
            - Europe/Vatican
            - Europe/Vienna
            - Europe/Vilnius
            - Europe/Volgograd
            - Europe/Warsaw
            - Europe/Zagreb
            - Europe/Zaporozhye
            - Europe/Zurich
            - GB
            - GB-Eire
            - GMT
            - GMT+0
            - GMT-0
            - GMT0
            - Greenwich
            - HST
            - Hongkong
            - Iceland
            - Indian/Antananarivo
            - Indian/Chagos
            - Indian/Christmas
            - Indian/Cocos
            - Indian/Comoro
            - Indian/Kerguelen
            - Indian/Mahe
            - Indian/Maldives
            - Indian/Mauritius
            - Indian/Mayotte
            - Indian/Reunion
            - Iran
            - Israel
            - Jamaica
            - Japan
            - Kwajalein
            - Libya
            - MET
            - MST
            - MST7MDT
            - Mexico/BajaNorte
            - Mexico/BajaSur
            - Mexico/General
            - NZ
            - NZ-CHAT
            - Navajo
            - PRC
            - PST8PDT
            - Pacific/Apia
            - Pacific/Auckland
            - Pacific/Chatham
            - Pacific/Chuuk
            - Pacific/Easter
            - Pacific/Efate
            - Pacific/Enderbury
            - Pacific/Fakaofo
            - Pacific/Fiji
            - Pacific/Funafuti
            - Pacific/Galapagos
            - Pacific/Gambier
            - Pacific/Guadalcanal
            - Pacific/Guam
            - Pacific/Honolulu
            - Pacific/Johnston
            - Pacific/Kiritimati
            - Pacific/Kosrae
            - Pacific/Kwajalein
            - Pacific/Majuro
            - Pacific/Marquesas
            - Pacific/Midway
            - Pacific/Nauru
            - Pacific/Niue
            - Pacific/Norfolk
            - Pacific/Noumea
            - Pacific/Pago_Pago
            - Pacific/Palau
            - Pacific/Pitcairn
            - Pacific/Pohnpei
            - Pacific/Ponape
            - Pacific/Port_Moresby
            - Pacific/Rarotonga
            - Pacific/Saipan
            - Pacific/Samoa
            - Pacific/Tahiti
            - Pacific/Tarawa
            - Pacific/Tongatapu
            - Pacific/Truk
            - Pacific/Wake
            - Pacific/Wallis
            - Pacific/Yap
            - Poland
            - Portugal
            - ROC
            - ROK
            - Singapore
            - Turkey
            - UCT
            - US/Alaska
            - US/Aleutian
            - US/Arizona
            - US/Central
            - US/East-Indiana
            - US/Eastern
            - US/Hawaii
            - US/Indiana-Starke
            - US/Michigan
            - US/Mountain
            - US/Pacific
            - US/Samoa
            - UTC
            - Universal
            - W-SU
            - WET
            - Zulu
      required:
        - timezone
        - date_time
      type: object
    scheduled_date:
      description: Gregorian timestamp at which to perform the porting
      type: integer
  type: object
system_config.notify:
  description: Schema for notify system_config
  properties:
    autoload_modules:
      default:
        - teletype_account_zone_change
        - teletype_cnam_request
        - teletype_customer_update
        - teletype_denied_emergency_bridge
        - teletype_deregister
        - teletype_fax_inbound_error_to_email
        - teletype_fax_inbound_to_email
        - teletype_fax_outbound_error_to_email
        - teletype_fax_outbound_smtp_error_to_email
        - teletype_fax_outbound_to_email
        - teletype_first_occurrence
        - teletype_low_balance
        - teletype_missed_call
        - teletype_new_account
        - teletype_new_user
        - teletype_password_recovery
        - teletype_port_cancel
        - teletype_port_comment
        - teletype_ported
        - teletype_port_pending
        - teletype_port_rejected
        - teletype_port_request_admin
        - teletype_port_request
        - teletype_port_scheduled
        - teletype_port_unconfirmed
        - teletype_service_added
        - teletype_system_alert
        - teletype_topup
        - teletype_transaction
        - teletype_voicemail_full
        - teletype_voicemail_to_email
        - teletype_webhook_disabled
      description: teletype modules to start when teletype is started
      items:
        type: string
      type: array
    backoff_fudge_ms:
      default: 5000
      description: notify backoff fudge in milliseconds
      type: integer
    notification_app:
      default: teletype
      description: notify notification app
      type: string
    notify_persist_enabled:
      default: true
      description: notify notify_persist_enabled
      type: boolean
    notify_persist_exceptions:
      default:
        - system_alert
      description: notify notify_persist_exceptions
      items:
        type: string
      type: array
    notify_persist_temporary_force_exceptions:
      default: []
      description: notify notify_persist_temporary_force_exceptions
      items:
        type: string
      type: array
    notify_publisher_timeout_ms:
      default: 10000
      description: >-
        Timeout in milliseconds when publishing notification using notify
        publisher
      minimum: 1
      type: integer
    search_rep_email:
      default: true
      description: notify search rep email
      type: boolean
    should_persist_for_retry:
      default: true
      description: notify should_persist_for_retry
      type: boolean
    use_federated_listener:
      default: false
      description: notify use federated listener
      type: boolean
  type: object
system_config.sysconf:
  description: Schema for sysconf system_config
  properties:
    acl_request_timeout_fudge_ms:
      default: 100
      description: sysconf acl request timeout fudge in milliseconds
      type: integer
    acl_request_timeout_ms:
      default: 2000
      description: sysconf acl request timeout in milliseconds
      type: integer
  type: object
accounts:
  description: >-
    Accounts represent tenants or customers on the system. Each account
    represents an individual dataset or sandbox that only one tenant can access.
    The data set is architecturally independent from other tenants.
  properties:
    call_recording:
      additionalProperties: false
      description: call recording configuration
      properties:
        account:
          $ref: '#/components/schemas/call_recording'
        endpoint:
          $ref: '#/components/schemas/call_recording'
      type: object
    call_restriction:
      additionalProperties:
        properties:
          action:
            description: >-
              If set to deny all calls of this type will be rejected.  If set to
              inherit the user/device rules apply
            enum:
              - inherit
              - deny
            type: string
        type: object
      default: {}
      description: Account level call restrictions for each available number classification
      type: object
    call_waiting:
      $ref: '#/components/schemas/call_waiting'
    caller_id:
      $ref: '#/components/schemas/caller_id'
      description: The account default caller ID parameters
    caller_id_options:
      description: custom properties for configuring caller_id
      properties:
        outbound_privacy:
          description: >-
            Determines what appears as caller id for offnet outbound calls.
            Values: full - hides name and number; name - hides only name; number
            - hides only number; none - hides nothing
          enum:
            - full
            - name
            - number
            - none
          type: string
        show_rate:
          description: Whether to show the rate
          type: boolean
      type: object
    dial_plan:
      $ref: '#/components/schemas/dialplans'
      description: A list of default rules used to modify dialed numbers
    do_not_disturb:
      properties:
        enabled:
          description: The default value for do-not-disturb
          type: boolean
      type: object
    enabled:
      default: true
      description: Determines if the account is currently enabled
      type: boolean
      x-support_level: supported
    formatters:
      $ref: '#/components/schemas/formatters'
    language:
      description: The language for this account
      type: string
      x-support_level: supported
    metaflows:
      $ref: '#/components/schemas/metaflows'
    music_on_hold:
      default: {}
      description: The default music on hold parameters
      properties:
        media_id:
          description: >-
            The ID of a media object that should be used as the default music on
            hold
          maxLength: 2048
          type: string
      type: object
    name:
      description: A friendly name for the account
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    notifications:
      description: account notification settings
      properties:
        first_occurrence:
          description: send emails on these account-firsts
          properties:
            sent_initial_call:
              default: false
              description: has the account made their first call
              type: boolean
            sent_initial_registration:
              default: false
              description: has the account registered their first device
              type: boolean
          type: object
        low_balance:
          description: Low balance settings
          properties:
            enabled:
              description: should the account be checked for this alert
              type: boolean
            last_notification:
              description: >-
                Timestamp, in Gregorian seconds, of when the last low_balance
                alert was sent
              type: integer
            sent_low_balance:
              description: has the alert been sent (avoids duplication/spamming)
              type: boolean
            threshold:
              description: account balance to send alert on
              type: number
          type: object
      type: object
    org:
      description: Full legal name of the organization
      type: string
    preflow:
      additionalProperties: false
      default: {}
      description: >-
        Each property provides functionality that can be applied to calls using
        the callflow application
      properties:
        always:
          description: >-
            The ID of a callflow to always execute prior to processing the
            callflow with numbers/patterns matching the request
          type: string
      type: object
    realm:
      description: 'The realm of the account, ie: ''account1.2600hz.com'''
      maxLength: 253
      minLength: 4
      pattern: '^[.\w-]+$'
      type: string
      x-support_level: supported
    ringtones:
      default: {}
      description: Ringtone Parameters
      properties:
        external:
          description: >-
            The alert info SIP header added when the call is from internal
            sources
          maxLength: 256
          type: string
        internal:
          description: >-
            The alert info SIP header added when the call is from external
            sources
          maxLength: 256
          type: string
      type: object
    timezone:
      description: The default timezone
      maxLength: 32
      minLength: 5
      type: string
      x-support_level: supported
    topup:
      description: Topup settings for the account
      properties:
        threshold:
          description: The account balance when topup occurs
          type: number
      type: object
    voicemail:
      properties:
        notify:
          properties:
            callback:
              $ref: '#/components/schemas/notify.callback'
          type: object
      type: object
    zones:
      description: The zone(s) of an account
      properties:
        home:
          description: Which zone is considered the account's home zone
          type: string
      type: object
  required:
    - name
  type: object
call_recordings:
  additionalProperties: false
  description: endpoint recording settings
  properties:
    call_id:
      description: call_id
      name: call_id
      type: string
    callee_id_name:
      description: callee_id_name
      name: callee_id_name
      type: string
    callee_id_number:
      description: callee_id_number
      name: callee_id_number
      type: string
    caller_id_name:
      description: caller_id_name
      name: caller_id_name
      type: string
    caller_id_number:
      description: caller_id_number
      name: caller_id_number
      type: string
    cdr_id:
      description: cdr_id
      name: cdr_id
      type: string
    content_type:
      description: content_type
      name: content_type
      type: string
    custom_channel_vars:
      description: custom_channel_vars
      name: custom_channel_vars
      type: object
    description:
      description: description
      name: description
      type: string
    direction:
      description: direction
      name: direction
      type: string
    duration:
      description: duration
      minimum: 0
      name: duration
      type: integer
    duration_ms:
      description: duration_ms
      minimum: 0
      name: duration_ms
      type: integer
    from:
      description: from
      name: from
      type: string
    interaction_id:
      description: interaction_id
      name: interaction_id
      type: string
    media_source:
      description: media_source
      name: media_source
      type: string
    media_type:
      description: media_type
      name: media_type
      type: string
    name:
      description: name
      name: name
      type: string
    origin:
      description: origin
      name: origin
      type: string
    owner_id:
      description: owner_id
      name: owner_id
      type: string
    request:
      description: request
      name: request
      type: string
    source_type:
      description: source_type
      name: source_type
      type: string
    start:
      description: 'start timestamp, in Gregorian seconds'
      name: start
      type: integer
    to:
      description: to
      name: to
      type: string
    url:
      description: url
      name: url
      type: string
  type: object
devices:
  description: A device be it a SIP phone or landline number
  properties:
    call_forward:
      description: The device call forward parameters
      properties:
        direct_calls_only:
          default: false
          description: >-
            Determines if the calls that are not directly sent to the device
            should be forwarded
          type: boolean
          x-support_level: supported
        enabled:
          default: false
          description: Determines if the call forwarding should be used
          type: boolean
          x-support_level: supported
        failover:
          default: false
          description: Enable the call-forwarding parameters if the device is offline
          type: boolean
          x-support_level: supported
        ignore_early_media:
          default: true
          description: >-
            The option to determine if early media from the call forwarded
            number should ignored
          type: boolean
        keep_caller_id:
          default: true
          description: >-
            Determines if the caller id is kept when the call is forwarded, if
            not the devices caller id is used
          type: boolean
          x-support_level: supported
        number:
          description: The number to forward calls to
          maxLength: 15
          type: string
          x-support_level: supported
        require_keypress:
          default: true
          description: Determines if the callee is prompted to press 1 to accept the call
          type: boolean
          x-support_level: supported
        substitute:
          default: true
          description: Determines if the call forwarding replaces the device
          type: boolean
          x-support_level: supported
      type: object
    call_recording:
      $ref: '#/components/schemas/call_recording'
    call_restriction:
      additionalProperties:
        properties:
          action:
            description: >-
              If set to deny all calls of this type will be rejected.  If set to
              inherit the user/device rules apply
            enum:
              - inherit
              - deny
            type: string
        type: object
      default: {}
      description: Device level call restrictions for each available number classification
      type: object
    call_waiting:
      $ref: '#/components/schemas/call_waiting'
    caller_id:
      $ref: '#/components/schemas/caller_id'
      description: The device caller ID parameters
    caller_id_options:
      description: custom properties for configuring caller_id
      properties:
        outbound_privacy:
          description: >-
            Determines what appears as caller id for offnet outbound calls.
            Values: full - hides name and number; name - hides only name; number
            - hides only number; none - hides nothing
          enum:
            - full
            - name
            - number
            - none
          type: string
      type: object
    contact_list:
      default: {}
      description: Contact List Parameters
      properties:
        exclude:
          description: If set to true the device is excluded from the contact list
          type: boolean
          x-support_level: supported
      type: object
    device_type:
      description: Arbitrary device type used by the UI and billing system
      type: string
    dial_plan:
      $ref: '#/components/schemas/dialplans'
      description: A list of rules used to modify dialed numbers
    do_not_disturb:
      description: DND Parameters
      properties:
        enabled:
          description: Is do-not-disturb enabled for this device?
          type: boolean
      type: object
    enabled:
      default: true
      description: Determines if the device is currently enabled
      type: boolean
      x-support_level: supported
    exclude_from_queues:
      default: false
      description: Do not ring this device when calling user/agent in queue
      type: boolean
    formatters:
      $ref: '#/components/schemas/formatters'
    hotdesk:
      description: The hotdesk status of this device
      type: object
      users:
        description: The user(s) currently hotdesked into the device
        patternProperties:
          '^[a-zA-Z0-9]{32}$':
            description: user-specific hotdesk settings
            type: object
        type: object
    language:
      description: The language for the device
      type: string
      x-support_level: supported
    mac_address:
      description: The MAC Address of the device (if applicable)
      type: string
      x-support_level: supported
    media:
      $ref: '#/components/schemas/endpoint.media'
      description: Configure audio/video/etc media options for this device
    metaflows:
      $ref: '#/components/schemas/metaflows'
      description: The device metaflow parameters
    music_on_hold:
      default: {}
      description: The music on hold parameters used if not a property of the device owner
      properties:
        media_id:
          description: The ID of a media object that should be used as the music on hold
          maxLength: 2048
          type: string
      type: object
    mwi_unsolicited_updates:
      default: true
      description: When true enables unsolicited mwi notifications
      type: boolean
    name:
      description: A friendly name for the device
      maxLength: 128
      minLength: 1
      type: string
      x-support_level: supported
    outbound_flags:
      description: List of flags (features) this device requires when making outbound calls
      oneOf:
        - items:
            type: string
          type: array
        - properties:
            dynamic:
              description: Dynamic outbound flags
              items:
                type: string
              type: array
            static:
              description: Static outbound flags
              items:
                type: string
              type: array
          type: object
    owner_id:
      description: The ID of the user object that 'owns' the device
      maxLength: 32
      minLength: 32
      type: string
    presence_id:
      description: Static presence ID (used instead of SIP username)
      type: string
      x-support_level: supported
    provision:
      description: Provision data
      properties:
        combo_keys:
          description: Feature Keys
          type: object
          x-patternProperties:
            '^[0-9]+$':
              nullable: true
              properties:
                type:
                  description: Feature key type
                  enum:
                    - line
                    - presence
                    - parking
                    - personal_parking
                    - speed_dial
                  type: string
                value:
                  description: Feature key value
                  oneOf:
                    - maximum: 10
                      minimum: 1
                      type: integer
                    - enum:
                        - 1
                        - 2
                        - 3
                        - 4
                        - 5
                        - 6
                        - 7
                        - 8
                        - 9
                        - 10
                      type: string
              required:
                - type
              type: object
        endpoint_brand:
          description: Brand of the phone
          type: string
        endpoint_family:
          description: Family name of the phone
          type: string
        endpoint_model:
          description: Model name of the phone
          oneOf:
            - type: string
            - items:
                type: string
              type: array
        feature_keys:
          description: Feature Keys
          type: object
          x-patternProperties:
            '^[0-9]+$':
              nullable: true
              properties:
                type:
                  description: Feature key type
                  enum:
                    - presence
                    - parking
                    - personal_parking
                    - speed_dial
                  type: string
                value:
                  description: Feature key value
                  oneOf:
                    - maximum: 10
                      minimum: 1
                      type: integer
                    - enum:
                        - 1
                        - 2
                        - 3
                        - 4
                        - 5
                        - 6
                        - 7
                        - 8
                        - 9
                        - 10
                      type: string
              required:
                - type
                - value
              type: object
        id:
          description: Provisioner Template ID
          type: string
      type: object
    register_overwrite_notify:
      default: false
      description: When true enables overwrite notifications
      type: boolean
    ringtones:
      default: {}
      description: Ringtone Parameters
      properties:
        external:
          description: >-
            The alert info SIP header added when the call is from internal
            sources
          maxLength: 256
          type: string
        internal:
          description: >-
            The alert info SIP header added when the call is from external
            sources
          maxLength: 256
          type: string
      type: object
    sip:
      default: {}
      description: SIP Parameters
      properties:
        custom_sip_headers:
          anyOf:
            - $ref: '#/components/schemas/custom_sip_headers'
            - properties:
                in:
                  $ref: '#/components/schemas/custom_sip_headers'
                  description: >-
                    Custom SIP Headers to be applied to calls inbound to Kazoo
                    from the endpoint
                out:
                  $ref: '#/components/schemas/custom_sip_headers'
                  description: >-
                    Custom SIP Headers to be applied to calls outbound from
                    Kazoo to the endpoint
          description: A property list of SIP headers
          type: object
        expire_seconds:
          default: 300
          description: >-
            The time, in seconds, sent to the provisioner for the registration
            period that the device should be configured with.
          type: integer
          x-support_level: supported
        ignore_completed_elsewhere:
          description: >-
            When set to false the phone should not consider ring group calls
            answered elsewhere as missed
          type: boolean
        invite_format:
          default: contact
          description: The SIP request URI invite format
          enum:
            - username
            - npan
            - 1npan
            - e164
            - route
            - contact
          type: string
          x-support_level: supported
        ip:
          description: IP address for this device
          type: string
          x-support_level: supported
        method:
          default: password
          description: Method of authentication
          enum:
            - password
            - ip
          type: string
          x-support_level: supported
        number:
          description: >-
            The number used if the invite format is 1npan, npan, or e164 (if not
            set the dialed number is used)
          type: string
        password:
          description: SIP authentication password
          maxLength: 32
          minLength: 5
          type: string
          x-support_level: supported
        realm:
          description: >-
            The realm this device should use, overriding the account realm.
            Should rarely be necessary.
          maxLength: 253
          minLength: 4
          pattern: '^[.\w_-]+$'
          type: string
        route:
          description: The SIP URL used if the invite format is 'route'
          type: string
          x-support_level: supported
        static_route:
          description: >-
            Sends all inbound calls to this string (instead of dialed number or
            username)
          type: string
        username:
          description: SIP authentication username
          maxLength: 32
          minLength: 2
          type: string
          x-support_level: supported
      type: object
    suppress_unregister_notifications:
      default: false
      description: When true disables deregister notifications
      type: boolean
    timezone:
      description: Device's timezone
      type: string
      x-support_level: supported
  required:
    - name
  type: object
system_config.hotornot:
  description: Schema for hotornot system_config
  properties:
    default_rate_cost:
      default: 0
      description: default cost per minute for rate
      type: number
    default_rate_increment:
      default: 60
      description: default increment time for rate
      type: integer
    default_rate_internal_cost:
      default: 0
      description: default internal cost per minute for rate
      type: number
    default_rate_minimum:
      default: 60
      description: default minimal duration for rate
      type: integer
    default_rate_nocharge_time:
      default: 0
      description: default nocharge time for rate
      type: integer
    default_rate_surcharge:
      default: 0
      description: default surcharge amount for rate
      type: number
    default_ratedeck:
      default: ratedeck
      description: default ratedeck database to use
      type: string
    filter_list:
      default:
        - direction
        - route_options
        - routes
      description: List of filters for rates
      items:
        type: string
      type: array
    mobile_rate:
      description: Object defining rate for Kazoo mobile
      type: object
    rate_version:
      description: 'If defined, use rates with this version'
      type: string
    should_publish_system_alert:
      properties:
        both:
          default: true
          description: hotornot should_publish_system_alert if a rate is missing
          type: boolean
        inbound:
          default: true
          description: hotornot should_publish_system_alert if inbound rate is missing
          type: boolean
        outbound:
          default: true
          description: hotornot should_publish_system_alert if outbound rate is missing
          type: boolean
    sort_by_weight:
      default: true
      description: sort rates by weight (true) or cost (false)
      type: boolean
    trie_build_timeout_ms:
      default: 60000
      description: build timeout (ms) for trie
      type: integer
    trie_lru_expires_s:
      default: 86400
      description: How long an entry in the LRU trie can remain
      type: integer
    trie_module:
      default: hon_trie
      description: Which trie module to use
      type: string
    use_trie:
      default: false
      description: whether to use the trie to store rates in the VM
      type: boolean
  type: object
system_config.cdr:
  description: Schema for cdr system_config
  properties:
    ignore_apps:
      default:
        - milliwatt
      description: cdr ignore apps
      items:
        type: string
      type: array
    ignore_loopback_bowout:
      default: true
      description: cdr ignore loopback bowout
      type: boolean
    refresh_view_enabled:
      default: false
      description: enable or disable the view refresh feature
      type: boolean
    refresh_view_threshold:
      default: 10
      description: number of cdrs to trigger view refresh
      type: integer
    refresh_view_timeout:
      default: 900
      description: time in seconds to to trigger cdrs view refresh
      type: integer
    store_anonymous:
      default: false
      description: cdr store anonymous
      type: boolean
    v3_migrate_num_months:
      default: 4
      description: cdr v3 migrate num months
      type: integer
  type: object
system_config.kazoo_endpoint.mobile:
  description: Schema for kazoo_endpoint.mobile system_config
  properties:
    codecs:
      default:
        - PCMU
      description: kazoo_endpoint.mobile codecs
      items:
        type: string
      type: array
    create_sip_endpoint:
      default: false
      description: kazoo_endpoint.mobile create sip endpoint
      type: boolean
    custom_sip_interface:
      description: kazoo_endpoint.mobile custom sip interface
      type: string
    formatter:
      default: '^\+?1?([2-9][0-9]{2}[2-9][0-9]{6})$'
      description: kazoo_endpoint.mobile formatter
      type: string
    path:
      default: ''
      description: kazoo_endpoint.mobile path
      type: string
    prefix:
      default: ''
      description: kazoo_endpoint.mobile prefix
      type: string
    realm:
      default: mobile.k.zswitch.net
      description: kazoo_endpoint.mobile realm
      type: string
    sms:
      properties:
        connections:
          default:
            default:
              exchange: sms
              options:
                passive: true
              route: sprint
              type: topic
          description: kazoo_endpoint.mobile connections
          type: object
    sms_interface:
      default: amqp
      description: kazoo_endpoint.mobile sms interface
      type: string
    suffix:
      default: ''
      description: kazoo_endpoint.mobile suffix
      type: string
  type: object
callflows.acdc_member:
  description: Validator for the acdc_member callflow data object
  properties:
    id:
      description: ID of the ACDc Queue
      type: string
    priority:
      description: assign a priority to the caller
      type: integer
  type: object
callflows.hangup:
  description: Validator for the hangup callflow data object
  properties: {}
  type: object
system_config.notify.topup:
  description: Schema for notify.topup system_config
  properties:
    default_to:
      default: ''
      description: notify.topup default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.topup html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.topup text content transfer encoding
      type: string
  type: object
phone_numbers:
  description: Schema for a number
  properties:
    carrier_name:
      maxLength: 30
      minLength: 1
      type: string
    cnam:
      properties:
        display_name:
          maxLength: 15
          minLength: 1
          type: string
        inbound_lookup:
          type: boolean
      type: object
    create_with_state:
      description: The state to create numbers in
      enum:
        - aging
        - available
        - deleted
        - discovery
        - in_service
        - port_in
        - port_out
        - released
        - reserved
      type: string
    e911:
      properties:
        activated_time:
          description: The time stamp e911 was provisioned
          type: string
        caller_name:
          description: The name that will show to emergency services
          minLength: 3
          type: string
        extended_address:
          description: The suit/floor/apt. address where the number is in service
          type: string
        latitude:
          description: The e911 provisioning system calculated service address latitude
          type: string
        legacy_data:
          description: Legacy E911 information
          properties:
            house_number:
              description: The name that will show to emergency services
              type: string
            predirectional:
              description: The name that will show to emergency services
              type: string
            streetname:
              description: The name that will show to emergency services
              type: string
            suite:
              description: The name that will show to emergency services
              type: string
          type: object
        locality:
          description: The locality (city) where the number is in service
          type: string
        location_id:
          description: The e911 provisioning system internal id for this service address
          type: string
        longitude:
          description: The e911 provisioning system calculated service address longitude
          type: string
        plus_four:
          description: The extended zip/postal code where the number is in service
          type: string
        postal_code:
          description: The zip/postal code where the number is in service
          type: string
        region:
          description: The region (state) where the number is in service
          maxLength: 2
          minLength: 2
          type: string
        status:
          description: The e911 provisioning system status for this service address
          enum:
            - INVALID
            - GEOCODED
            - PROVISIONED
            - REMOVED
            - ERROR
          type: string
        street_address:
          description: The street address where the number is in service
          type: string
      required:
        - locality
        - postal_code
        - region
        - street_address
      type: object
    porting:
      description: Porting (in) information for the phone number
      properties:
        billing_account_id:
          description: The account id the losing carrier has on file
          type: string
        billing_extended_address:
          description: The suit/floor/apt. address the losing carrier has on file
          type: string
        billing_locality:
          description: The locality (city) the losing carrier has on file
          type: string
        billing_name:
          description: The name or company name the losing carrier has on file
          type: string
        billing_postal_code:
          description: The zip/postal code the losing carrier has on file
          type: string
        billing_region:
          description: The region (state) the losing carrier has on file
          type: string
        billing_street_address:
          description: The street address the losing carrier has on file
          type: string
        billing_telephone_number:
          description: The BTN of the account the number belongs to
          type: string
        comments:
          description: An array of comments
          items:
            type: string
          type: array
        customer_contact:
          description: The phone number that can be used to contact the owner of the number
          type: string
        port_id:
          description: The id of the port request
          type: string
        requested_port_date:
          description: The requested port date
          type: string
        service_provider:
          description: The name of the losing carrier
          type: string
      type: object
  type: object
system_config.crossbar.shared_auth:
  description: Schema for crossbar.shared_auth system_config
  properties:
    authoritative_crossbar:
      description: crossbar.shared_auth authoritative crossbar
      type: string
  type: object
system_config.notify.new_account:
  description: Schema for notify.new_account system_config
  properties:
    default_to:
      default: ''
      description: notify.new_account default to
      oneOf:
        - type: string
        - items:
            type: string
          type: array
    html_content_transfer_encoding:
      default: 7BIT
      description: notify.new_account html content transfer encoding
      type: string
    text_content_transfer_encoding:
      default: 7BIT
      description: notify.new_account text content transfer encoding
      type: string
  type: object
callflows.call_forward:
  description: Validator for the call_forward callflow data object
  properties:
    action:
      description: What action to perform on the caller's call forwarding
      enum:
        - activate
        - deactivate
        - update
        - toggle
        - menu
      type: string
  type: object

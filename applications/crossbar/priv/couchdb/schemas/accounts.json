{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "_id": "accounts",
    "description": "Accounts represent tenants or customers on the system. Each account represents an individual dataset or sandbox that only one tenant can access. The data set is architecturally independent from other tenants.",
    "properties": {
        "call_recording": {
            "additionalProperties": false,
            "description": "call recording configuration",
            "properties": {
                "account": {
                    "$ref": "call_recording"
                },
                "endpoint": {
                    "$ref": "call_recording"
                }
            },
            "type": "object"
        },
        "call_restriction": {
            "additionalProperties": {
                "properties": {
                    "action": {
                        "description": "If set to deny all calls of this type will be rejected.  If set to inherit the user/device rules apply",
                        "enum": [
                            "inherit",
                            "deny"
                        ],
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "default": {},
            "description": "Account level call restrictions for each available number classification",
            "type": "object"
        },
        "call_waiting": {
            "$ref": "call_waiting"
        },
        "caller_id": {
            "$ref": "caller_id",
            "description": "The account default caller ID parameters"
        },
        "dial_plan": {
            "$ref": "dialplans",
            "description": "A list of default rules used to modify dialed numbers"
        },
        "do_not_disturb": {
            "properties": {
                "enabled": {
                    "description": "The default value for do-not-disturb",
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "enabled": {
            "default": true,
            "description": "Determines if the account is currently enabled",
            "type": "boolean"
        },
        "formatters": {
            "$ref": "formatters"
        },
        "language": {
            "description": "The language for this account",
            "type": "string"
        },
        "metaflows": {
            "$ref": "metaflows"
        },
        "music_on_hold": {
            "default": {},
            "description": "The default music on hold parameters",
            "properties": {
                "media_id": {
                    "description": "The ID of a media object that should be used as the default music on hold",
                    "maxLength": 2048,
                    "type": "string"
                }
            },
            "type": "object"
        },
        "name": {
            "description": "A friendly name for the account",
            "maxLength": 128,
            "minLength": 1,
            "type": "string"
        },
        "notifications": {
            "description": "account-specific notification templates",
            "patternProperties": {
                "[a-z_]+": {
                    "$ref": "notifications",
                    "description": "notification template with account overrides"
                }
            },
            "type": "object"
        },
        "org": {
            "description": "Full legal name of the organization",
            "type": "string"
        },
        "preflow": {
            "additionalProperties": false,
            "default": {},
            "description": "Each property provides functionality that can be applied to calls using the callflow application",
            "properties": {
                "always": {
                    "description": "The ID of a callflow to always execute prior to processing the callflow with numbers/patterns matching the request",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "realm": {
            "description": "The realm of the account, ie: 'account1.2600hz.com'",
            "maxLength": 253,
            "minLength": 4,
            "pattern": "^[.\\w_-]+$",
            "type": "string"
        },
        "ringtones": {
            "default": {},
            "description": "Ringtone Parameters",
            "properties": {
                "external": {
                    "description": "The alert info SIP header added when the call is from internal sources",
                    "maxLength": 256,
                    "type": "string"
                },
                "internal": {
                    "description": "The alert info SIP header added when the call is from external sources",
                    "maxLength": 256,
                    "type": "string"
                }
            },
            "type": "object"
        },
        "timezone": {
            "description": "The default timezone",
            "maxLength": 32,
            "minLength": 5,
            "type": "string"
        },
        "topup": {
            "description": "Topup settings for the account",
            "properties": {
                "threshold": {
                    "description": "The account balance when topup occurs",
                    "type": "number"
                }
            },
            "type": "object"
        },
        "voicemail": {
            "properties": {
                "notify": {
                    "properties": {
                        "callback": {
                            "$ref": "notify.callback"
                        }
                    },
                    "type": "object"
                }
            },
            "type": "object"
        },
        "zones": {
            "description": "The zone(s) of an account",
            "properties": {
                "home": {
                    "description": "Which zone is considered the account's home zone",
                    "type": "string"
                }
            },
            "type": "object"
        }
    },
    "required": [
        "name"
    ],
    "type": "object"
}

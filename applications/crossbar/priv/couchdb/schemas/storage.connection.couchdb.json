{
    "id":"storage.connection.couchdb",
    "$schema":"http://json-schema.org/draft-04/schema#",
    "description":"schema for couchdb connection entry",
    "type":"object",
    "properties":{
        "driver":{
            "enum":["kazoo_couch"]
        },
        "settings":{
            "type":"object",
            "properties":{
                "ip":{
                    "type":"string"
                },
                "port":{
                    "type":"integer"
                },
                "credentials":{
                    "$ref":"#/definitions/credentials"
                },
                "connect_timeout":{
                    "type":"integer"
                },
                "max_pipeline_size":{
                    "type":"integer"
                },
                "max_sessions":{
                    "type":"integer"
                },
                "connect_options":{
                    "type":"object",
                    "properties":{
                        "keepalive":{
                            "type":"boolean"
                        }
                    }
                },
                "pool":{
                    "$ref":"#/definitions/pool"
                }
            },
            "required":[
                "ip",
                "port"
            ]
        },
        "name" : {"type" : "string"}
    },
    "required":[
        "driver",
        "settings"
    ],
    "definitions":{
        "pool":{
            "type":"object",
            "properties":{
                "name":{
                    "type":"string"
                },
                "size":{
                    "type":"integer"
                }
            },
            "required":[
                "name",
                "size"
            ],
            "additionalProperties":false
        },
        "credentials":{
            "type":"object",
            "properties":{
                "username":{
                    "type":"string"
                },
                "password":{
                    "type":"integer"
                }
            },
            "required":[
                "username",
                "password"
            ],
            "additionalProperties":false
        }
    }
}
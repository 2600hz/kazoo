{
    "_id": "_design/maintenance",
    "kazoo": {
        "view_map": [
            {
                "classification": "account"
            },
            {
                "classification": "modb"
            },
            {
                "database": "accounts"
            },
            {
                "database": "sip_auth"
            },
            {
                "database": "system_config"
            },
            {
                "database": "system_data"
            }
        ]
    },
    "language": "javascript",
    "views": {
        "conflicts": {
            "map": "function(doc) { if(doc._conflicts) { emit(doc._conflicts, null); } }"
        },
        "listing_by_ctime": {
            "map": "function(doc) { if(doc.pvt_deleted) return; emit(doc.pvt_created, null); }"
        },
        "listing_by_mtime": {
            "map": "function(doc) { if(doc.pvt_deleted) return; emit(doc.pvt_modified, null); }"
        },
        "listing_by_type": {
            "map": "function(doc) { if(!doc.pvt_deleted) { if (doc.pvt_type == 'user') emit(doc.pvt_type, {'name': doc.first_name + ' ' + doc.last_name}); else if (doc.pvt_type == 'callflow') emit(doc.pvt_type, {'numbers': doc.numbers, 'patterns': doc.patterns}); else emit(doc.pvt_type, {'name': doc.name}); } }"
        },
        "soft_deletes": {
            "map": "function(doc) { if(doc.pvt_deleted) { emit(doc.pvt_type, null); } }"
        }
    }
}
